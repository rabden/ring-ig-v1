const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-DStOYhx9.js","assets/vendor-DskCZLIV.js"])))=>i.map(i=>d[i]);
var O0=Object.defineProperty;var Eu=e=>{throw TypeError(e)};var M0=(e,t,r)=>t in e?O0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ro=(e,t,r)=>M0(e,typeof t!="symbol"?t+"":t,r),no=(e,t,r)=>t.has(e)||Eu("Cannot "+r);var j=(e,t,r)=>(no(e,t,"read from private field"),r?r.call(e):t.get(e)),te=(e,t,r)=>t.has(e)?Eu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),H=(e,t,r,n)=>(no(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ue=(e,t,r)=>(no(e,t,"access private method"),r);var wi=(e,t,r,n)=>({set _(s){H(e,t,s,r)},get _(){return j(e,t,n)}});import{i as I0,r as p,j as o,k as E,l as L0,m as F0,n as Et,o as _t,p as We,q as mf,f as Ge,c as ns,s as pf,t as gf,v as ma,w as Fl,x as $0,I as V0,b as Be,y as Vr,u as $t,z as U0,A as pa,B as $l,E as yf,F as vf,S as q0,G as bf,H as xf,J as B0,K as z0,L as H0,M as W0,N as G0,g as en,h as K0,O as ti,C as ri,T as wf,e as Vl,d as ni,D as si,R as Ul,P as ql,Q as _f,U as jf,V as Y0,X as kf,Y as Sf,Z as Cf,_ as Pf,$ as Nf,a0 as Tf,a1 as Ef,a2 as Q0,a3 as X0,a4 as Bl,a5 as J0,a6 as Af,a7 as Z0,a8 as ev,a9 as sr,aa as zl}from"./vendor-DskCZLIV.js";import{u as tv,O as Rf,C as Df,T as Of,D as Mf,A as If,a as Lf,P as rv,R as nv,b as Ff,I as $f,F as Vf}from"./ui-BOmFpcUh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fo={},Au=I0;Fo.createRoot=Au.createRoot,Fo.hydrateRoot=Au.hydrateRoot;var ss=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hn=typeof window>"u"||"Deno"in globalThis;function Tt(){}function sv(e,t){return typeof e=="function"?e(t):e}function $o(e){return typeof e=="number"&&e>=0&&e!==1/0}function Uf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function An(e,t){return typeof e=="function"?e(t):e}function Lt(e,t){return typeof e=="function"?e(t):e}function Ru(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Hl(a,t.options))return!1}else if(!Vs(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Du(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(fn(t.options.mutationKey)!==fn(i))return!1}else if(!Vs(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Hl(e,t){return((t==null?void 0:t.queryKeyHashFn)||fn)(e)}function fn(e){return JSON.stringify(e,(t,r)=>Vo(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Vs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Vs(e[r],t[r])):!1}function qf(e,t){if(e===t)return e;const r=Ou(e)&&Ou(t);if(r||Vo(e)&&Vo(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=qf(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function zi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ou(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vo(e){if(!Mu(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mu(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mu(e){return Object.prototype.toString.call(e)==="[object Object]"}function iv(e){return new Promise(t=>{setTimeout(t,e)})}function Uo(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?qf(e,t):t}function av(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ov(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Wl=Symbol();function Bf(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wl?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var nn,Pr,On,nf,lv=(nf=class extends ss{constructor(){super();te(this,nn);te(this,Pr);te(this,On);H(this,On,t=>{if(!hn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){j(this,Pr)||this.setEventListener(j(this,On))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Pr))==null||t.call(this),H(this,Pr,void 0))}setEventListener(t){var r;H(this,On,t),(r=j(this,Pr))==null||r.call(this),H(this,Pr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){j(this,nn)!==t&&(H(this,nn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof j(this,nn)=="boolean"?j(this,nn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nn=new WeakMap,Pr=new WeakMap,On=new WeakMap,nf),Gl=new lv,Mn,Nr,In,sf,cv=(sf=class extends ss{constructor(){super();te(this,Mn,!0);te(this,Nr);te(this,In);H(this,In,t=>{if(!hn&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){j(this,Nr)||this.setEventListener(j(this,In))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Nr))==null||t.call(this),H(this,Nr,void 0))}setEventListener(t){var r;H(this,In,t),(r=j(this,Nr))==null||r.call(this),H(this,Nr,t(this.setOnline.bind(this)))}setOnline(t){j(this,Mn)!==t&&(H(this,Mn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return j(this,Mn)}},Mn=new WeakMap,Nr=new WeakMap,In=new WeakMap,sf),Hi=new cv;function qo(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function uv(e){return Math.min(1e3*2**e,3e4)}function zf(e){return(e??"online")==="online"?Hi.isOnline():!0}var Hf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function so(e){return e instanceof Hf}function Wf(e){let t=!1,r=0,n=!1,s;const i=qo(),a=y=>{var b;n||(f(new Hf(y)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Gl.isFocused()&&(e.networkMode==="always"||Hi.isOnline())&&e.canRun(),d=()=>zf(e.networkMode)&&e.canRun(),h=y=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,y),s==null||s(),i.resolve(y))},f=y=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var b;s=v=>{(n||u())&&y(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(n)return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var T;if(n)return;const w=e.retry??(hn?0:3),x=e.retryDelay??uv,_=typeof x=="function"?x(r,v):x,C=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,v);if(t||!C){f(v);return}r++,(T=e.onFail)==null||T.call(e,r,v),iv(_).then(()=>u()?void 0:m()).then(()=>{t?f(v):g()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}function dv(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ye=dv(),sn,af,Gf=(af=class{constructor(){te(this,sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$o(this.gcTime)&&H(this,sn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hn?1/0:5*60*1e3))}clearGcTimeout(){j(this,sn)&&(clearTimeout(j(this,sn)),H(this,sn,void 0))}},sn=new WeakMap,af),Ln,Fn,Nt,et,Xs,an,Mt,ar,of,hv=(of=class extends Gf{constructor(t){super();te(this,Mt);te(this,Ln);te(this,Fn);te(this,Nt);te(this,et);te(this,Xs);te(this,an);H(this,an,!1),H(this,Xs,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Nt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,Ln,fv(this.options)),this.state=t.state??j(this,Ln),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,et))==null?void 0:t.promise}setOptions(t){this.options={...j(this,Xs),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Nt).remove(this)}setData(t,r){const n=Uo(this.state.data,t,this.options);return ue(this,Mt,ar).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,Mt,ar).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=j(this,et))==null?void 0:n.promise;return(s=j(this,et))==null||s.cancel(t),r?r.then(Tt).catch(Tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Ln))}isActive(){return this.observers.some(t=>Lt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Uf(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,et))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,et))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,Nt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(j(this,et)&&(j(this,an)?j(this,et).cancel({revert:!0}):j(this,et).cancelRetry()),this.scheduleGc()),j(this,Nt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,Mt,ar).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,et))return j(this,et).continueRetry(),j(this,et).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(H(this,an,!0),n.signal)})},i=()=>{const h=Bf(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),H(this,an,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),H(this,Fn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ue(this,Mt,ar).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,g,y;so(h)&&h.silent||ue(this,Mt,ar).call(this,{type:"error",error:h}),so(h)||((m=(f=j(this,Nt).config).onError)==null||m.call(f,h,this),(y=(g=j(this,Nt).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return H(this,et,Wf({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,g,y;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(m=(f=j(this,Nt).config).onSuccess)==null||m.call(f,h,this),(y=(g=j(this,Nt).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{ue(this,Mt,ar).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{ue(this,Mt,ar).call(this,{type:"pause"})},onContinue:()=>{ue(this,Mt,ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),j(this,et).start()}},Ln=new WeakMap,Fn=new WeakMap,Nt=new WeakMap,et=new WeakMap,Xs=new WeakMap,an=new WeakMap,Mt=new WeakSet,ar=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Kf(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return so(s)&&s.revert&&j(this,Fn)?{...j(this,Fn),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ye.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),j(this,Nt).notify({query:this,type:"updated",action:t})})},of);function Kf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wt,lf,mv=(lf=class extends ss{constructor(t={}){super();te(this,Wt);this.config=t,H(this,Wt,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Hl(s,r);let a=this.get(i);return a||(a=new hv({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){j(this,Wt).has(t.queryHash)||(j(this,Wt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=j(this,Wt).get(t.queryHash);r&&(t.destroy(),r===t&&j(this,Wt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Wt).get(t)}getAll(){return[...j(this,Wt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ru(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ru(t,n)):r}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wt=new WeakMap,lf),Gt,lt,on,Kt,wr,cf,pv=(cf=class extends Gf{constructor(t){super();te(this,Kt);te(this,Gt);te(this,lt);te(this,on);this.mutationId=t.mutationId,H(this,lt,t.mutationCache),H(this,Gt,[]),this.state=t.state||Yf(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Gt).includes(t)||(j(this,Gt).push(t),this.clearGcTimeout(),j(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,Gt,j(this,Gt).filter(r=>r!==t)),this.scheduleGc(),j(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Gt).length||(this.state.status==="pending"?this.scheduleGc():j(this,lt).remove(this))}continue(){var t;return((t=j(this,on))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,d,h,f,m,g,y,b,v,w,x,_,C,T,N;H(this,on,Wf({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{ue(this,Kt,wr).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{ue(this,Kt,wr).call(this,{type:"pause"})},onContinue:()=>{ue(this,Kt,wr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,lt).canRun(this)}));const r=this.state.status==="pending",n=!j(this,on).canStart();try{if(!r){ue(this,Kt,wr).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=j(this,lt).config).onMutate)==null?void 0:i.call(s,t,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));P!==this.state.context&&ue(this,Kt,wr).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const S=await j(this,on).start();return await((u=(c=j(this,lt).config).onSuccess)==null?void 0:u.call(c,S,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,S,t,this.state.context)),await((m=(f=j(this,lt).config).onSettled)==null?void 0:m.call(f,S,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,S,null,t,this.state.context)),ue(this,Kt,wr).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(b=j(this,lt).config).onError)==null?void 0:v.call(b,S,t,this.state.context,this)),await((x=(w=this.options).onError)==null?void 0:x.call(w,S,t,this.state.context)),await((C=(_=j(this,lt).config).onSettled)==null?void 0:C.call(_,void 0,S,this.state.variables,this.state.context,this)),await((N=(T=this.options).onSettled)==null?void 0:N.call(T,void 0,S,t,this.state.context)),S}finally{ue(this,Kt,wr).call(this,{type:"error",error:S})}}finally{j(this,lt).runNext(this)}}},Gt=new WeakMap,lt=new WeakMap,on=new WeakMap,Kt=new WeakSet,wr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ye.batch(()=>{j(this,Gt).forEach(n=>{n.onMutationUpdate(t)}),j(this,lt).notify({mutation:this,type:"updated",action:t})})},cf);function Yf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vt,Js,uf,gv=(uf=class extends ss{constructor(t={}){super();te(this,vt);te(this,Js);this.config=t,H(this,vt,new Map),H(this,Js,Date.now())}build(t,r,n){const s=new pv({mutationCache:this,mutationId:++wi(this,Js)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=_i(t),n=j(this,vt).get(r)??[];n.push(t),j(this,vt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=_i(t);if(j(this,vt).has(r)){const s=(n=j(this,vt).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?j(this,vt).delete(r):j(this,vt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=j(this,vt).get(_i(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=j(this,vt).get(_i(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...j(this,vt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Du(r,n))}findAll(t={}){return this.getAll().filter(r=>Du(t,r))}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ye.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tt))))}},vt=new WeakMap,Js=new WeakMap,uf);function _i(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wi(e){return{onFetch:(t,r)=>{var d,h,f,m,g;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=Bf(t.options,t.fetchOptions),w=async(x,_,C)=>{if(y)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const T={queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};b(T);const N=await v(T),{maxPages:S}=t.options,P=C?ov:av;return{pages:P(x.pages,N,S),pageParams:P(x.pageParams,_,S)}};if(s&&i.length){const x=s==="backward",_=x?Qf:Bo,C={pages:i,pageParams:a},T=_(n,C);l=await w(C,T,x)}else{const x=e??i.length;do{const _=c===0?a[0]??n.initialPageParam:Bo(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Bo(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Qf(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}function yv(e,t){return t?Bo(e,t)!=null:!1}function vv(e,t){return!t||!e.getPreviousPageParam?!1:Qf(e,t)!=null}var Ue,Tr,Er,$n,Vn,Ar,Un,qn,df,bv=(df=class{constructor(e={}){te(this,Ue);te(this,Tr);te(this,Er);te(this,$n);te(this,Vn);te(this,Ar);te(this,Un);te(this,qn);H(this,Ue,e.queryCache||new mv),H(this,Tr,e.mutationCache||new gv),H(this,Er,e.defaultOptions||{}),H(this,$n,new Map),H(this,Vn,new Map),H(this,Ar,0)}mount(){wi(this,Ar)._++,j(this,Ar)===1&&(H(this,Un,Gl.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Ue).onFocus())})),H(this,qn,Hi.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,Ue).onOnline())})))}unmount(){var e,t;wi(this,Ar)._--,j(this,Ar)===0&&((e=j(this,Un))==null||e.call(this),H(this,Un,void 0),(t=j(this,qn))==null||t.call(this),H(this,qn,void 0))}isFetching(e){return j(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,Tr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=j(this,Ue).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=j(this,Ue).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(An(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return j(this,Ue).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=j(this,Ue).get(n.queryHash),i=s==null?void 0:s.state.data,a=sv(t,i);if(a!==void 0)return j(this,Ue).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Ye.batch(()=>j(this,Ue).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=j(this,Ue).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=j(this,Ue);Ye.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=j(this,Ue),n={type:"active",...e};return Ye.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ye.batch(()=>j(this,Ue).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Tt).catch(Tt)}invalidateQueries(e,t={}){return Ye.batch(()=>{if(j(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ye.batch(()=>j(this,Ue).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Tt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=j(this,Ue).build(this,t);return r.isStaleByTime(An(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tt).catch(Tt)}fetchInfiniteQuery(e){return e.behavior=Wi(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tt).catch(Tt)}ensureInfiniteQueryData(e){return e.behavior=Wi(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hi.isOnline()?j(this,Tr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Ue)}getMutationCache(){return j(this,Tr)}getDefaultOptions(){return j(this,Er)}setDefaultOptions(e){H(this,Er,e)}setQueryDefaults(e,t){j(this,$n).set(fn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,$n).values()],r={};return t.forEach(n=>{Vs(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){j(this,Vn).set(fn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Vn).values()];let r={};return t.forEach(n=>{Vs(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,Er).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hl(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wl&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,Er).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,Ue).clear(),j(this,Tr).clear()}},Ue=new WeakMap,Tr=new WeakMap,Er=new WeakMap,$n=new WeakMap,Vn=new WeakMap,Ar=new WeakMap,Un=new WeakMap,qn=new WeakMap,df),ft,fe,Zs,ct,ln,Bn,Rr,Yt,ei,zn,Hn,cn,un,Dr,Wn,xe,Cs,zo,Ho,Wo,Go,Ko,Yo,Qo,Jf,hf,Xf=(hf=class extends ss{constructor(t,r){super();te(this,xe);te(this,ft);te(this,fe);te(this,Zs);te(this,ct);te(this,ln);te(this,Bn);te(this,Rr);te(this,Yt);te(this,ei);te(this,zn);te(this,Hn);te(this,cn);te(this,un);te(this,Dr);te(this,Wn,new Set);this.options=r,H(this,ft,t),H(this,Yt,null),H(this,Rr,qo()),this.options.experimental_prefetchInRender||j(this,Rr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,fe).addObserver(this),Iu(j(this,fe),this.options)?ue(this,xe,Cs).call(this):this.updateResult(),ue(this,xe,Go).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xo(j(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xo(j(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,xe,Ko).call(this),ue(this,xe,Yo).call(this),j(this,fe).removeObserver(this)}setOptions(t,r){const n=this.options,s=j(this,fe);if(this.options=j(this,ft).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lt(this.options.enabled,j(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,xe,Qo).call(this),j(this,fe).setOptions(this.options),n._defaulted&&!zi(this.options,n)&&j(this,ft).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,fe),observer:this});const i=this.hasListeners();i&&Lu(j(this,fe),s,this.options,n)&&ue(this,xe,Cs).call(this),this.updateResult(r),i&&(j(this,fe)!==s||Lt(this.options.enabled,j(this,fe))!==Lt(n.enabled,j(this,fe))||An(this.options.staleTime,j(this,fe))!==An(n.staleTime,j(this,fe)))&&ue(this,xe,zo).call(this);const a=ue(this,xe,Ho).call(this);i&&(j(this,fe)!==s||Lt(this.options.enabled,j(this,fe))!==Lt(n.enabled,j(this,fe))||a!==j(this,Dr))&&ue(this,xe,Wo).call(this,a)}getOptimisticResult(t){const r=j(this,ft).getQueryCache().build(j(this,ft),t),n=this.createResult(r,t);return wv(this,n)&&(H(this,ct,n),H(this,Bn,this.options),H(this,ln,j(this,fe).state)),n}getCurrentResult(){return j(this,ct)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){j(this,Wn).add(t)}getCurrentQuery(){return j(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=j(this,ft).defaultQueryOptions(t),n=j(this,ft).getQueryCache().build(j(this,ft),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,xe,Cs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,ct)))}createResult(t,r){var S;const n=j(this,fe),s=this.options,i=j(this,ct),a=j(this,ln),l=j(this,Bn),u=t!==n?t.state:j(this,Zs),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const P=this.hasListeners(),R=!P&&Iu(t,r),A=P&&Lu(t,n,r,s);(R||A)&&(h={...h,...Kf(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:b}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(a==null?void 0:a.data)&&r.select===j(this,ei))m=j(this,zn);else try{H(this,ei,r.select),m=r.select(h.data),m=Uo(i==null?void 0:i.data,m,r),H(this,zn,m),H(this,Yt,null)}catch(P){H(this,Yt,P)}else m=h.data;if(r.placeholderData!==void 0&&m===void 0&&b==="pending"){let P;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=i.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((S=j(this,Hn))==null?void 0:S.state.data,j(this,Hn)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),H(this,Yt,null)}catch(R){H(this,Yt,R)}P!==void 0&&(b="success",m=Uo(i==null?void 0:i.data,P,r),f=!0)}j(this,Yt)&&(g=j(this,Yt),m=j(this,zn),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",w=b==="pending",x=b==="error",_=w&&v,C=m!==void 0,N={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:x,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:x&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&C,isStale:Kl(t,r),refetch:this.refetch,promise:j(this,Rr)};if(this.options.experimental_prefetchInRender){const P=D=>{N.status==="error"?D.reject(N.error):N.data!==void 0&&D.resolve(N.data)},R=()=>{const D=H(this,Rr,N.promise=qo());P(D)},A=j(this,Rr);switch(A.status){case"pending":t.queryHash===n.queryHash&&P(A);break;case"fulfilled":(N.status==="error"||N.data!==A.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==A.reason)&&R();break}}return N}updateResult(t){const r=j(this,ct),n=this.createResult(j(this,fe),this.options);if(H(this,ln,j(this,fe).state),H(this,Bn,this.options),j(this,ln).data!==void 0&&H(this,Hn,j(this,fe)),zi(n,r))return;H(this,ct,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!j(this,Wn).size)return!0;const c=new Set(l??j(this,Wn));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,ct)).some(u=>{const d=u;return j(this,ct)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),ue(this,xe,Jf).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,xe,Go).call(this)}},ft=new WeakMap,fe=new WeakMap,Zs=new WeakMap,ct=new WeakMap,ln=new WeakMap,Bn=new WeakMap,Rr=new WeakMap,Yt=new WeakMap,ei=new WeakMap,zn=new WeakMap,Hn=new WeakMap,cn=new WeakMap,un=new WeakMap,Dr=new WeakMap,Wn=new WeakMap,xe=new WeakSet,Cs=function(t){ue(this,xe,Qo).call(this);let r=j(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tt)),r},zo=function(){ue(this,xe,Ko).call(this);const t=An(this.options.staleTime,j(this,fe));if(hn||j(this,ct).isStale||!$o(t))return;const n=Uf(j(this,ct).dataUpdatedAt,t)+1;H(this,cn,setTimeout(()=>{j(this,ct).isStale||this.updateResult()},n))},Ho=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,fe)):this.options.refetchInterval)??!1},Wo=function(t){ue(this,xe,Yo).call(this),H(this,Dr,t),!(hn||Lt(this.options.enabled,j(this,fe))===!1||!$o(j(this,Dr))||j(this,Dr)===0)&&H(this,un,setInterval(()=>{(this.options.refetchIntervalInBackground||Gl.isFocused())&&ue(this,xe,Cs).call(this)},j(this,Dr)))},Go=function(){ue(this,xe,zo).call(this),ue(this,xe,Wo).call(this,ue(this,xe,Ho).call(this))},Ko=function(){j(this,cn)&&(clearTimeout(j(this,cn)),H(this,cn,void 0))},Yo=function(){j(this,un)&&(clearInterval(j(this,un)),H(this,un,void 0))},Qo=function(){const t=j(this,ft).getQueryCache().build(j(this,ft),this.options);if(t===j(this,fe))return;const r=j(this,fe);H(this,fe,t),H(this,Zs,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Jf=function(t){Ye.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(j(this,ct))}),j(this,ft).getQueryCache().notify({query:j(this,fe),type:"observerResultsUpdated"})})},hf);function xv(e,t){return Lt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Iu(e,t){return xv(e,t)||e.state.data!==void 0&&Xo(e,t,t.refetchOnMount)}function Xo(e,t,r){if(Lt(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Kl(e,t)}return!1}function Lu(e,t,r,n){return(e!==t||Lt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Kl(e,r)}function Kl(e,t){return Lt(t.enabled,e)!==!1&&e.isStaleByTime(An(t.staleTime,e))}function wv(e,t){return!zi(e.getCurrentResult(),t)}var _v=class extends Xf{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:Wi()},t)}getOptimisticResult(e){return e.behavior=Wi(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var g,y;const{state:r}=e,n=super.createResult(e,t),{isFetching:s,isRefetching:i,isError:a,isRefetchError:l}=n,c=(y=(g=r.fetchMeta)==null?void 0:g.fetchMore)==null?void 0:y.direction,u=a&&c==="forward",d=s&&c==="forward",h=a&&c==="backward",f=s&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:yv(t,r.data),hasPreviousPage:vv(t,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:f,isRefetchError:l&&!u&&!h,isRefetching:i&&!d&&!f}}},Or,Mr,mt,lr,dr,Fi,Jo,ff,jv=(ff=class extends ss{constructor(r,n){super();te(this,dr);te(this,Or);te(this,Mr);te(this,mt);te(this,lr);H(this,Or,r),this.setOptions(n),this.bindMethods(),ue(this,dr,Fi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=j(this,Or).defaultMutationOptions(r),zi(this.options,n)||j(this,Or).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,mt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&fn(n.mutationKey)!==fn(this.options.mutationKey)?this.reset():((s=j(this,mt))==null?void 0:s.state.status)==="pending"&&j(this,mt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=j(this,mt))==null||r.removeObserver(this)}onMutationUpdate(r){ue(this,dr,Fi).call(this),ue(this,dr,Jo).call(this,r)}getCurrentResult(){return j(this,Mr)}reset(){var r;(r=j(this,mt))==null||r.removeObserver(this),H(this,mt,void 0),ue(this,dr,Fi).call(this),ue(this,dr,Jo).call(this)}mutate(r,n){var s;return H(this,lr,n),(s=j(this,mt))==null||s.removeObserver(this),H(this,mt,j(this,Or).getMutationCache().build(j(this,Or),this.options)),j(this,mt).addObserver(this),j(this,mt).execute(r)}},Or=new WeakMap,Mr=new WeakMap,mt=new WeakMap,lr=new WeakMap,dr=new WeakSet,Fi=function(){var n;const r=((n=j(this,mt))==null?void 0:n.state)??Yf();H(this,Mr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Jo=function(r){Ye.batch(()=>{var n,s,i,a,l,c,u,d;if(j(this,lr)&&this.hasListeners()){const h=j(this,Mr).variables,f=j(this,Mr).context;(r==null?void 0:r.type)==="success"?((s=(n=j(this,lr)).onSuccess)==null||s.call(n,r.data,h,f),(a=(i=j(this,lr)).onSettled)==null||a.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=j(this,lr)).onError)==null||c.call(l,r.error,h,f),(d=(u=j(this,lr)).onSettled)==null||d.call(u,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(j(this,Mr))})})},ff),Zf=p.createContext(void 0),dt=e=>{const t=p.useContext(Zf);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kv=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Zf.Provider,{value:e,children:t})),em=p.createContext(!1),Sv=()=>p.useContext(em);em.Provider;function Cv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pv=p.createContext(Cv()),Nv=()=>p.useContext(Pv);function tm(e,t){return typeof e=="function"?e(...t):!!e}function Zo(){}var Tv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ev=e=>{p.useEffect(()=>{e.clearReset()},[e])},Av=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&tm(r,[e.error,n]),Rv=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Dv=(e,t)=>e.isLoading&&e.isFetching&&!t,Ov=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fu=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rm(e,t,r){var d,h,f,m,g;const n=dt(),s=Sv(),i=Nv(),a=n.defaultQueryOptions(e);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",Rv(a),Tv(a,i),Ev(i);const l=!n.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(n,a)),u=c.getOptimisticResult(a);if(p.useSyncExternalStore(p.useCallback(y=>{const b=s?Zo:c.subscribe(Ye.batchCalls(y));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),Ov(a,u))throw Fu(a,c,i);if(Av({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw u.error;if((m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,a,u),a.experimental_prefetchInRender&&!hn&&Dv(u,s)){const y=l?Fu(a,c,i):(g=n.getQueryCache().get(a.queryHash))==null?void 0:g.promise;y==null||y.catch(Zo).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ee(e,t){return rm(e,Xf)}function Gn(e,t){const r=dt(),[n]=p.useState(()=>new jv(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const s=p.useSyncExternalStore(p.useCallback(a=>n.subscribe(Ye.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((a,l)=>{n.mutate(a,l).catch(Zo)},[n]);if(s.error&&tm(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Mv(e,t){return rm(e,_v)}const Iv=p.createContext();function Lv({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=p.useState(()=>localStorage.getItem(r)||t);p.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),n==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(n)},[n]);const i={theme:n,setTheme:a=>{localStorage.setItem(r,a),s(a)}};return o.jsx(Iv.Provider,{value:i,children:e})}var Fv=e=>{switch(e){case"success":return Uv;case"info":return Bv;case"warning":return qv;case"error":return zv;default:return null}},$v=Array(12).fill(0),Vv=({visible:e,className:t})=>E.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},E.createElement("div",{className:"sonner-spinner"},$v.map((r,n)=>E.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Uv=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qv=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bv=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zv=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Hv=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},E.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Wv=()=>{let[e,t]=E.useState(document.hidden);return E.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},el=1,Gv=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:el++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,a=n.then(async c=>{if(i=["resolve",c],E.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Yv(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||el++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},bt=new Gv,Kv=(e,t)=>{let r=(t==null?void 0:t.id)||el++;return bt.addToast({title:e,...t,id:r}),r},Yv=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Qv=Kv,Xv=()=>bt.toasts,Y=Object.assign(Qv,{success:bt.success,info:bt.info,warning:bt.warning,error:bt.error,custom:bt.custom,message:bt.message,promise:bt.promise,dismiss:bt.dismiss,loading:bt.loading},{getHistory:Xv});function Jv(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Jv(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ji(e){return e.label!==void 0}var Zv=3,eb="32px",$u=4e3,tb=356,rb=14,nb=20,sb=200;function ib(...e){return e.filter(Boolean).join(" ")}var ab=e=>{var t,r,n,s,i,a,l,c,u,d,h;let{invert:f,toast:m,unstyled:g,interacting:y,setHeights:b,visibleToasts:v,heights:w,index:x,toasts:_,expanded:C,removeToast:T,defaultRichColors:N,closeButton:S,style:P,cancelButtonStyle:R,actionButtonStyle:A,className:D="",descriptionClassName:O="",duration:M,position:V,gap:$,loadingIcon:I,expandByDefault:W,classNames:F,icons:X,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:ee,cn:G}=e,[ne,pe]=E.useState(!1),[we,J]=E.useState(!1),[se,Pe]=E.useState(!1),[Se,oe]=E.useState(!1),[z,ce]=E.useState(!1),[q,ve]=E.useState(0),[ye,ge]=E.useState(0),$e=E.useRef(m.duration||M||$u),at=E.useRef(null),Oe=E.useRef(null),jt=x===0,er=x+1<=v,Me=m.type,Ve=m.dismissible!==!1,tr=m.className||"",zr=m.descriptionClassName||"",kt=E.useMemo(()=>w.findIndex(U=>U.toastId===m.id)||0,[w,m.id]),qt=E.useMemo(()=>{var U;return(U=m.closeButton)!=null?U:S},[m.closeButton,S]);E.useMemo(()=>m.duration||M||$u,[m.duration,M]);let Dt=E.useRef(0),Qe=E.useRef(0),Bt=E.useRef(0),Ze=E.useRef(null),[St,Hr]=V.split("-"),rr=E.useMemo(()=>w.reduce((U,K,ie)=>ie>=kt?U:U+K.height,0),[w,kt]),nr=Wv(),pr=m.invert||f,Ae=Me==="loading";Qe.current=E.useMemo(()=>kt*$+rr,[kt,rr]),E.useEffect(()=>{pe(!0)},[]),E.useEffect(()=>{let U=Oe.current;if(U){let K=U.getBoundingClientRect().height;return ge(K),b(ie=>[{toastId:m.id,height:K,position:m.position},...ie]),()=>b(ie=>ie.filter(Ce=>Ce.toastId!==m.id))}},[b,m.id]),E.useLayoutEffect(()=>{if(!ne)return;let U=Oe.current,K=U.style.height;U.style.height="auto";let ie=U.getBoundingClientRect().height;U.style.height=K,ge(ie),b(Ce=>Ce.find(_e=>_e.toastId===m.id)?Ce.map(_e=>_e.toastId===m.id?{..._e,height:ie}:_e):[{toastId:m.id,height:ie,position:m.position},...Ce])},[ne,m.title,m.description,b,m.id]);let B=E.useCallback(()=>{J(!0),ve(Qe.current),b(U=>U.filter(K=>K.toastId!==m.id)),setTimeout(()=>{T(m)},sb)},[m,T,b,Qe]);E.useEffect(()=>{if(m.promise&&Me==="loading"||m.duration===1/0||m.type==="loading")return;let U;return C||y||ee&&nr?(()=>{if(Bt.current<Dt.current){let K=new Date().getTime()-Dt.current;$e.current=$e.current-K}Bt.current=new Date().getTime()})():$e.current!==1/0&&(Dt.current=new Date().getTime(),U=setTimeout(()=>{var K;(K=m.onAutoClose)==null||K.call(m,m),B()},$e.current)),()=>clearTimeout(U)},[C,y,m,Me,ee,nr,B]),E.useEffect(()=>{m.delete&&B()},[B,m.delete]);function he(){var U,K,ie;return X!=null&&X.loading?E.createElement("div",{className:G(F==null?void 0:F.loader,(U=m==null?void 0:m.classNames)==null?void 0:U.loader,"sonner-loader"),"data-visible":Me==="loading"},X.loading):I?E.createElement("div",{className:G(F==null?void 0:F.loader,(K=m==null?void 0:m.classNames)==null?void 0:K.loader,"sonner-loader"),"data-visible":Me==="loading"},I):E.createElement(Vv,{className:G(F==null?void 0:F.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader),visible:Me==="loading"})}return E.createElement("li",{tabIndex:0,ref:Oe,className:G(D,tr,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Me],(r=m==null?void 0:m.classNames)==null?void 0:r[Me]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ne,"data-promise":!!m.promise,"data-swiped":z,"data-removed":we,"data-visible":er,"data-y-position":St,"data-x-position":Hr,"data-index":x,"data-front":jt,"data-swiping":se,"data-dismissible":Ve,"data-type":Me,"data-invert":pr,"data-swipe-out":Se,"data-expanded":!!(C||W&&ne),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${we?q:Qe.current}px`,"--initial-height":W?"auto":`${ye}px`,...P,...m.style},onPointerDown:U=>{Ae||!Ve||(at.current=new Date,ve(Qe.current),U.target.setPointerCapture(U.pointerId),U.target.tagName!=="BUTTON"&&(Pe(!0),Ze.current={x:U.clientX,y:U.clientY}))},onPointerUp:()=>{var U,K,ie,Ce;if(Se||!Ve)return;Ze.current=null;let _e=Number(((U=Oe.current)==null?void 0:U.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ot=new Date().getTime()-((K=at.current)==null?void 0:K.getTime()),gt=Math.abs(_e)/ot;if(Math.abs(_e)>=nb||gt>.11){ve(Qe.current),(ie=m.onDismiss)==null||ie.call(m,m),B(),oe(!0),ce(!1);return}(Ce=Oe.current)==null||Ce.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:U=>{var K,ie;if(!Ze.current||!Ve)return;let Ce=U.clientY-Ze.current.y,_e=((K=window.getSelection())==null?void 0:K.toString().length)>0,ot=St==="top"?Math.min(0,Ce):Math.max(0,Ce);Math.abs(ot)>0&&ce(!0),!_e&&((ie=Oe.current)==null||ie.style.setProperty("--swipe-amount",`${ot}px`))}},qt&&!m.jsx?E.createElement("button",{"aria-label":Z,"data-disabled":Ae,"data-close-button":!0,onClick:Ae||!Ve?()=>{}:()=>{var U;B(),(U=m.onDismiss)==null||U.call(m,m)},className:G(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=X==null?void 0:X.close)!=null?i:Hv):null,m.jsx||E.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:E.createElement(E.Fragment,null,Me||m.icon||m.promise?E.createElement("div",{"data-icon":"",className:G(F==null?void 0:F.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||he():null,m.type!=="loading"?m.icon||(X==null?void 0:X[Me])||Fv(Me):null):null,E.createElement("div",{"data-content":"",className:G(F==null?void 0:F.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},E.createElement("div",{"data-title":"",className:G(F==null?void 0:F.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?E.createElement("div",{"data-description":"",className:G(O,zr,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),E.isValidElement(m.cancel)?m.cancel:m.cancel&&ji(m.cancel)?E.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:U=>{var K,ie;ji(m.cancel)&&Ve&&((ie=(K=m.cancel).onClick)==null||ie.call(K,U),B())},className:G(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,E.isValidElement(m.action)?m.action:m.action&&ji(m.action)?E.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:U=>{var K,ie;ji(m.action)&&((ie=(K=m.action).onClick)==null||ie.call(K,U),!U.defaultPrevented&&B())},className:G(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Vu(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var nm=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:m=Zv,toastOptions:g,dir:y=Vu(),gap:b=rb,loadingIcon:v,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:_,cn:C=ib}=e,[T,N]=E.useState([]),S=E.useMemo(()=>Array.from(new Set([n].concat(T.filter(ee=>ee.position).map(ee=>ee.position)))),[T,n]),[P,R]=E.useState([]),[A,D]=E.useState(!1),[O,M]=E.useState(!1),[V,$]=E.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=E.useRef(null),W=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=E.useRef(null),X=E.useRef(!1),Z=E.useCallback(ee=>{N(G=>{var ne;return(ne=G.find(pe=>pe.id===ee.id))!=null&&ne.delete||bt.dismiss(ee.id),G.filter(({id:pe})=>pe!==ee.id)})},[]);return E.useEffect(()=>bt.subscribe(ee=>{if(ee.dismiss){N(G=>G.map(ne=>ne.id===ee.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{L0.flushSync(()=>{N(G=>{let ne=G.findIndex(pe=>pe.id===ee.id);return ne!==-1?[...G.slice(0,ne),{...G[ne],...ee},...G.slice(ne+1)]:[ee,...G]})})})}),[]),E.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:G})=>{$(G?"dark":"light")})}catch{ee.addListener(({matches:ne})=>{try{$(ne?"dark":"light")}catch(pe){console.error(pe)}})}},[u]),E.useEffect(()=>{T.length<=1&&D(!1)},[T]),E.useEffect(()=>{let ee=G=>{var ne,pe;s.every(we=>G[we]||G.code===we)&&(D(!0),(ne=I.current)==null||ne.focus()),G.code==="Escape"&&(document.activeElement===I.current||(pe=I.current)!=null&&pe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),E.useEffect(()=>{if(I.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,X.current=!1)}},[I.current]),E.createElement("section",{"aria-label":`${x} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},S.map((ee,G)=>{var ne;let[pe,we]=ee.split("-");return T.length?E.createElement("ol",{key:ee,dir:y==="auto"?Vu():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":pe,"data-lifted":A&&T.length>1&&!i,"data-x-position":we,style:{"--front-toast-height":`${((ne=P[0])==null?void 0:ne.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||eb,"--width":`${tb}px`,"--gap":`${b}px`,...f},onBlur:J=>{X.current&&!J.currentTarget.contains(J.relatedTarget)&&(X.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||X.current||(X.current=!0,F.current=J.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},T.filter(J=>!J.position&&G===0||J.position===ee).map((J,se)=>{var Pe,Se;return E.createElement(ab,{key:J.id,icons:w,index:se,toast:J,defaultRichColors:d,duration:(Pe=g==null?void 0:g.duration)!=null?Pe:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:(Se=g==null?void 0:g.closeButton)!=null?Se:a,interacting:O,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:T.filter(oe=>oe.position==J.position),heights:P.filter(oe=>oe.position==J.position),setHeights:R,expandByDefault:i,gap:b,loadingIcon:v,expanded:A,pauseWhenPageIsHidden:_,cn:C})})):null}))});const ob="modulepreload",lb=function(e){return"/ring1/"+e},Uu={},Kn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=lb(c),c in Uu)return;Uu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ob,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>is);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ub extends Yl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class db extends Yl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hb extends Yl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tl||(tl={}));var fb=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class mb{constructor(t,{headers:r={},customFetch:n,region:s=tl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=cb(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fb(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new ub(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new db(d);if(!d.ok)throw new hb(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var pt={},Ql={},ga={},ii={},ya={},va={},pb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=pb();const gb=Yn.fetch,sm=Yn.fetch.bind(Yn),im=Yn.Headers,yb=Yn.Request,vb=Yn.Response,is=Object.freeze(Object.defineProperty({__proto__:null,Headers:im,Request:yb,Response:vb,default:sm,fetch:gb},Symbol.toStringTag,{value:"Module"})),bb=F0(is);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});let xb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ba.default=xb;var am=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const wb=am(bb),_b=am(ba);let jb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new _b.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};va.default=jb;var kb=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const Sb=kb(va);let Cb=class extends Sb.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ya.default=Cb;var Pb=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ii,"__esModule",{value:!0});const Nb=Pb(ya);let Tb=class extends Nb.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ii.default=Tb;var Eb=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ga,"__esModule",{value:!0});const ms=Eb(ii);let Ab=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new ms.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ms.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ms.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ms.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ms.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ga.default=Ab;var xa={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.version=void 0;wa.version="0.0.0-automated";Object.defineProperty(xa,"__esModule",{value:!0});xa.DEFAULT_HEADERS=void 0;const Rb=wa;xa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rb.version}`};var om=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const Db=om(ga),Ob=om(ii),Mb=xa;let Ib=class lm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Mb.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Db.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new lm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ob.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ql.default=Ib;var as=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const cm=as(Ql);pt.PostgrestClient=cm.default;const um=as(ga);pt.PostgrestQueryBuilder=um.default;const dm=as(ii);pt.PostgrestFilterBuilder=dm.default;const hm=as(ya);pt.PostgrestTransformBuilder=hm.default;const fm=as(va);pt.PostgrestBuilder=fm.default;const mm=as(ba);pt.PostgrestError=mm.default;var Lb=pt.default={PostgrestClient:cm.default,PostgrestQueryBuilder:um.default,PostgrestFilterBuilder:dm.default,PostgrestTransformBuilder:hm.default,PostgrestBuilder:fm.default,PostgrestError:mm.default};const{PostgrestClient:Fb,PostgrestQueryBuilder:eR,PostgrestFilterBuilder:tR,PostgrestTransformBuilder:rR,PostgrestBuilder:nR,PostgrestError:sR}=Lb,$b="2.11.2",Vb={"X-Client-Info":`realtime-js/${$b}`},Ub="1.0.0",pm=1e4,qb=1e3;var Rn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rn||(Rn={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var It;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(It||(It={}));var rl;(function(e){e.websocket="websocket"})(rl||(rl={}));var tn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tn||(tn={}));class Bb{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class gm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const qu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=zb(a,e,t,s),i),{})},zb=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ym(i,a):nl(a)},ym=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Kb(t,r)}switch(e){case Te.bool:return Hb(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return Wb(t);case Te.json:case Te.jsonb:return Gb(t);case Te.timestamp:return Yb(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return nl(t);default:return nl(t)}},nl=e=>e,Hb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kb=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ym(t,l))}return e},Yb=e=>typeof e=="string"?e.replace(" ","T"):e,vm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class io{constructor(t,r,n={},s=pm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bu||(Bu={}));class Rs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Rs.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rs.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),g=d.filter(b=>m.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(l[u]=g),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zu||(zu={}));var Hu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hu||(Hu={}));var or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Xl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,It.join,this.params,this.timeout),this.rejoinTimer=new gm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rs(this),this.broadcastEndpointURL=vm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(or.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(or.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(or.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<m;y++){const b=f[y],{filter:{event:v,schema:w,table:x,filter:_}}=b,C=d&&d[y];if(C&&C.event===v&&C.schema===w&&C.table===x&&C.filter===_)g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),t==null||t(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(or.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new io(this,It.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=It;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,y,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var g,y,b,v,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,C=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:b,commit_timestamp:v,type:w,errors:x}=g;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(It.close,{},t)}_onError(t){this._on(It.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qu(t.columns,t.old_record)),r}}const Qb=()=>{},Xb=typeof WebSocket<"u",Jb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zb{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Vb,this.params={},this.timeout=pm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Qb,this.conn=null,this.sendBuffer=[],this.serializer=new Bb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Kn(async()=>{const{default:c}=await Promise.resolve().then(()=>is);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${rl.websocket}`,this.httpEndpoint=vm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Xb){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ex(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Kn(async()=>{const{default:t}=await import("./browser-DStOYhx9.js").then(r=>r.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ub}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rn.connecting:return tn.Connecting;case Rn.open:return tn.Open;case Rn.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}channel(t,r={config:{}}){const n=new Xl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(It.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(qb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(It.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Jb],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ex{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Jl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tx extends Jl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sl extends Jl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>is);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nx=()=>rx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>is),void 0)).Response:Response}),il=e=>{if(Array.isArray(e))return e.map(r=>il(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=il(n)}),t};var gn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sx=(e,t,r)=>gn(void 0,void 0,void 0,function*(){const n=yield nx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new tx(ao(s),e.status||500))}).catch(s=>{t(new sl(ao(s),s))}):t(new sl(ao(e),e))}),ix=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ai(e,t,r,n,s,i){return gn(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,ix(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>sx(c,l,n))})})}function Gi(e,t,r,n){return gn(this,void 0,void 0,function*(){return ai(e,"GET",t,r,n)})}function Sr(e,t,r,n,s){return gn(this,void 0,void 0,function*(){return ai(e,"POST",t,n,s,r)})}function ax(e,t,r,n,s){return gn(this,void 0,void 0,function*(){return ai(e,"PUT",t,n,s,r)})}function ox(e,t,r,n){return gn(this,void 0,void 0,function*(){return ai(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xm(e,t,r,n,s){return gn(this,void 0,void 0,function*(){return ai(e,"DELETE",t,n,s,r)})}var ht=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=bm(s)}uploadOrUpdate(t,r,n,s){return ht(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Wu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Xe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ht(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Wu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Jl("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}update(t,r,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ht(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ht(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ht(this,void 0,void 0,function*(){try{const s=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}download(t,r){return ht(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}info(t){return ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:il(n),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}exists(t){return ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ox(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Xe(n)&&n instanceof sl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ht(this,void 0,void 0,function*(){try{return{data:yield xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}list(t,r,n){return ht(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lx),r),{prefix:t||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ux="2.7.1",dx={"X-Client-Info":`storage-js/${ux}`};var xn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},dx),r),this.fetch=bm(n)}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xe(t))return{data:null,error:t};throw t}})}getBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return xn(this,void 0,void 0,function*(){try{return{data:yield ax(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xn(this,void 0,void 0,function*(){try{return{data:yield xm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}}class fx extends hx{constructor(t,r={},n){super(t,r,n)}from(t){return new cx(this.url,this.headers,t,this.fetch)}}const mx="2.47.10";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const px={"X-Client-Info":`supabase-js-${Ps}/${mx}`},gx={headers:px},yx={schema:"public"},vx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bx={};var xx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wx=e=>{let t;return e?t=e:typeof fetch>"u"?t=sm:t=fetch,(...r)=>t(...r)},_x=()=>typeof Headers>"u"?im:Headers,jx=(e,t,r)=>{const n=wx(r),s=_x();return(i,a)=>xx(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var kx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Sx(e){return e.replace(/\/$/,"")}function Cx(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>kx(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const wm="2.67.3",Px="http://localhost:9999",Nx="supabase.auth.token",Tx={"X-Client-Info":`gotrue-js/${wm}`},Gu=10,al="X-Supabase-Api-Version",_m={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ex(e){return Math.round(Date.now()/1e3)+e}function Ax(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},Ds=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function Rx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const jm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>is);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Dx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",km=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ki=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Si=async(e,t)=>{await e.removeItem(t)};function Ox(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class _a{constructor(){this.promise=new _a.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}_a.promiseConstructor=Promise;function Ku(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Ox(n))}async function Mx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ix(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Lx(e){return("0"+e.toString(16)).substr(-2)}function Fx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Lx).join("")}async function $x(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Vx(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ux(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $x(e);return Vx(r)}async function wn(e,t,r=!1){const n=Fx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await km(e,`${t}-code-verifier`,s);const i=await Ux(n);return[i,n===i?"plain":"s256"]}const qx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bx(e){const t=e.headers.get(al);if(!t||!t.match(qx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Zl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zx extends Zl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Hx(e){return de(e)&&e.name==="AuthApiError"}class Sm extends Zl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yn extends Zl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class _r extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wx(e){return de(e)&&e.name==="AuthSessionMissingError"}class oo extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ci extends yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pi extends yn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yu extends yn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends yn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lo(e){return de(e)&&e.name==="AuthRetryableFetchError"}class Qu extends yn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Kx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yx=[502,503,504];async function Xu(e){var t;if(!Dx(e))throw new ol(Qr(e),0);if(Yx.includes(e.status))throw new ol(Qr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Sm(Qr(i),i)}let n;const s=Bx(e);if(s&&s.getTime()>=_m["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Qu(Qr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Qu(Qr(r),e.status,r.weak_password.reasons);throw new zx(Qr(r),e.status||500,n)}const Qx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function me(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[al]||(i[al]=_m["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Xx(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Xx(e,t,r,n,s,i){const a=Qx(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ol(Qr(c),0)}if(l.ok||await Xu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Xu(c)}}function jr(e){var t;let r=null;tw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ex(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ju(e){const t=jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Jx(e){return{data:e,error:null}}function Zx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Kx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ew(e){return e}function tw(e){return e.access_token&&e.refresh_token&&e.expires_in}var rw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class nw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Zx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ew});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}const sw={getItem:e=>Ds()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ds()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ds()&&globalThis.localStorage.removeItem(e)}};function Zu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function iw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _n={debug:!!(globalThis&&Ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aw extends Cm{}async function ow(e,t,r){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw _n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iw();const lw={url:Px,storageKey:Nx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ps=30*1e3,ed=3;async function td(e,t,r){return await r()}class Us{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jm(s.fetch),this.lock=s.lock||td,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ht()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ow:this.lock=td,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ds()?this.storage=sw:(this.memoryStorage={},this.storage=Zu(this.memoryStorage)):(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Rx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Gx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new Sm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jr}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await wn(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:jr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jr})}else throw new Ci("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else throw new Ci("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new oo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ki(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jr});if(await Si(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new oo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new oo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wn(this.storage,this.storageKey));const{error:h}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ci("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:jr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await wn(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Jx})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new _r;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ci("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cr})})}catch(r){if(de(r))return Wx(r)&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _r;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wn(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Cr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Ku(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _r;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=Ku(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _r;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ht())throw new Pi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yu("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Pi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Hx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ax(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wn(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ix(async s=>(s>0&&await Mx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+a-n<ps})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ki(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Gu;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Gu}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),lo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _a;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new _r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),de(i)){const a={session:null,error:i};return lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await km(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Si(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ps);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ps}ms, refresh threshold is ${ed} ticks`),s<=ed&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await wn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Us.nextInstanceID=0;const cw=Us;class uw extends cw{constructor(t){super(t)}}var dw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hw{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Sx(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:yx,realtime:bx,auth:Object.assign(Object.assign({},vx),{storageKey:c}),global:gx},d=Cx(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=jx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fb(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new mb(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fx(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uw({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Zb(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fw=(e,t,r)=>new hw(e,t,r),mw="https://axrooawblvsspndfmvan.supabase.co",pw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4cm9vYXdibHZzc3BuZGZtdmFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc4MzYwODUsImV4cCI6MjA0MzQxMjA4NX0.d4bRJe2bq2dKcBFUfttm5UFLyfVT3gdT3LkJSKE2JZU",gw={getItem:e=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error retrieving from storage:",t),null}},setItem:(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Error setting storage:",r)}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(t){console.error("Error removing from storage:",t)}}},L=fw(mw,pw,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:gw,storageKey:"sb-auth-token",flowType:"pkce",debug:!1}}),Pm=p.createContext(),yw=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),i=dt();_t(),We();const a=(c=!1)=>{if(r(null),i.invalidateQueries("user"),c)try{L.auth.storage.removeItem("sb-auth-token"),Object.keys(localStorage).forEach(u=>{u.startsWith("supabase.auth.")&&localStorage.removeItem(u)})}catch(u){console.error("Error clearing auth data:",u)}};p.useEffect(()=>{let c=!0,u=null;return(async()=>{try{const{data:{session:h},error:f}=await L.auth.getSession();if(f){console.error("Session error:",f),c&&(a(!1),s(!1));return}if(c){h?(console.log("Initial session found:",h),r(h),i.invalidateQueries("user")):(console.log("No initial session found"),a(!1));const{data:{subscription:m}}=L.auth.onAuthStateChange(async(g,y)=>{if(console.log("Auth state change:",g,y),!!c)switch(g){case"SIGNED_IN":console.log("User signed in:",y),r(y),i.invalidateQueries("user");break;case"SIGNED_OUT":console.log("User signed out"),a(!1);break;case"TOKEN_REFRESHED":console.log("Token refreshed:",y),r(y),i.invalidateQueries("user");break;case"USER_UPDATED":console.log("User updated:",y),r(y),i.invalidateQueries("user");break;case"USER_DELETED":console.log("User deleted"),a(!0);break}});u=m,s(!1)}}catch(h){console.error("Error initializing auth:",h),c&&(a(!1),s(!1))}})(),()=>{c=!1,u&&u.unsubscribe()}},[i]);const l=async()=>{try{await L.auth.signOut(),a(!0)}catch(c){console.error("Error signing out:",c)}s(!1)};return o.jsx(Pm.Provider,{value:{session:t,loading:n,logout:l},children:e})};function Nm(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Nm(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Tm(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Nm(e))&&(n&&(n+=" "),n+=t);return n}const rd=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nd=Tm,oi=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return nd(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=rd(d)||rd(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[y,b]=g;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...u,h,f]:u},[]);return nd(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},ec="-",vw=e=>{const t=xw(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(ec);return l[0]===""&&l.length!==1&&l.shift(),Em(l,t)||bw(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Em=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Em(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ec);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},sd=/^\[(.+)\]$/,bw=e=>{if(sd.test(e)){const t=sd.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},xw=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _w(Object.entries(e.classGroups),r).forEach(([i,a])=>{ll(a,n,i,t)}),n},ll=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:id(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(ww(s)){ll(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{ll(a,id(t,i),r,n)})})},id=(e,t)=>{let r=e;return t.split(ec).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ww=e=>e.isThemeGetter,_w=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,jw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Am="!",kw=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Am),g=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:a}):a},Sw=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Cw=e=>({cache:jw(e.cacheSize),parseClassName:kw(e),...vw(e)}),Pw=/\s+/,Nw=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Pw);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let g=!!m,y=n(g?f.substring(0,m):f);if(!y){if(!g){l=u+(l.length>0?" "+l:l);continue}if(y=n(f),!y){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=Sw(d).join(":"),v=h?b+Am:b,w=v+y;if(i.includes(w))continue;i.push(w);const x=s(y,g);for(let _=0;_<x.length;++_){const C=x[_];i.push(v+C)}l=u+(l.length>0?" "+l:l)}return l};function Tw(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Rm(t))&&(n&&(n+=" "),n+=r);return n}const Rm=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Rm(e[n]))&&(r&&(r+=" "),r+=t);return r};function Ew(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=Cw(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Nw(c,r);return s(c,d),d}return function(){return i(Tw.apply(null,arguments))}}const Re=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Dm=/^\[(?:([a-z-]+):)?(.+)\]$/i,Aw=/^\d+\/\d+$/,Rw=new Set(["px","full","screen"]),Dw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ow=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Iw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ir=e=>Dn(e)||Rw.has(e)||Aw.test(e),yr=e=>os(e,"length",Hw),Dn=e=>!!e&&!Number.isNaN(Number(e)),co=e=>os(e,"number",Dn),gs=e=>!!e&&Number.isInteger(Number(e)),Fw=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),le=e=>Dm.test(e),vr=e=>Dw.test(e),$w=new Set(["length","size","percentage"]),Vw=e=>os(e,$w,Om),Uw=e=>os(e,"position",Om),qw=new Set(["image","url"]),Bw=e=>os(e,qw,Gw),zw=e=>os(e,"",Ww),ys=()=>!0,os=(e,t,r)=>{const n=Dm.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Hw=e=>Ow.test(e)&&!Mw.test(e),Om=()=>!1,Ww=e=>Iw.test(e),Gw=e=>Lw.test(e),Kw=()=>{const e=Re("colors"),t=Re("spacing"),r=Re("blur"),n=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),a=Re("borderSpacing"),l=Re("borderWidth"),c=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),f=Re("gap"),m=Re("gradientColorStops"),g=Re("gradientColorStopPositions"),y=Re("inset"),b=Re("margin"),v=Re("opacity"),w=Re("padding"),x=Re("saturate"),_=Re("scale"),C=Re("sepia"),T=Re("skew"),N=Re("space"),S=Re("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",le,t],D=()=>[le,t],O=()=>["",ir,yr],M=()=>["auto",Dn,le],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",le],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Dn,le];return{cacheSize:500,separator:":",theme:{colors:[ys],spacing:[ir,yr],blur:["none","",vr,le],brightness:Z(),borderColor:[e],borderRadius:["none","","full",vr,le],borderSpacing:D(),borderWidth:O(),contrast:Z(),grayscale:F(),hueRotate:Z(),invert:F(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Fw,yr],inset:A(),margin:A(),opacity:Z(),padding:D(),saturate:Z(),scale:Z(),sepia:F(),skew:Z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),le]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gs,le]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",gs,le]}],"grid-cols":[{"grid-cols":[ys]}],"col-start-end":[{col:["auto",{span:["full",gs,le]},le]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ys]}],"row-start-end":[{row:["auto",{span:[gs,le]},le]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",co]}],"font-family":[{font:[ys]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Dn,co]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ir,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ir,yr]}],"underline-offset":[{"underline-offset":["auto",ir,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Uw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ir,le]}],"outline-w":[{outline:[ir,yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ir,yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vr,zw]}],"shadow-color":[{shadow:[ys]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[gs,le]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ir,yr,co]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yw=Ew(Kw);function k(...e){return Yw(Tm(e))}const tc=oi("inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary/90 text-primary-foreground hover:bg-primary/80 shadow-sm",destructive:"bg-destructive/80 text-destructive-foreground hover:bg-destructive/70 shadow-sm",outline:"bg-background/50 hover:bg-accent/10 hover:text-accent-foreground",secondary:"bg-secondary/60 text-secondary-foreground hover:bg-secondary/50",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline decoration-primary/30"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-lg px-3",lg:"h-10 rounded-xl px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Q=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?mf:"button";return o.jsx(a,{className:k(tc({variant:t,size:r,className:e})),ref:i,...s})});Q.displayName="Button";const li=p.forwardRef(({className:e,type:t,error:r,...n},s)=>o.jsx("input",{type:t,className:k("flex h-10 w-full rounded-xl px-4 py-2 text-sm","bg-muted/10 hover:bg-muted/20","border border-border/80 hover:border-border/100","transition-all duration-200","placeholder:text-muted-foreground/50","focus-visible:outline-none focus-visible:bg-muted/30","focus-visible:border-primary/20","disabled:cursor-not-allowed disabled:opacity-50",r&&["border-destructive/50","focus-visible:ring-destructive/40","hover:border-destructive/60","bg-destructive/10 hover:bg-destructive/20","focus-visible:bg-destructive/20"],e),ref:s,...n}));li.displayName="Input";var Qw="Label",Mm=p.forwardRef((e,t)=>o.jsx(Ge.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Mm.displayName=Qw;var Im=Mm;const Xw=oi("text-sm font-medium leading-none text-foreground/80 transition-colors peer-disabled:cursor-not-allowed peer-disabled:opacity-40"),Lm=p.forwardRef(({className:e,...t},r)=>o.jsx(Im,{ref:r,className:k(Xw(),e),...t}));Lm.displayName=Im.displayName;const Jw=oi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zw=p.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:k(Jw({variant:t}),e),...r}));Zw.displayName="Alert";const e1=p.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:k("mb-1 font-medium leading-none tracking-tight",e),...t}));e1.displayName="AlertTitle";const t1=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:k("text-sm [&_p]:leading-relaxed",e),...t}));t1.displayName="AlertDescription";var rc="Tabs",[r1,iR]=ns(rc,[pf]),Fm=pf(),[n1,nc]=r1(rc),s1=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=gf(l),[h,f]=ma({prop:n,onChange:s,defaultProp:i});return o.jsx(n1,{scope:r,baseId:Fl(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:o.jsx(Ge.div,{dir:d,"data-orientation":a,...u,ref:t})})});s1.displayName=rc;var $m="TabsList",Vm=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=nc($m,r),a=Fm(r);return o.jsx($0,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Vm.displayName=$m;var Um="TabsTrigger",qm=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=nc(Um,r),l=Fm(r),c=Hm(a.baseId,n),u=Wm(a.baseId,n),d=n===a.value;return o.jsx(V0,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Be(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:Be(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:Be(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});qm.displayName=Um;var Bm="TabsContent",zm=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,l=nc(Bm,r),c=Hm(l.baseId,n),u=Wm(l.baseId,n),d=n===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(Vr,{present:s||d,children:({present:f})=>o.jsx(Ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});zm.displayName=Bm;function Hm(e,t){return`${e}-trigger-${t}`}function Wm(e,t){return`${e}-content-${t}`}var Gm=Vm,Km=qm,Ym=zm;const i1=p.forwardRef(({className:e,...t},r)=>o.jsx(Gm,{ref:r,className:k("inline-flex h-9 items-center justify-center rounded-xl p-1 text-muted-background",e),...t}));i1.displayName=Gm.displayName;const a1=p.forwardRef(({className:e,...t},r)=>o.jsx(Km,{ref:r,className:k("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-4 py-2 text-foreground text-sm font-medium","ring-offset-primary transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-40","data-[state=active]:bg-primary/60 data-[state=active]:text-background",e),...t}));a1.displayName=Km.displayName;const o1=p.forwardRef(({className:e,...t},r)=>o.jsx(Ym,{ref:r,className:k("mt-3 ring-offset-primary transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));o1.displayName=Ym.displayName;/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qm=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...c1,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Qm("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(u1,{ref:i,iconNode:t,className:Qm(`lucide-${l1(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ae("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ae("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ae("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ae("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ae("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ae("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ae("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ae("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var ip={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ld=E.createContext&&E.createContext(ip),O1=["attr","size","title"];function M1(e,t){if(e==null)return{};var r=I1(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I1(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}function cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cd(Object(r),!0).forEach(function(n){L1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1(e,t,r){return t=F1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1(e){var t=$1(e,"string");return typeof t=="symbol"?t:t+""}function $1(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ap(e){return e&&e.map((t,r)=>E.createElement(t.tag,Ji({key:r},t.attr),ap(t.child)))}function V1(e){return t=>E.createElement(U1,Xi({attr:Ji({},e.attr)},t),ap(e.child))}function U1(e){var t=r=>{var{attr:n,size:s,title:i}=e,a=M1(e,O1),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),E.createElement("svg",Xi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Ji(Ji({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&E.createElement("title",null,i),e.children)};return ld!==void 0?E.createElement(ld.Consumer,null,r=>t(r)):t(ip)}function q1(e){return V1({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const B1=({buttonText:e})=>{const[t,r]=p.useState(!1),[n,s]=p.useState(""),i=async()=>{s(""),r(!0);try{const{data:a,error:l}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(l)throw l}catch(a){console.error("Error signing in with Google:",a.message),s(a.message||"Failed to sign in with Google"),Y.error(a.message||"Failed to sign in with Google")}finally{r(!1)}};return o.jsxs("div",{className:"w-full space-y-3 flex flex-col items-center",children:[o.jsxs(Q,{className:k("w-auto h-8 md:h-10","rounded-full text-sm md:text-base","bg-primary hover:bg-zinc-50 text-black","border border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","backdrop-blur-[2px]","transition-all duration-300","hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","hover:border-border/20","disabled:opacity-70"),onClick:i,disabled:t,children:[t?o.jsx(Ir,{className:k("mr-2 h-4 w-4 md:h-5 md:w-5","animate-spin text-foreground/70")}):o.jsx(q1,{className:"mr-2 h-5 w-5 md:h-6 md:w-6"}),e||"Continue with Google"]}),n&&o.jsx("div",{className:k("p-3 rounded-lg","bg-destructive/5 text-destructive/90","text-xs md:text-sm text-center","border border-destructive/10","transition-all duration-200"),children:n})]})},it=()=>{const e=p.useContext(Pm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},op=p.createContext(),ui=()=>{const e=p.useContext(op);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},z1=({children:e})=>{var c;const[t,r]=p.useState([]),[n,s]=p.useState(0),{session:i}=it();p.useEffect(()=>{var h;if(!((h=i==null?void 0:i.user)!=null&&h.id))return;const u=async()=>{const{data:f}=await L.from("notifications").select("*").eq("user_id",i.user.id).order("created_at",{ascending:!1});r(f||[]);const m=(f||[]).filter(g=>!g.is_read).length;s(m)};u();const d=L.channel("notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${i.user.id}`},()=>{u()}).subscribe();return()=>{L.removeChannel(d)}},[(c=i==null?void 0:i.user)==null?void 0:c.id]);const a=async u=>{const{error:d}=await L.from("notifications").update({is_read:!0}).eq("id",u);d||(r(h=>h.map(f=>f.id===u?{...f,is_read:!0}:f)),s(h=>Math.max(0,h-1)))},l=async u=>{const{error:d}=await L.from("notifications").delete().eq("id",u);if(!d){const h=t.find(f=>f.id===u);r(f=>f.filter(m=>m.id!==u)),h&&!h.is_read&&s(f=>Math.max(0,f-1))}};return o.jsx(op.Provider,{value:{notifications:t,unreadCount:n,markAsRead:a,deleteNotification:l},children:e})},lp=e=>{const t=dt(),r=async()=>{if(!e)return{credit_count:0,bonus_credits:0,last_refill_time:null};const{data:d,error:h}=await L.from("profiles").select("credit_count, bonus_credits, last_refill_time").eq("id",e).single();if(h)throw h;return d},n=async({quality:d,imageCount:h=1})=>{let f;if(typeof d=="string"?f={HD:1,"HD+":2,"4K":3}[d]*h:f=d,!f)throw new Error("Invalid credit cost");const{data:m}=await L.from("profiles").select("credit_count, bonus_credits").eq("id",e).single();if(!m)throw new Error("Profile not found");if(m.credit_count+m.bonus_credits<f)return-1;let y=m.credit_count,b=m.bonus_credits;if(m.credit_count>=f)y-=f;else{const w=f-m.credit_count;y=0,b-=w}const{error:v}=await L.from("profiles").update({credit_count:y,bonus_credits:b}).eq("id",e);if(v)throw v;return y+b},s=async d=>{const{data:h,error:f}=await L.from("profiles").update({bonus_credits:L.raw(`bonus_credits + ${d}`)}).eq("id",e).select("bonus_credits").single();if(f)throw f;return h.bonus_credits},{data:i,isLoading:a,error:l}=Ee({queryKey:["userCredits",e],queryFn:r,enabled:!!e,refetchInterval:6e4,initialData:{credit_count:0,bonus_credits:0,last_refill_time:null}}),c=Gn({mutationFn:n,onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}}),u=Gn({mutationFn:s,onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}});return{credits:(i==null?void 0:i.credit_count)??0,bonusCredits:(i==null?void 0:i.bonus_credits)??0,totalCredits:((i==null?void 0:i.credit_count)??0)+((i==null?void 0:i.bonus_credits)??0),lastRefillTime:i==null?void 0:i.last_refill_time,isLoading:a,error:l,updateCredits:c.mutate,addBonusCredits:u.mutate}},hl={"9:21":{width:439,height:1024},"9:16":{width:576,height:1024},"2:3":{width:683,height:1024},"3:4":{width:768,height:1024},"4:5":{width:819,height:1024},"10:16":{width:640,height:1024},"1:2":{width:512,height:1024},"1:1":{width:1024,height:1024},"5:4":{width:1024,height:819},"4:3":{width:1024,height:768},"3:2":{width:1024,height:683},"16:10":{width:1024,height:640},"16:9":{width:1024,height:576},"2:1":{width:1024,height:512},"21:9":{width:1024,height:439}},H1={HD:1024,"HD+":1536},W1=(e,t)=>{const r=e/t;let n="1:1",s=1/0;return Object.entries(hl).forEach(([i,a])=>{const l=a.width/a.height,c=Math.abs(l-r);c<s&&(s=c,n=i)}),n},ud=e=>Math.floor(e/16)*16,G1=(e,t,r,n,s)=>{let i,a;if(e&&hl[t]){const{width:l,height:c}=hl[t],u=l/c;u>1?(i=s,a=Math.round(i/u)):(a=s,i=Math.round(a*u))}else i=Math.min(s,r),a=Math.min(s,n);return i=ud(i),a=ud(a),{width:i,height:a,aspectRatio:e?t:W1(i,a)}},K1=async(e,t,r)=>{if(!r)return e;const n=r[t];return e+((n==null?void 0:n.promptSuffix)||"")},cp=5,qs=new Map,Y1=e=>{qs.set(e,0)},Q1=e=>{const t=qs.get(e)||0;return qs.set(e,t+1),t+1},X1=e=>qs.get(e)||0,dd=e=>{qs.delete(e)},J1=e=>{switch(e){case 504:return 3e4;case 503:return 12e4;case 500:return 1e4;case 429:return 2e3;default:return 5e3}},Z1=(e,t)=>{const r=X1(t);return[500,503,504,429].includes(e)&&r<cp},e_=async(e,t,r)=>{if(!e.ok){let n;try{const s=await e.json();n=s.error||e.statusText,console.error("API response error:",s)}catch{n=e.statusText}if(Z1(e.status,t)){const s=Q1(t),i=J1(e.status);return console.log(`Retrying image generation in ${i/1e3} seconds. Attempt ${s} of ${cp}`),e.status===429?(console.log("Rate limit reached, retrying with a different API key"),new Promise(a=>setTimeout(a,i)).then(()=>r(!0))):new Promise(a=>setTimeout(a,i)).then(()=>r())}throw dd(t),new Error(`API error: ${n}`)}return dd(t),await e.blob()},t_=({session:e,prompt:t,seed:r,randomizeSeed:n,width:s,height:i,model:a,quality:l,useAspectRatio:c,aspectRatio:u,updateCredits:d,setGeneratingImages:h,modelConfigs:f,imageCount:m=1,negativePrompt:g})=>{const y=p.useRef([]),[b,v]=p.useState(!1),w=p.useCallback(async()=>{if(b||y.current.length===0)return;v(!0);const _=y.current[0];try{const{generationId:C,model:T,quality:N,finalWidth:S,finalHeight:P,modifiedPrompt:R,actualSeed:A,isPrivate:D,negativePrompt:O,modelConfig:M}=_;h($=>$.map(I=>I.id===C?{...I,status:"processing"}:I));const V=async($=!1)=>{try{Y1(C);const{data:I,error:W}=await L.from("huggingface_api_keys").select("api_key").eq("is_active",!0).order("last_used_at",{ascending:!0}).limit(1).single();if(W)throw h(J=>J.filter(se=>se.id!==C)),Y.error("Failed to get API key"),new Error(`Failed to get API key: ${W.message}`);if(!I)throw h(J=>J.filter(se=>se.id!==C)),Y.error("No active API key available"),new Error("No active API key available");await L.from("huggingface_api_keys").update({last_used_at:new Date().toISOString()}).eq("api_key",I.api_key);const F={seed:A,width:S,height:P,...M.steps&&{num_inference_steps:parseInt(M.steps)},...M.use_guidance&&{guidance_scale:M.defaultguidance},...M.use_negative_prompt&&O&&{negative_prompt:O}},X=await fetch(M==null?void 0:M.apiUrl,{headers:{Authorization:`Bearer ${I.api_key}`,"Content-Type":"application/json","x-wait-for-model":"true"},method:"POST",body:JSON.stringify({inputs:R,parameters:F})}),Z=await e_(X,C,()=>V(X.status===429));if(!Z){h(J=>J.filter(se=>se.id!==C)),Y.error("Failed to generate image");return}if(!Z||Z.size===0)throw h(J=>J.filter(se=>se.id!==C)),Y.error("Generated image is invalid"),new Error("Generated image is empty or invalid");const ee=Date.now(),G=`${e.user.id}/${ee}.png`,{error:ne}=await L.storage.from("user-images").upload(G,Z);if(ne)throw ne;const{data:pe,error:we}=await L.from("user_images").insert([{user_id:e.user.id,storage_path:G,prompt:R,seed:A,width:S,height:P,model:T,quality:N,aspect_ratio:_.finalAspectRatio,is_private:D}]).select().single();if(we)throw console.error("Error inserting image record:",we),we;h(J=>J.map(se=>se.id===C?{...se,status:"completed"}:se)),Y.success(`Image generated successfully! (${D?"Private":"Public"})`)}catch(I){console.error("Error generating image:",I),Y.error("Failed to generate image"),h(W=>W.filter(F=>F.id!==C))}};await V()}catch(C){console.error("Error in generation:",C)}finally{y.current.shift(),v(!1),y.current.length>0&&w()}},[b,e,h,d]);return{generateImage:async(_=!1,C=null)=>{var R;if(!e||!t||!f){!e&&Y.error("Please sign in to generate images"),!t&&Y.error("Please enter a prompt"),!f&&console.error("Model configs not loaded");return}const T={model:a,quality:l,useAspectRatio:c,aspectRatio:u,width:s,height:i,negativePrompt:g,modelConfig:f[a],maxDimension:H1[l]};if(!T.modelConfig){Y.error("Invalid model selected");return}if((R=T.modelConfig)!=null&&R.qualityLimits&&!T.modelConfig.qualityLimits.includes(T.quality)){Y.error(`Quality ${l} not supported for model ${a}`);return}try{if(await d({quality:T.quality,imageCount:m})===-1){Y.error("Insufficient credits");return}}catch(A){console.error("Error updating credits:",A),Y.error("Failed to process credits");return}const{width:N,height:S,aspectRatio:P}=G1(T.useAspectRatio,T.aspectRatio,T.width,T.height,T.maxDimension);for(let A=0;A<m;A++){const D=n?Math.floor(Math.random()*1e6):r+A,O=Date.now().toString()+A,M=await K1(C||t,T.model,f),V={generationId:O,model:T.model,quality:T.quality,finalWidth:N,finalHeight:S,finalAspectRatio:P,modifiedPrompt:M,actualSeed:D,isPrivate:_,negativePrompt:T.negativePrompt,modelConfig:T.modelConfig};y.current.push(V),h($=>[...$,{id:O,prompt:M,seed:D,width:N,height:S,status:"pending",isPrivate:_,model:T.model,quality:T.quality}])}b||w()},isProcessing:b}},up=()=>{const[e,t]=p.useState(!0),[r,n]=p.useState(0);return p.useEffect(()=>{const s=()=>{const i=window.scrollY;i<r?t(!0):i>50&&i>r&&t(!1),n(i)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[r]),e};var r_=Object.defineProperty,n_=(e,t)=>{for(var r in t)r_(e,r,{get:t[r],enumerable:!0})},ac={};n_(ac,{audioClassification:()=>h_,audioToAudio:()=>p_,automaticSpeechRecognition:()=>f_,chatCompletion:()=>M_,chatCompletionStream:()=>I_,documentQuestionAnswering:()=>L_,featureExtraction:()=>j_,fillMask:()=>k_,imageClassification:()=>g_,imageSegmentation:()=>y_,imageToImage:()=>w_,imageToText:()=>v_,objectDetection:()=>b_,questionAnswering:()=>S_,request:()=>ke,sentenceSimilarity:()=>C_,streamingRequest:()=>ja,summarization:()=>P_,tableQuestionAnswering:()=>N_,tabularClassification:()=>V_,tabularRegression:()=>$_,textClassification:()=>T_,textGeneration:()=>E_,textGenerationStream:()=>A_,textToImage:()=>x_,textToSpeech:()=>m_,tokenClassification:()=>R_,translation:()=>D_,visualQuestionAnswering:()=>F_,zeroShotClassification:()=>O_,zeroShotImageClassification:()=>__});function s_(e,t){return Object.assign({},...t.map(r=>{if(e[r]!==void 0)return{[r]:e[r]}}))}function i_(e,t){return e.includes(t)}function a_(e,t){const r=Array.isArray(t)?t:[t],n=Object.keys(e).filter(s=>!i_(r,s));return s_(e,n)}function $i(e){return/^http(s?):/.test(e)||e.startsWith("/")}var jn=new Map,o_=10*60*1e3,l_=1e3,dp="https://huggingface.co";async function hp(e,t,r){if($i(e))return null;const n=`${e}:${t}`;let s=jn.get(n);if(s&&s.date<new Date(Date.now()-o_)&&(jn.delete(n),s=void 0),s===void 0){const i=await((r==null?void 0:r.fetch)??fetch)(`${dp}/api/models/${e}?expand[]=pipeline_tag`,{headers:t?{Authorization:`Bearer ${t}`}:{}}).then(a=>a.json()).then(a=>a.pipeline_tag).catch(()=>null);if(!i)return null;s={task:i,date:new Date},jn.set(n,{task:i,date:new Date}),jn.size>l_&&jn.delete(jn.keys().next().value)}return s.task}var hd="https://api-inference.huggingface.co",Ni=null;async function fp(e,t){const{accessToken:r,endpointUrl:n,...s}=e;let{model:i}=e;const{forceTask:a,includeCredentials:l,taskHint:c,wait_for_model:u,use_cache:d,dont_load_model:h,chatCompletion:f}=t??{},m={};if(r&&(m.Authorization=`Bearer ${r}`),!i&&!Ni&&c){const w=await fetch(`${dp}/api/tasks`);w.ok&&(Ni=await w.json())}if(!i&&Ni&&c){const w=Ni[c];w&&(i=w.models[0].id)}if(!i)throw new Error("No model provided, and no default model found for this task");const g="data"in e&&!!e.data;g||(m["Content-Type"]="application/json"),u&&(m["X-Wait-For-Model"]="true"),d===!1&&(m["X-Use-Cache"]="false"),h&&(m["X-Load-Model"]="0");let y=(()=>{if(n&&$i(i))throw new TypeError("Both model and endpointUrl cannot be URLs");return $i(i)?(console.warn("Using a model URL is deprecated, please use the `endpointUrl` parameter instead"),i):n||(a?`${hd}/pipeline/${a}/${i}`:`${hd}/models/${i}`)})();f&&!y.endsWith("/chat/completions")&&(y+="/v1/chat/completions");let b;typeof l=="string"?b=l:l===!0&&(b="include");const v={headers:m,method:"POST",body:g?e.data:JSON.stringify({...s.model&&$i(s.model)?a_(s,"model"):s}),...b&&{credentials:b},signal:t==null?void 0:t.signal};return{url:y,info:v}}async function ke(e,t){var i,a;const{url:r,info:n}=await fp(e,t),s=await((t==null?void 0:t.fetch)??fetch)(r,n);if((t==null?void 0:t.retry_on_error)!==!1&&s.status===503&&!(t!=null&&t.wait_for_model))return ke(e,{...t,wait_for_model:!0});if(!s.ok){if((i=s.headers.get("Content-Type"))!=null&&i.startsWith("application/json")){const l=await s.json();if([400,422,404,500].includes(s.status)&&(t!=null&&t.chatCompletion))throw new Error(`Server ${e.model} does not seem to support chat completion. Error: ${l.error}`);if(l.error)throw new Error(JSON.stringify(l.error))}throw new Error("An error occurred while fetching the blob")}return(a=s.headers.get("Content-Type"))!=null&&a.startsWith("application/json")?await s.json():await s.blob()}function c_(e){let t,r,n,s=!1;return function(a){t===void 0?(t=a,r=0,n=-1):t=d_(t,a);const l=t.length;let c=0;for(;r<l;){s&&(t[r]===10&&(c=++r),s=!1);let u=-1;for(;r<l&&u===-1;++r)switch(t[r]){case 58:n===-1&&(n=r-c);break;case 13:s=!0;case 10:u=r;break}if(u===-1)break;e(t.subarray(c,u),n),c=r,n=-1}c===l?t=void 0:c!==0&&(t=t.subarray(c),r-=c)}}function u_(e,t,r){let n=fd();const s=new TextDecoder;return function(a,l){if(a.length===0)r==null||r(n),n=fd();else if(l>0){const c=s.decode(a.subarray(0,l)),u=l+(a[l+1]===32?2:1),d=s.decode(a.subarray(u));switch(c){case"data":n.data=n.data?n.data+`
`+d:d;break;case"event":n.event=d;break;case"id":e(n.id=d);break;case"retry":const h=parseInt(d,10);isNaN(h)||t(n.retry=h);break}}}}function d_(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function fd(){return{data:"",event:"",id:"",retry:void 0}}async function*ja(e,t){var u,d;const{url:r,info:n}=await fp({...e,stream:!0},t),s=await((t==null?void 0:t.fetch)??fetch)(r,n);if((t==null?void 0:t.retry_on_error)!==!1&&s.status===503&&!(t!=null&&t.wait_for_model))return yield*ja(e,{...t,wait_for_model:!0});if(!s.ok){if((u=s.headers.get("Content-Type"))!=null&&u.startsWith("application/json")){const h=await s.json();if([400,422,404,500].includes(s.status)&&(t!=null&&t.chatCompletion))throw new Error(`Server ${e.model} does not seem to support chat completion. Error: ${h.error}`);if(h.error)throw new Error(h.error)}throw new Error(`Server response contains error: ${s.status}`)}if(!((d=s.headers.get("content-type"))!=null&&d.startsWith("text/event-stream")))throw new Error("Server does not support event stream content type, it returned "+s.headers.get("content-type"));if(!s.body)return;const i=s.body.getReader();let a=[];const c=c_(u_(()=>{},()=>{},h=>{a.push(h)}));try{for(;;){const{done:h,value:f}=await i.read();if(h)return;c(f);for(const m of a)if(m.data.length>0){if(m.data==="[DONE]")return;const g=JSON.parse(m.data);if(typeof g=="object"&&g!==null&&"error"in g)throw new Error(g.error);yield g}a=[]}}finally{i.releaseLock()}}var Ne=class extends TypeError{constructor(e){super(`Invalid inference output: ${e}. Use the 'request' method with the same parameters to do a custom call with no type checking.`),this.name="InferenceOutputError"}};async function h_(e,t){const r=await ke(e,{...t,taskHint:"audio-classification"});if(!(Array.isArray(r)&&r.every(s=>typeof s.label=="string"&&typeof s.score=="number")))throw new Ne("Expected Array<{label: string, score: number}>");return r}async function f_(e,t){const r=await ke(e,{...t,taskHint:"automatic-speech-recognition"});if(!(typeof(r==null?void 0:r.text)=="string"))throw new Ne("Expected {text: string}");return r}async function m_(e,t){const r=await ke(e,{...t,taskHint:"text-to-speech"});if(!(r&&r instanceof Blob))throw new Ne("Expected Blob");return r}async function p_(e,t){const r=await ke(e,{...t,taskHint:"audio-to-audio"});if(!(Array.isArray(r)&&r.every(s=>typeof s.label=="string"&&typeof s.blob=="string"&&typeof s["content-type"]=="string")))throw new Ne("Expected Array<{label: string, blob: string, content-type: string}>");return r}async function g_(e,t){const r=await ke(e,{...t,taskHint:"image-classification"});if(!(Array.isArray(r)&&r.every(s=>typeof s.label=="string"&&typeof s.score=="number")))throw new Ne("Expected Array<{label: string, score: number}>");return r}async function y_(e,t){const r=await ke(e,{...t,taskHint:"image-segmentation"});if(!(Array.isArray(r)&&r.every(s=>typeof s.label=="string"&&typeof s.mask=="string"&&typeof s.score=="number")))throw new Ne("Expected Array<{label: string, mask: string, score: number}>");return r}async function v_(e,t){var n;const r=(n=await ke(e,{...t,taskHint:"image-to-text"}))==null?void 0:n[0];if(typeof(r==null?void 0:r.generated_text)!="string")throw new Ne("Expected {generated_text: string}");return r}async function b_(e,t){const r=await ke(e,{...t,taskHint:"object-detection"});if(!(Array.isArray(r)&&r.every(s=>typeof s.label=="string"&&typeof s.score=="number"&&typeof s.box.xmin=="number"&&typeof s.box.ymin=="number"&&typeof s.box.xmax=="number"&&typeof s.box.ymax=="number")))throw new Ne("Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>");return r}async function x_(e,t){const r=await ke(e,{...t,taskHint:"text-to-image"});if(!(r&&r instanceof Blob))throw new Ne("Expected Blob");return r}function ka(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach(r=>{t.push(String.fromCharCode(r))}),globalThis.btoa(t.join(""))}}async function w_(e,t){let r;e.parameters?r={...e,inputs:ka(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}:r={accessToken:e.accessToken,model:e.model,data:e.inputs};const n=await ke(r,{...t,taskHint:"image-to-image"});if(!(n&&n instanceof Blob))throw new Ne("Expected Blob");return n}async function __(e,t){const r={...e,inputs:{image:ka(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},n=await ke(r,{...t,taskHint:"zero-shot-image-classification"});if(!(Array.isArray(n)&&n.every(i=>typeof i.label=="string"&&typeof i.score=="number")))throw new Ne("Expected Array<{label: string, score: number}>");return n}async function j_(e,t){const r=e.model?await hp(e.model,e.accessToken,t):void 0,n=await ke(e,{...t,taskHint:"feature-extraction",...r==="sentence-similarity"&&{forceTask:"feature-extraction"}});let s=!0;const i=(a,l,c=0)=>c>l?!1:a.every(u=>Array.isArray(u))?a.every(u=>i(u,l,c+1)):a.every(u=>typeof u=="number");if(s=Array.isArray(n)&&i(n,3,0),!s)throw new Ne("Expected Array<number[][][] | number[][] | number[] | number>");return n}async function k_(e,t){const r=await ke(e,{...t,taskHint:"fill-mask"});if(!(Array.isArray(r)&&r.every(s=>typeof s.score=="number"&&typeof s.sequence=="string"&&typeof s.token=="number"&&typeof s.token_str=="string")))throw new Ne("Expected Array<{score: number, sequence: string, token: number, token_str: string}>");return r}async function S_(e,t){const r=await ke(e,{...t,taskHint:"question-answering"});if(!(typeof r=="object"&&!!r&&typeof r.answer=="string"&&typeof r.end=="number"&&typeof r.score=="number"&&typeof r.start=="number"))throw new Ne("Expected {answer: string, end: number, score: number, start: number}");return r}async function C_(e,t){const r=e.model?await hp(e.model,e.accessToken,t):void 0,n=await ke(e,{...t,taskHint:"sentence-similarity",...r==="feature-extraction"&&{forceTask:"sentence-similarity"}});if(!(Array.isArray(n)&&n.every(i=>typeof i=="number")))throw new Ne("Expected number[]");return n}async function P_(e,t){const r=await ke(e,{...t,taskHint:"summarization"});if(!(Array.isArray(r)&&r.every(s=>typeof(s==null?void 0:s.summary_text)=="string")))throw new Ne("Expected Array<{summary_text: string}>");return r==null?void 0:r[0]}async function N_(e,t){const r=await ke(e,{...t,taskHint:"table-question-answering"});if(!(typeof(r==null?void 0:r.aggregator)=="string"&&typeof r.answer=="string"&&Array.isArray(r.cells)&&r.cells.every(s=>typeof s=="string")&&Array.isArray(r.coordinates)&&r.coordinates.every(s=>Array.isArray(s)&&s.every(i=>typeof i=="number"))))throw new Ne("Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}");return r}async function T_(e,t){var s;const r=(s=await ke(e,{...t,taskHint:"text-classification"}))==null?void 0:s[0];if(!(Array.isArray(r)&&r.every(i=>typeof(i==null?void 0:i.label)=="string"&&typeof i.score=="number")))throw new Ne("Expected Array<{label: string, score: number}>");return r}function Sa(e){return Array.isArray(e)?e:[e]}async function E_(e,t){const r=Sa(await ke(e,{...t,taskHint:"text-generation"}));if(!(Array.isArray(r)&&r.every(s=>typeof(s==null?void 0:s.generated_text)=="string")))throw new Ne("Expected Array<{generated_text: string}>");return r==null?void 0:r[0]}async function*A_(e,t){yield*ja(e,{...t,taskHint:"text-generation"})}async function R_(e,t){const r=Sa(await ke(e,{...t,taskHint:"token-classification"}));if(!(Array.isArray(r)&&r.every(s=>typeof s.end=="number"&&typeof s.entity_group=="string"&&typeof s.score=="number"&&typeof s.start=="number"&&typeof s.word=="string")))throw new Ne("Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>");return r}async function D_(e,t){const r=await ke(e,{...t,taskHint:"translation"});if(!(Array.isArray(r)&&r.every(s=>typeof(s==null?void 0:s.translation_text)=="string")))throw new Ne("Expected type Array<{translation_text: string}>");return(r==null?void 0:r.length)===1?r==null?void 0:r[0]:r}async function O_(e,t){const r=Sa(await ke(e,{...t,taskHint:"zero-shot-classification"}));if(!(Array.isArray(r)&&r.every(s=>Array.isArray(s.labels)&&s.labels.every(i=>typeof i=="string")&&Array.isArray(s.scores)&&s.scores.every(i=>typeof i=="number")&&typeof s.sequence=="string")))throw new Ne("Expected Array<{labels: string[], scores: number[], sequence: string}>");return r}async function M_(e,t){const r=await ke(e,{...t,taskHint:"text-generation",chatCompletion:!0});if(!(typeof r=="object"&&Array.isArray(r==null?void 0:r.choices)&&typeof(r==null?void 0:r.created)=="number"&&typeof(r==null?void 0:r.id)=="string"&&typeof(r==null?void 0:r.model)=="string"&&typeof(r==null?void 0:r.system_fingerprint)=="string"&&typeof(r==null?void 0:r.usage)=="object"))throw new Ne("Expected ChatCompletionOutput");return r}async function*I_(e,t){yield*ja(e,{...t,taskHint:"text-generation",chatCompletion:!0})}async function L_(e,t){var i;const r={...e,inputs:{question:e.inputs.question,image:ka(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},n=(i=Sa(await ke(r,{...t,taskHint:"document-question-answering"})))==null?void 0:i[0];if(!(typeof(n==null?void 0:n.answer)=="string"&&(typeof n.end=="number"||typeof n.end>"u")&&(typeof n.score=="number"||typeof n.score>"u")&&(typeof n.start=="number"||typeof n.start>"u")))throw new Ne("Expected Array<{answer: string, end?: number, score?: number, start?: number}>");return n}async function F_(e,t){var i;const r={...e,inputs:{question:e.inputs.question,image:ka(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},n=(i=await ke(r,{...t,taskHint:"visual-question-answering"}))==null?void 0:i[0];if(!(typeof(n==null?void 0:n.answer)=="string"&&typeof n.score=="number"))throw new Ne("Expected Array<{answer: string, score: number}>");return n}async function $_(e,t){const r=await ke(e,{...t,taskHint:"tabular-regression"});if(!(Array.isArray(r)&&r.every(s=>typeof s=="number")))throw new Ne("Expected number[]");return r}async function V_(e,t){const r=await ke(e,{...t,taskHint:"tabular-classification"});if(!(Array.isArray(r)&&r.every(s=>typeof s=="number")))throw new Ne("Expected number[]");return r}var U_=class{constructor(e="",t={}){ro(this,"accessToken");ro(this,"defaultOptions");this.accessToken=e,this.defaultOptions=t;for(const[r,n]of Object.entries(ac))Object.defineProperty(this,r,{enumerable:!1,value:(s,i)=>n({...s,accessToken:e},{...t,...i})})}endpoint(e){return new q_(e,this.accessToken,this.defaultOptions)}},q_=class{constructor(e,t="",r={}){for(const[n,s]of Object.entries(ac))Object.defineProperty(this,n,{enumerable:!1,value:(i,a)=>s({...i,accessToken:t,endpointUrl:e},{...r,...a})})}};const B_=async(e,t,r,n)=>{var s;try{const{data:i,error:a}=await L.from("huggingface_api_keys").select("api_key").eq("is_active",!0).order("last_used_at",{ascending:!0}).limit(1).single();if(a)throw new Error(`Failed to get API key: ${a.message}`);if(!i)throw new Error("No active API key available");await L.from("huggingface_api_keys").update({last_used_at:new Date().toISOString()}).eq("api_key",i.api_key);const l=new U_(i.api_key),c=((s=r==null?void 0:r[t])==null?void 0:s.example)||"a photo of a cat, high quality, detailed";let u="";const d=await l.chatCompletionStream({model:"Qwen/Qwen2.5-Coder-32B-Instruct",messages:[{role:"system",content:`You are an expert AI image prompt engineer specializing in enhancing prompts for high-quality image generation. Your task is to improve the given prompt while maintaining its core concept and artistic intent but if the prompt is lacking and too short add more details to it making it better and more detailed, Just return the improved prompt saying nothing else. stongly follow these Guidelines: ${c}`},{role:"user",content:e}],max_tokens:2048,temperature:.7});for await(const h of d)if(h.choices&&h.choices.length>0){const f=h.choices[0].delta.content;f&&(u+=f,n(f))}return u.trim()}catch(i){throw console.error("Error improving prompt:",i),i}},z_=e=>{const t=dt(),n=Gn({mutationKey:["deductPromptCredits",e],mutationFn:async()=>{if(!e)throw new Error("User ID is required");const s=1,{data:i}=await L.from("profiles").select("credit_count, bonus_credits").eq("id",e).single();if(!i)throw new Error("Profile not found");if(i.credit_count+i.bonus_credits<s)return-1;let l=i.credit_count,c=i.bonus_credits;if(i.credit_count>=s)l-=s;else{const d=s-i.credit_count;l=0,c-=d}const{error:u}=await L.from("profiles").update({credit_count:l,bonus_credits:c}).eq("id",e);if(u)throw u;return{newCreditCount:l,newBonusCredits:c}},onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}});return{deductCredits:()=>{if(!e)throw new Error("User ID is required");return n.mutate()},isDeducting:n.isPending,error:n.error}},Ca=e=>{const[t,r]=p.useState(!1),{deductCredits:n,isDeducting:s}=z_(e);return{isImproving:t||s,improveCurrentPrompt:async(a,l,c,u)=>{if(!(a!=null&&a.trim())){Y.error("Please enter a prompt");return}r(!0);const d=Y.loading("Improving prompt...",{position:"top-center"});try{const h=await B_(a,l,c,m=>{u(m,!0)});if(!h){Y.error("Failed to improve prompt",{id:d,position:"top-center"});return}if(await n()===-1){Y.error("Not enough credits for prompt improvement",{id:d,position:"top-center"});return}return u(h),Y.success("Prompt improved!",{id:d,position:"top-center"}),h}catch(h){console.error("Error improving prompt:",h),Y.error("Failed to improve prompt",{id:d,position:"top-center"}),u(a)}finally{r(!1)}}}},H_={flux:{name:"Flux.1 Schnell",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-schnell",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Balanced speed and quality",image:"https://i.ibb.co.com/51P0fS0/out-0.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1},turbo:{name:"SD-3.5Large-turbo",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-3.5-large-turbo",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Fast generation with good quality",image:"https://i.ibb.co.com/3C2N2LJ/1734417062623.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},sd35l:{name:"SD-3.5Large",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-3.5-large",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Latest Stable diffusion model",image:"https://i.ibb.co.com/XDLVk6m/R8-sd3-5-L-00001.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:40,use_guidance:!0,defaultguidance:4.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fluxDev:{name:"FLx.1 Dev",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-dev",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Flux dev by black forest labs",image:"https://i.ibb.co.com/gjrM8R5/out-0-1.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:28,use_guidance:!1,use_negative_prompt:!1},ultra:{name:"Flux.1 Pro",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Ultimate-LoRA-Collection",qualityLimits:null,isPremium:!0,promptSuffix:null,tagline:"A merge of multiple models",image:"https://i.ibb.co.com/Tqb5Pgk/sample.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:30,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},midjourney:{name:"Midjourney-V6",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Midjourney-Mix2-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", MJ v6",tagline:"Latest version of Midjourney for free",image:"https://i.ibb.co.com/8PnDLkf/1.png",example:"Start with 'MJ v6,'. Make high quality flawless prompts that will go well wth Midjourney, use quality and style tags like: high quality, studio lighting, professional portrait, e.t.c keep it short yet detailed, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c. End with '--ar 47:64 --v 6.0 --style raw' if making a portrait, else not add this is an example: 'MJ v6, A photo of an attractive man in his thirties, wearing a black coat and yellow scarf with a brown pattern inside a building talking on a phone standing near a modern glass skyscraper in London, shot from below looking up at him in the style of street photography, cinematic.  --ar 85:128 --v 6.0 --style raw'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},logodesign:{name:"Logo Design",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Logo-Design",qualityLimits:null,isPremium:!1,promptSuffix:", wablogo, logo, Minimalist",tagline:"Make your brand Identity",image:"https://i.ibb.co.com/277njvK/03.png",example:"Start with 'wablogo, logo, Minimalist' Then describe the logo to appear in the image, heres an example: 'logo,Minimalist,A pair of chopsticks and a bowl of rice with the word Lee', Usage suggestion: Dual Combination: something and something, e.g., cat and coffee, Font Combination: a shape plus a letter, e.g., a book with the word 'M', or The fingerprint pattern consists of the letters 'hp', Text Below Graphic: Below the graphic is the word 'coffee', directly using with the word 'XX' is also feasible",steps:28,use_guidance:!0,defaultguidance:5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},logodesign2:{name:"Logo Design 2",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Logo",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Make your brand Identity 2",image:"https://i.ibb.co.com/H4cRCjY/458ae986-877f-4928-997e-e80349b4fc13.jpg",example:"Start with 'Logo' Then describe the logo to appear in the image",steps:28,use_guidance:!0,defaultguidance:5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},dalle:{name:"Dall-E 3",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/Nercy/flux-dalle",qualityLimits:null,isPremium:!1,promptSuffix:", dalle",tagline:"Open AI Dall-E 3",image:"https://i.ibb.co.com/18gFNNS/images-example-kz79mj1mz.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},surreal:{name:"Surreal Dream",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/markury/surrealidescent",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Create surreal Images",image:"https://i.ibb.co.com/H7CQmNk/892a4a71-0657-4c7d-b224-bfa8c91354dd.jpg",example:"tailor prompt to be surreal with adding extra surreal elements",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fastReal:{name:"Realism",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Canopus-LoRA-Flux-FaceRealism",qualityLimits:null,isPremium:!1,promptSuffix:", photography, photorealistic, realism",tagline:"make realistic images fast",image:"https://i.ibb.co.com/JrYsbmT/SD3.webp",example:"Start with 'A photorealistic portrait of' .Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, professional portrait. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fastReal2:{name:"Realism 2",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Flux_Realism_Super_Lora",qualityLimits:null,isPremium:!1,promptSuffix:", photography, photorealistic",tagline:"make realistic images fast",image:"https://i.ibb.co.com/hWtLp3S/ip-realism.png",example:"Start with 'A photorealistic portrait of' .Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, professional portrait. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},darkfantasy:{name:"Dark Fantasy",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Dark-Fantasy",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Make Dark fantsy images",image:"https://i.ibb.co.com/Tqs8PQD/c2215bd73da9f14fcd63cc93350e66e2901bdafa6fb8abaaa2c32a1b.jpg",example:"tailer prompt to make fantasy images and use a few unnecessary tags from this: heavily influenced by Klee, Odilon Redon, Eyvind Earle, Roberto Venosa, Sidney Simes, Jan Toorop cinematic still, forced perspective 3/4 angle, bird's eye viewpoint, looking down at main character, dynamic pose of elegant ethereal female Archangel, extraordinarily detailed wings crystalline velvety wings wrapped around her, graceful contrapost chiasm, chiaroscuro, stylised masterpiece award-winning, luscious colour palette, perfect colour grading, perfect balance between lineart, colour, light and volume, delicate, sophisticated, exquisite, Cinematic, Photography, Shot on 70mm, Depth of Field, F/5.6, soft shadows, 8K, genius, award-winning , rim lighting, polygonal statue, VRay tracing style, greek goddess, pop art illustration, etruscan art, fragment icon, neoclassicism, future technology, white textured greek god sculpture, young woman, beauty, coated sunglasses, glowing gold jewelry, greek robe, full body shot, angel wings, serious expression, surrealism, primary color high quality white, background color pure glowing high quality yellow, realistic graphics, photo-realistic, ultra-detailed, fantasy style, 32k",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},Illustturbo:{name:"Illustration turbo",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Simple-Doodle-SD3.5-Turbo",qualityLimits:["HD"],isPremium:!1,promptSuffix:", Simple Doodle",tagline:"make simple illustrations fast",image:"https://i.ibb.co.com/Mhk3M6v/SD1.webp",example:"Start with 'Simple Doodle, A cartoon drawing of' then describe a simple illustration image",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},render3d:{name:"3D Render XL",category:"General",group:"3D",apiUrl:"https://api-inference.huggingface.co/models/goofyai/3D_Render_for_Flux",qualityLimits:null,isPremium:!1,promptSuffix:", 3D render",tagline:"render 3D images",image:"https://i.ibb.co.com/sbmM5mp/3d-style-2.jpg",example:"Start with 'a 3D rendered scene of'. Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, 3D style, blender style, 3D rendered. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c. End with ', blender style'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},anime:{name:"Anime XL",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/LoRa-Flux-Anime-Style",qualityLimits:null,isPremium:!1,promptSuffix:", ANMCH",tagline:"Flwaless Anime style images",image:"https://i.ibb.co.com/c1kPmWg/Euv-INv-Bs-CKZQusp-ZHN-u-F.png",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},anime2xl:{name:"Anime XL 2",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/AnimeXL",qualityLimits:null,isPremium:!1,promptSuffix:", animexl",tagline:"Anime style images make fast",image:"https://i.ibb.co.com/hc3dWxr/images-example-zgfn69jth.jpg",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},modernanime:{name:"Modern Anime",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/flux-Anime",qualityLimits:null,isPremium:!1,promptSuffix:", Anime",tagline:"Modern Anime style images make",image:"https://i.ibb.co.com/X4JJxK2/dca8752b-083c-4f5f-9289-caae3e89196b.jpg",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},ghiblianime:{name:"Ghibli Anime",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/ghibli-stlye-lora",qualityLimits:null,isPremium:!1,promptSuffix:", Anime",tagline:"Modern Anime style images make",image:"https://i.ibb.co.com/BGW8Lxh/example-p3ytf8bpd.jpg",example:"Make high quality flawless prompt for ghibli style anime images,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},dreamscape:{name:"Dreamscape",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/bingbangboom/flux_dreamscape",qualityLimits:null,isPremium:!1,promptSuffix:", in the style of BSstyle004",tagline:"Dream up",image:"https://i.ibb.co.com/nkxPsYG/images-2.jpg",example:"Start with 'in the style of BSstyle004,'. follow this example: 'white-haired young man, extremely simple, large-scale blue, brightly colored board, dark white and light blue'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},cinestill:{name:"CineStill",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/adirik/flux-cinestill",qualityLimits:null,isPremium:!1,promptSuffix:", CNSTLL",tagline:"make distilled Cinematic scenes",image:"https://i.ibb.co.com/rs5g7Xz/3.png",example:"Start with 'CNSTLL,'. Best suited for generating night and dusk time photograph-like images with a distinctive slight halation effect. Keywords that result in better generations 'cinestill 800t', 'night time', 'dusk', '4k', 'high resolution', 'analog film'. Example: 'in the style of CNSTLL , urban landscape, people fishing on Galata  bridge in Istanbul at night'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},asianbeauty:{name:"Asian Beauty",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/TDN-M/East-asian-beauty",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"make distilled Cinematic scenes",image:"https://i.ibb.co.com/ZWYt9Vz/ea2.webp",example:"make prompts for asian beauty images",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},pencilSketch:{name:"Pencil Sketch",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/Datou1111/shou_xin",qualityLimits:null,isPremium:!1,promptSuffix:", shou_xin, pencil sketch",tagline:"sketch art pencil and colors",image:"https://i.ibb.co.com/P4xLs4W/img-00282.png",example:"Start with 'shou_xin A color pencil sketch of' then describe a minimal sketch image subject and End with ', close up, minimalist, impressionism, negative space' heres an example: 'shou_xin, a monochromatic pencil sketch of a crow, minimalist, impressionism, negative space', heres another example: 'shou_xin, A pencil sketch of steve jobs, minimalist, impressionism, negative space'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},vertorArt:{name:"Vector Art",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/lichorosario/flux-lora-simple-vector",qualityLimits:null,isPremium:!1,promptSuffix:", v3ct0r, vector",tagline:"Create Vector arts",image:"https://i.ibb.co.com/wKszPV2/images-example-ylmvpzdqk.jpg",example:"Start with 'v3ct0r style, simple flat vector art, isolated on white bg,' Then describe the Vector Graphics element that should show in the image. Heres an example: 'v3ct0r style, simple flat vector art, isolated on white bg, rocket' heres another example: 'v3ct0r style, simple flat vector art, isolated on white bg, kawaii bread slice wearing black frame eyeglasses. Small smile. There is a blue flower pink center placed at the top right corner of the bread slice.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},undraw:{name:"Undraw Illustration",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/AlloReview/flux-lora-undraw",qualityLimits:null,isPremium:!1,promptSuffix:" in the style of UndrawPurple",tagline:"Create Undraw illustrations",image:"https://i.ibb.co.com/KX7cFBC/4b22ca52-c8ad-43e3-8690-4961570020b4.jpg",example:"Start with 'in the style of UndrawPurple' Then describe the Vector Graphics element inspired by Undraw style that should show in the image.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},graphic:{name:"Graphic Arts",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/securemepro/ai_graphic",qualityLimits:null,isPremium:!1,promptSuffix:" AI_GRAPHIC",tagline:"Create minimal graphic designs",image:"https://i.ibb.co.com/njB3kD2/3335a4b8-c787-43ef-81fa-8f2b27568740.jpg",example:"Start with 'AI_GRAPHIC' Then describe the Graphics element inspired that should show in the image.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},Isometric:{name:"Isometric",category:"General",group:"3D",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Isometric-3D-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Isometric 3D",tagline:"Isometric style, build your world",image:"https://i.ibb.co.com/88P57s7/ID2.png",example:"Start with 'Isometric 3D, a 3D model of' Then describe the things to appear in the image, heres an example: 'Isometric 3D, a 3D model of a tropical island is displayed on a light blue backdrop. The island features a small body of water, surrounded by gray rocks and green grass. There are palm trees and small bushes scattered throughout the island, adding a pop of color to the scene.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},mixreality:{name:"Mix Reality",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Logo-Design",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Cross the boudary",image:"https://i.ibb.co.com/gw2DNvN/images-3.jpg",example:"Make prompt for making images where reality and anime or illustration mixes, example: 'A vivid photo of a 2D illustrated anime girl riding a bicycle, busy street, road signs. The photo is a blend of illustration and reality, in the style of HLFILSTHLFPHTO'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fashion:{name:"Fashion Photography",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Fashion",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Create Fashion Models",image:"https://i.ibb.co.com/n8SLF9M/1d7def8c-d9a7-47c3-aabd-4e1a718aad89.jpg",example:"Make prompt for making images of Fashion photography, example: 'A fashion model in a red dress, standing in front of a white background. The model has long brown hair and is wearing a red dress with a plunging neckline. The dress has a fitted bodice and a full skirt. The model is wearing red lipstick and has her hair styled in loose waves. She is looking directly at the camera with a serious expression.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},sticker:{name:"Sticker",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Ton618-Only-Stickers-Flux-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Only Sticker",tagline:"Make your brand Identity",image:"https://i.ibb.co.com/Ryx6b4B/111.png",example:"Start with 'Only Sticker, An animated image of a' Then describe the sticker to appear in the image, heres an example: 'Only Sticker, An animated illustration of a sloth in a mug with the words 'Sloth Fuel' written on it. The sloth is holding the mug with its left hand and its right hand resting on the mug. The mug is filled with coffee and there is a brown liquid dripping from the bottom of the cup. There is a white background behind the sloth with a smoke coming out of it. There are three coffee beans on the bottom left corner of the image.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},handwriting:{name:"Handwriting",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/fofr/flux-handwriting",qualityLimits:null,isPremium:!1,promptSuffix:", HWRIT handwriting",tagline:"Real lookin handwriting images",image:"https://i.ibb.co.com/mFPgMkj/0041358a-ee46-4cab-85f5-108c4f09b729.jpg",example:"make prompt like this: HWRIT very neat handwriting saying 'this is a handwriting model'(replace this with the text to write in the image), black(replace with suitable color) ink on white_paper(replace with on what to write)",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},teenoutfitGenerator:{name:"Teen Outfit",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Teen-Outfit",qualityLimits:null,isPremium:!1,promptSuffix:", Teen Outfit",tagline:"Make cool outfits and cloths",image:"https://i.ibb.co.com/MCWQZBN/TO3.png",example:"Start with 'Teen Outfit,' Then describe the outfit in very details, Example: 'Teen Outfit, a teal and white jacket is adorned with a white hoodie. The jacket has a white stripe down the left side of the jacket, and two white stripes on the right and left side. On the left sleeve, there is a text written in a cursive font that is in black ink that reads X and X. The jacket is positioned against a stark white backdrop, creating a striking contrast.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},colorChaos:{name:"Color Chaos",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Digital-Chaos-Flux-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Digital Chaos",tagline:"Chaos of Colors to make modern art",image:"https://i.ibb.co.com/TgcCsdf/HDRDC2.webp",example:"Start with 'Digital Chaos,' in the end describe background colors like this: 'The background is a mix of blue, purple, orange, and yellow, and white.' heres an example: 'Digital Chaos, An abstract painting of a womans face, the womans head is covered in black hair. The womans eyes are closed, and her lips are slightly parted. The background is a mix of blue, purple, orange, and yellow, and white. The painting has splashes of white, red, and blue, and black, creating a vibrant and colorful effect.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},pixelArt:{name:"Pixel Art",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/mindlywork/pixel_art_style_v1.0",qualityLimits:null,isPremium:!1,promptSuffix:", pixel_art_style_v1.0",tagline:"Modern Pixel art",image:"https://i.ibb.co.com/DkdtLrG/Comfy-UI-00047.png",example:"Tailor prompt to make Pixel art images and start with 'pixel_art_style_v1.0'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},iconkit:{name:"Icon Kit",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Icon-Kit-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Icon kit",tagline:"3d Icons",image:"https://i.ibb.co.com/cxqCCnf/1-1.png",example:"Start with 'Icon Kit, An animated image of' then describe a minimal element as icon for the image and at the end describe a suitable calm background color, heres an example: 'Icon Kit, An animated image of a red canister with a black cap on the top. The canister has a black stripe on the side and a yellow hose attached to the cap. The background is a bright blue color.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},aura:{name:"Aura 9999+",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Aura-9999",qualityLimits:null,isPremium:!1,promptSuffix:", Aura 9999",tagline:"gives your creations some aura",image:"https://i.ibb.co.com/NNWjs4d/A3.png",example:"Start with 'Aura 9999,' then describe the image and add aura elements to the image suitably to generte an image that showcases Aura on the subject of the image. here an example: 'Aura 9999, a hamburger is captured in a vibrant blue-green glow. The hamburger bun is adorned with sesame seeds, adding a pop of color to the otherwise monochromatic scene. The burger is situated in the center of the frame, with a layer of lettuce surrounding it. The lettuce is a vibrant shade of green, while the tomato slices are a vibrant red. The sandwich is positioned in front of a backdrop of smoke, creating a stark contrast to the burger. The lighting is subdued in the foreground, adding depth to the composition.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},blacked:{name:"Minimal blacked",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/SD3.5-Large-Minimal-Blacked-LoRA",qualityLimits:["HD"],isPremium:!1,promptSuffix:", blacked",tagline:"minimal black background",image:"https://i.ibb.co.com/qskQPqT/q4.webp",example:"Describe a minimal graphics element then use 'depicted against a dark blacked background' example: A bright green leaf logo is depicted against a dark blacked background. The leaf has smooth, organic lines with subtle veins running through it, giving it a natural and lifelike appearance. A soft glow surrounds the leaf, adding a gentle illumination that contrasts beautifully with the dark background. This contrast between the vibrant green and deep black creates a fresh and eco-friendly feel, making the logo appear both vibrant and serene.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},gameassets:{name:"Game assets",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/gokaygokay/Flux-Game-Assets-LoRA-v2",qualityLimits:null,isPremium:!1,promptSuffix:", wbgmsst",tagline:"Create game assets",image:"https://i.ibb.co.com/vdMRPnn/images-example-c6ery92u6.jpg",example:"Start with 'wbgmsst', Tailor prompt to make Game assets images with white background, example: ",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},disney:{name:"Disney",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Keltezaa/all-disney-princess-xl-lora-model-from-ralph-breaks-the-internet",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Disney princes, use name",image:"https://i.ibb.co.com/54bxzMk/4058459.jpg",example:"You have to make amazing disney style images prompt of disney princesses, if princess name not mentioned in original prompt then add suitable name like Elsa or Anna, heres an example: 'cinematic photo casual anna, ,   . 35mm photograph, film, bokeh, professional, 4k, highly detailed'",steps:25,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},nsfwMaster:{name:"Real",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/aifeifei798/sldr_flux_nsfw_v2-studio",qualityLimits:null,isPremium:!1,promptSuffix:", Nsfw, naked,",tagline:"NSFW generation",image:"https://i.ibb.co.com/qm9ZjV4/b36e71ed-c142-49c4-8ba5-4f3a57bd6ae9.jpg",example:"craft high quality prompts to make images of naked girls in nudity related things",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},animeNsfw:{name:"Anime",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/John6666/mala-anime-mix-nsfw-pony-xl-v5-sdxl",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Anime-style NSFW generation",image:"https://i.ibb.co.com/Tt1gwLG/1730283256633.jpg",example:"craft high quality prompts to make images of naked girls in nudity or sex related things",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},nudephotography:{name:"Nude Photography",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/Keltezaa/Prof_Nude_photography_v3_flux",qualityLimits:null,isPremium:!1,promptSuffix:", Nude photograpy, naked",tagline:"Nude models for Photoshoot",image:"https://i.ibb.co.com/GW2LDP1/example-20kld8mba.jpg",example:"craft high quality prompts to make images of naked porn models girls",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"}},Vt=()=>({data:p.useMemo(()=>H_,[]),isLoading:!1}),W_=()=>{Vt();const[e,t]=p.useState({prompt:"",seed:0,randomizeSeed:!0,width:1024,height:1024,model:"fluxDev",activeTab:"images",aspectRatio:"1:1",useAspectRatio:!0,quality:"HD",modelSidebarOpen:!1,selectedImage:null,detailsDialogOpen:!1,fullScreenViewOpen:!1,fullScreenImageIndex:0,generatingImages:[],activeView:"myImages",nsfwEnabled:!1,style:null,imageCount:1,isPrivate:!1});return p.useEffect(()=>{const s=e.generatingImages.filter(i=>i.status==="completed");if(s.length>0){const i=s.map(a=>setTimeout(()=>{t(l=>({...l,generatingImages:l.generatingImages.filter(c=>c.id!==a.id)}))},1e4));return()=>{i.forEach(a=>clearTimeout(a))}}},[e.generatingImages]),{...e,...{setPrompt:s=>t(i=>({...i,prompt:s})),setSeed:s=>t(i=>({...i,seed:s})),setRandomizeSeed:s=>t(i=>({...i,randomizeSeed:s})),setWidth:s=>t(i=>({...i,width:s})),setHeight:s=>t(i=>({...i,height:s})),setModel:s=>t(i=>({...i,model:s})),setActiveTab:s=>t(i=>({...i,activeTab:s})),setAspectRatio:s=>t(i=>({...i,aspectRatio:s})),setUseAspectRatio:s=>t(i=>({...i,useAspectRatio:s})),setQuality:s=>t(i=>({...i,quality:s})),setModelSidebarOpen:s=>t(i=>({...i,modelSidebarOpen:s})),setSelectedImage:s=>t(i=>({...i,selectedImage:s})),setDetailsDialogOpen:s=>t(i=>({...i,detailsDialogOpen:s})),setFullScreenViewOpen:s=>t(i=>({...i,fullScreenViewOpen:s})),setFullScreenImageIndex:s=>t(i=>({...i,fullScreenImageIndex:s})),setGeneratingImages:s=>{t(i=>({...i,generatingImages:Array.isArray(s)?s:typeof s=="function"?s(i.generatingImages):[]}))},setActiveView:s=>t(i=>({...i,activeView:s})),setNsfwEnabled:s=>t(i=>({...i,nsfwEnabled:s})),setStyle:s=>t(i=>({...i,style:s})),setImageCount:s=>t(i=>({...i,imageCount:s})),setIsPrivate:s=>t(i=>({...i,isPrivate:s}))}}},Ur=e=>Ee({queryKey:["proUser",e],queryFn:async()=>{if(!e)return!1;try{const{data:t,error:r}=await L.from("profiles").select("is_pro").eq("id",e).single();return r?(console.error("Error fetching pro status:",r),!1):(t==null?void 0:t.is_pro)||!1}catch(t){return console.error("Error in useProUser:",t),!1}},enabled:!!e,staleTime:1e3*60*5,cacheTime:1e3*60*30,retry:2}),Pa=async(e,t)=>{if(!(e!=null&&e.id)){Y.error("Invalid image data");return}try{const{data:r,error:n}=await L.from("user_images").select("storage_path").eq("id",e.id).maybeSingle();if(n){console.error("Error fetching image:",n),Y.error("Failed to verify image");return}if(!r){console.log("Image not found in database, might have been already deleted"),t&&t.invalidateQueries({queryKey:["galleryImages"]});return}if(!r.storage_path){console.error("No storage path found for image"),Y.error("Image file not found");return}console.log("Full storage path:",r.storage_path);let s=r.storage_path;if(s.includes("user-images/")&&(s=s.split("user-images/")[1]),console.log("Extracted relative path:",s),!s){console.error("Invalid storage path format"),Y.error("Invalid file path");return}const{error:i}=await L.storage.from("user-images").remove([s]);if(i){console.error("Error deleting from storage:",i),Y.error("Failed to delete image file");return}const{error:a}=await L.from("user_images").delete().eq("id",e.id);if(a){console.error("Error deleting from database:",a);try{Y.error("Failed to delete image record. Please try again.")}catch(l){console.error("Error in cleanup after failed deletion:",l)}return}t&&t.invalidateQueries({queryKey:["galleryImages"]}),Y.success("Image deleted successfully")}catch(r){console.error("Error in handleImageDiscard:",r),Y.error("Failed to delete image")}},G_=({generateImage:e,setSelectedImage:t,setFullScreenViewOpen:r,setModel:n,setPrompt:s,setSeed:i,setRandomizeSeed:a,setWidth:l,setHeight:c,setQuality:u,quality:d,setAspectRatio:h,setUseAspectRatio:f,aspectRatios:m=[],session:g,queryClient:y,activeView:b,setDetailsDialogOpen:v,setActiveView:w})=>{var O;const x=We(),{data:_}=Vt();Ur((O=g==null?void 0:g.user)==null?void 0:O.id);const C=async()=>{await e()};return{handleImageClick:M=>{t(M),r(!0)},handleModelChange:M=>{const V=_==null?void 0:_[M];V!=null&&V.qualityLimits&&(V.qualityLimits.includes(d)||u("HD")),n(M)},handlePromptKeyDown:async M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),await C())},handleRemix:M=>{if(!g)return;s(M.prompt),i(M.seed),a(!1),l(M.width),c(M.height),n(M.model);const V=_==null?void 0:_[M.model];V!=null&&V.qualityLimits?V.qualityLimits.includes(M.quality)?u(M.quality):u("HD"):u(M.quality),M.aspect_ratio&&(h(M.aspect_ratio),f(!0)),w("input"),x("/#imagegenerate")},handleDownload:async(M,V)=>{const $=document.createElement("a");$.href=M,$.download=`${V}.png`,document.body.appendChild($),$.click(),document.body.removeChild($)},handleDiscard:async M=>{if(M)try{await Pa({id:M},y)}catch(V){console.error("Error deleting image:",V)}},handleViewDetails:M=>{t(M),v(!0)}}};var oc="Switch",[K_,aR]=ns(oc),[Y_,Q_]=K_(oc),mp=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),g=$t(t,x=>m(x)),y=p.useRef(!1),b=f?d||!!f.closest("form"):!0,[v=!1,w]=ma({prop:s,defaultProp:i,onChange:u});return o.jsxs(Y_,{scope:r,checked:v,disabled:l,children:[o.jsx(Ge.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":yp(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:Be(e.onClick,x=>{w(_=>!_),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&o.jsx(X_,{control:f,bubbles:!y.current,name:n,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});mp.displayName=oc;var pp="SwitchThumb",gp=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Q_(pp,r);return o.jsx(Ge.span,{"data-state":yp(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});gp.displayName=pp;var X_=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=p.useRef(null),a=tv(r),l=U0(t);return p.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[a,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yp(e){return e?"checked":"unchecked"}var vp=mp,J_=gp;const bp=p.forwardRef(({className:e,...t},r)=>o.jsx(vp,{className:k("peer inline-flex h-6 w-12 shrink-0 cursor-pointer items-center rounded-full","bg-accent/60 hover:bg-muted/70","transition-all duration-300","focus-visible:outline-none","focus-visible:ring-2 focus-visible:ring-primary/90","focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary/90 data-[state=checked]:hover:bg-primary/90",e),...t,ref:r,children:o.jsx(J_,{className:k("pointer-events-none block rounded-full w-4 h-4","bg-background shadow-md","ring-1 ring-border/20 ring-offset-1 ring-offset-background","transition-all duration-300 ease-in-out","data-[state=checked]:translate-x-7 data-[state=unchecked]:translate-x-1")})}));bp.displayName=vp.displayName;const Z_=oi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:t,...r}){return o.jsx("div",{className:k(Z_({variant:t}),e),...r})}const ej=e=>{const[t,r]=p.useState(!1);return p.useEffect(()=>{const n=window.matchMedia(e);n.matches!==t&&r(n.matches);const s=()=>r(n.matches);return n.addListener(s),()=>n.removeListener(s)},[t,e]),t},tj=({ratio:e="1:1",isPremium:t,quality:r,onQualityToggle:n,qualityLimits:s})=>{const[i,a]=(e||"1:1").split(":").map(Number),c=ej("(max-width: 768px)")?300:250;let u,d;i===a?(u=c,d=c):i>a?(u=c,d=c*(a/i)):(d=c,u=c*(i/a));const h=(s==null?void 0:s.length)===1&&s[0]==="HD";return o.jsx("div",{className:"flex flex-col items-center space-y-1",children:o.jsx("div",{className:"relative w-full h-auto aspect-square",children:o.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{role:h?void 0:"button",tabIndex:h?void 0:0,onClick:h?void 0:n,onKeyDown:h?void 0:f=>f.key==="Enter"&&n(),className:k("absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2 z-10",!h&&"cursor-pointer"),children:o.jsxs("span",{className:k("inline-flex items-center rounded-full text-xs font-semibold","border-transparent bg-primary text-primary-foreground",!h&&"hover:bg-primary/90","flex items-center gap-1 px-5 py-0.5"),children:[r,!h&&(r==="HD"?o.jsx(f1,{className:"h-2.5 w-2.5"}):o.jsx(h1,{className:"h-2.5 w-2.5"}))]})}),o.jsxs("div",{className:k("relative overflow-hidden","rounded-lg","flex items-center justify-center","transition-all duration-200 ease-in-out","border-2 border-border/80"),style:{width:`${u}px`,height:`${d}px`},children:[o.jsx("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3",children:[...Array(9)].map((f,m)=>o.jsx("div",{className:"border border-border/60 hover:border-border/60 transition-colors duration-200"},m))}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[o.jsx("div",{className:"w-full h-[2px] bg-border/60"}),o.jsx("div",{className:"absolute h-full w-[2px] bg-border/60"})]}),o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/3 w-[2px] h-2 border-border/60"}),o.jsx("div",{className:"absolute top-0 right-1/3 w-[2px] h-2 border-border/60"}),o.jsx("div",{className:"absolute bottom-0 left-1/3 w-[2px] h-2 border-border/60"}),o.jsx("div",{className:"absolute bottom-0 right-1/3 w-[2px] h-2 border-border/60"}),o.jsx("div",{className:"absolute left-0 top-1/3 h-[2px] w-2 border-border/60"}),o.jsx("div",{className:"absolute left-0 bottom-1/3 h-[2px] w-2 border-border/60"}),o.jsx("div",{className:"absolute right-0 top-1/3 h-[2px] w-2 border-border/60"}),o.jsx("div",{className:"absolute right-0 bottom-1/3 h-[2px] w-2 border-border/60"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:k("flex items-center gap-2"),children:[o.jsx("span",{className:"text-sm font-medium",children:e}),t&&o.jsx(cs,{className:"h-3.5 w-3.5 text-primary opacity-80 group-hover:opacity-100 transition-opacity duration-200"})]})})]})]})})})})},rj=({value:e,onChange:t,min:r,max:n})=>{const s=p.useRef(null),i=p.useRef(null),a=c=>{if(!s.current||!i.current)return;const u=(n+r)/2,d=i.current;if(c<u){const h=(c-r)/(u-r)*50;d.style.left=`${h}%`,d.style.right="50%"}else{const h=(c-u)/(n-u)*50;d.style.left="50%",d.style.right=`${50-h}%`}};p.useEffect(()=>{a(e)},[e]);const l=c=>{const u=parseFloat(c.target.value);t(u),a(u)};return o.jsxs("div",{className:"relative w-full h-8 flex items-center",children:[o.jsx("div",{className:"absolute w-full h-2 bg-muted rounded-full",children:o.jsx("div",{ref:i,className:"absolute h-full bg-primary rounded-full transition-all duration-150",style:{left:"50%",right:"50%"}})}),o.jsx("input",{ref:s,type:"range",min:r,max:n,value:e,onChange:l,className:k("absolute w-full h-2","appearance-none bg-transparent cursor-pointer","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4","[&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary","[&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-background","[&::-webkit-slider-thumb]:shadow-sm [&::-webkit-slider-thumb]:transition-all","[&::-webkit-slider-thumb]:hover:bg-primary/90","[&::-moz-range-thumb]:appearance-none","[&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4","[&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary","[&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-background","[&::-moz-range-thumb]:shadow-sm [&::-moz-range-thumb]:transition-all","[&::-moz-range-thumb]:hover:bg-primary/90")})]})},nj=({aspectRatio:e="1:1",setAspectRatio:t,quality:r="HD",setQuality:n,proMode:s,qualityLimits:i=null})=>{const a=["9:21","21:9","3:2","2:3","4:5","5:4","10:16","16:10"],l=["9:21","1:2","9:16","2:3","3:4","4:5","1:1","5:4","4:3","3:2","16:9","2:1","21:9"].filter(h=>s||!a.includes(h));p.useEffect(()=>{!s&&a.includes(e)&&t("1:1")},[e,s,t]),p.useEffect(()=>{(i==null?void 0:i.length)===1&&i[0]==="HD"&&r!=="HD"&&n("HD")},[i,r,n]);const c=()=>{(i==null?void 0:i.length)===1&&i[0]==="HD"||n(r==="HD"?"HD+":"HD")},u=h=>{const f=l.indexOf("1:1");if(Math.abs(h)<1){t("1:1");return}let m;if(h<0){const g=f,y=(h+50)/50*g;m=Math.round(y)}else{const g=l.length-1-f,y=h/50*g;m=f+Math.round(y)}t(l[Math.max(0,Math.min(l.length-1,m))]||"1:1")},d=()=>{const h=l.indexOf("1:1"),f=l.indexOf(e);if(f===h||!l.includes(e))return 0;if(f<h)return-50*(1-f/h);{const m=f-h,g=l.length-1-h;return m/g*50}};return o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(tj,{ratio:e,isPremium:!s&&a.includes(e),quality:r,onQualityToggle:c,qualityLimits:i}),o.jsx("div",{className:"relative",children:o.jsx(rj,{value:d(),onChange:u,min:-50,max:50})})]})};var sj="VisuallyHidden",xp=p.forwardRef((e,t)=>o.jsx(Ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xp.displayName=sj;var ij=xp,[Na,oR]=ns("Tooltip",[pa]),Ta=pa(),wp="TooltipProvider",aj=700,fl="tooltip.open",[oj,lc]=Na(wp),_p=e=>{const{__scopeTooltip:t,delayDuration:r=aj,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(oj,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};_p.displayName=wp;var Ea="Tooltip",[lj,Aa]=Na(Ea),jp=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=lc(Ea,e.__scopeTooltip),u=Ta(t),[d,h]=p.useState(null),f=Fl(),m=p.useRef(0),g=a??c.disableHoverableContent,y=l??c.delayDuration,b=p.useRef(!1),[v=!1,w]=ma({prop:n,defaultProp:s,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(fl))):c.onClose(),i==null||i(N)}}),x=p.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,w(!0)},[w]),C=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),T=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,w(!0),m.current=0},y)},[y,w]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(xf,{...u,children:o.jsx(lj,{scope:t,contentId:f,open:v,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?T():_()},[c.isOpenDelayed,T,_]),onTriggerLeave:p.useCallback(()=>{g?C():(window.clearTimeout(m.current),m.current=0)},[C,g]),onOpen:_,onClose:C,disableHoverableContent:g,children:r})})};jp.displayName=Ea;var ml="TooltipTrigger",kp=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Aa(ml,r),i=lc(ml,r),a=Ta(r),l=p.useRef(null),c=$t(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx($l,{asChild:!0,...a,children:o.jsx(Ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Be(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Be(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Be(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Be(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Be(e.onBlur,s.onClose),onClick:Be(e.onClick,s.onClose)})})});kp.displayName=ml;var cj="TooltipPortal",[lR,uj]=Na(cj,{forceMount:void 0}),Qn="TooltipContent",Sp=p.forwardRef((e,t)=>{const r=uj(Qn,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=Aa(Qn,e.__scopeTooltip);return o.jsx(Vr,{present:n||a.open,children:a.disableHoverableContent?o.jsx(Cp,{side:s,...i,ref:t}):o.jsx(dj,{side:s,...i,ref:t})})}),dj=p.forwardRef((e,t)=>{const r=Aa(Qn,e.__scopeTooltip),n=lc(Qn,e.__scopeTooltip),s=p.useRef(null),i=$t(t,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((g,y)=>{const b=g.currentTarget,v={x:g.clientX,y:g.clientY},w=pj(v,b.getBoundingClientRect()),x=gj(v,w),_=yj(y.getBoundingClientRect()),C=bj([...x,..._]);l(C),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const g=b=>m(b,d),y=b=>m(b,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,m,f]),p.useEffect(()=>{if(a){const g=y=>{const b=y.target,v={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!vj(v,a);w?f():x&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,f]),o.jsx(Cp,{...e,ref:i})}),[hj,fj]=Na(Ea,{isInside:!1}),Cp=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Aa(Qn,r),u=Ta(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(fl,d),()=>document.removeEventListener(fl,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(vf,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(q0,{children:n}),o.jsx(hj,{scope:r,isInside:!0,children:o.jsx(ij,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Sp.displayName=Qn;var Pp="TooltipArrow",mj=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ta(r);return fj(Pp,r).isInside?null:o.jsx(bf,{...s,...n,ref:t})});mj.displayName=Pp;function pj(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gj(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function yj(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function vj(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function bj(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),xj(t)}function xj(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wj=_p,_j=jp,jj=kp,Np=Sp;const cc=wj,uc=_j,dc=jj,Ra=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Np,{ref:n,sideOffset:t,className:k("z-100 overflow-hidden rounded-xl border border-border/80 bg-popover/95 px-4 py-2 text-sm text-popover-foreground/90 shadow-[0_8px_30px_rgb(0,0,0,0.06)] backdrop-blur-[2px] transition-all duration-200 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ra.displayName=Np.displayName;const Os=({label:e,tooltip:t,children:r})=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-sm font-medium",children:e}),t&&o.jsx(cc,{children:o.jsxs(uc,{children:[o.jsx(dc,{asChild:!0,children:o.jsx(m1,{className:"w-2.5 h-2.5 text-muted-foreground cursor-help"})}),o.jsx(Ra,{className:"max-w-[300px]",children:o.jsx("p",{className:"text-xs",children:t})})]})})]}),r]});var hc="Popover",[Tp,cR]=ns(hc,[pa]),di=pa(),[kj,qr]=Tp(hc),Ep=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=di(t),c=p.useRef(null),[u,d]=p.useState(!1),[h=!1,f]=ma({prop:n,defaultProp:s,onChange:i});return o.jsx(xf,{...l,children:o.jsx(kj,{scope:t,contentId:Fl(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:r})})};Ep.displayName=hc;var Ap="PopoverAnchor",Sj=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qr(Ap,r),i=di(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx($l,{...i,...n,ref:t})});Sj.displayName=Ap;var Rp="PopoverTrigger",Dp=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qr(Rp,r),i=di(r),a=$t(t,s.triggerRef),l=o.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fp(s.open),...n,ref:a,onClick:Be(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx($l,{asChild:!0,...i,children:l})});Dp.displayName=Rp;var fc="PopoverPortal",[Cj,Pj]=Tp(fc,{forceMount:void 0}),Op=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=qr(fc,t);return o.jsx(Cj,{scope:t,forceMount:r,children:o.jsx(Vr,{present:r||i.open,children:o.jsx(G0,{asChild:!0,container:s,children:n})})})};Op.displayName=fc;var Xn="PopoverContent",Mp=p.forwardRef((e,t)=>{const r=Pj(Xn,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=qr(Xn,e.__scopePopover);return o.jsx(Vr,{present:n||i.open,children:i.modal?o.jsx(Nj,{...s,ref:t}):o.jsx(Tj,{...s,ref:t})})});Mp.displayName=Xn;var Nj=p.forwardRef((e,t)=>{const r=qr(Xn,e.__scopePopover),n=p.useRef(null),s=$t(t,n),i=p.useRef(!1);return p.useEffect(()=>{const a=n.current;if(a)return B0(a)},[]),o.jsx(z0,{as:mf,allowPinchZoom:!0,children:o.jsx(Ip,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Be(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Be(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tj=p.forwardRef((e,t)=>{const r=qr(Xn,e.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return o.jsx(Ip,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ip=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=qr(Xn,r),m=di(r);return H0(),o.jsx(W0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(yf,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(vf,{"data-state":Fp(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Lp="PopoverClose",Ej=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qr(Lp,r);return o.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Be(e.onClick,()=>s.onOpenChange(!1))})});Ej.displayName=Lp;var Aj="PopoverArrow",Rj=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=di(r);return o.jsx(bf,{...s,...n,ref:t})});Rj.displayName=Aj;function Fp(e){return e?"open":"closed"}var Dj=Ep,Oj=Dp,Mj=Op,$p=Mp;const Ij=Dj,Lj=Oj,Vp=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(Mj,{children:o.jsx($p,{ref:s,align:t,sideOffset:r,className:k("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vp.displayName=$p.displayName;function Fj(e,[t,r]){return Math.min(r,Math.max(t,e))}function $j(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var mc="ScrollArea",[Up,uR]=ns(mc),[Vj,Rt]=Up(mc),qp=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,g]=p.useState(null),[y,b]=p.useState(null),[v,w]=p.useState(0),[x,_]=p.useState(0),[C,T]=p.useState(!1),[N,S]=p.useState(!1),P=$t(t,A=>c(A)),R=gf(s);return o.jsx(Vj,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:S,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(Ge.div,{dir:R,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});qp.displayName=mc;var Bp="ScrollAreaViewport",zp=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,a=Rt(Bp,r),l=p.useRef(null),c=$t(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});zp.displayName=Bp;var Zt="ScrollAreaScrollbar",pc=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rt(Zt,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(Uj,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(qj,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(Hp,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(gc,{...n,ref:t}):null});pc.displayName=Zt;var Uj=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rt(Zt,e.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Vr,{present:r||i,children:o.jsx(Hp,{"data-state":i?"visible":"hidden",...n,ref:t})})}),qj=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rt(Zt,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Oa(()=>c("SCROLL_END"),100),[l,c]=$j("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),o.jsx(Vr,{present:r||l!=="hidden",children:o.jsx(gc,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Hp=p.forwardRef((e,t)=>{const r=Rt(Zt,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,a]=p.useState(!1),l=e.orientation==="horizontal",c=Oa(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return Jn(r.viewport,c),Jn(r.content,c),o.jsx(Vr,{present:n||i,children:o.jsx(gc,{"data-state":i?"visible":"hidden",...s,ref:t})})}),gc=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Rt(Zt,e.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Qp(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,m){return Kj(f,a.current,l,m)}return r==="horizontal"?o.jsx(Bj,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=md(f,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):r==="vertical"?o.jsx(zj,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=md(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Bj=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Rt(Zt,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=$t(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Gp,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Da(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),Jp(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ea(a.paddingLeft),paddingEnd:ea(a.paddingRight)}})}})}),zj=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Rt(Zt,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=$t(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Gp,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Da(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),Jp(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ea(a.paddingTop),paddingEnd:ea(a.paddingBottom)}})}})}),[Hj,Wp]=Up(Zt),Gp=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Rt(Zt,r),[g,y]=p.useState(null),b=$t(t,P=>y(P)),v=p.useRef(null),w=p.useRef(""),x=m.viewport,_=n.content-n.viewport,C=en(d),T=en(c),N=Oa(h,10);function S(P){if(v.current){const R=P.clientX-v.current.left,A=P.clientY-v.current.top;u({x:R,y:A})}}return p.useEffect(()=>{const P=R=>{const A=R.target;(g==null?void 0:g.contains(A))&&C(R,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,g,_,C]),p.useEffect(T,[n,T]),Jn(g,N),Jn(m.content,N),o.jsx(Hj,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:en(i),onThumbPointerUp:en(a),onThumbPositionChange:T,onThumbPointerDown:en(l),children:o.jsx(Ge.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:Be(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(P))}),onPointerMove:Be(e.onPointerMove,S),onPointerUp:Be(e.onPointerUp,P=>{const R=P.target;R.hasPointerCapture(P.pointerId)&&R.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Zi="ScrollAreaThumb",Kp=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Wp(Zi,e.__scopeScrollArea);return o.jsx(Vr,{present:r||s.hasThumb,children:o.jsx(Wj,{ref:t,...n})})}),Wj=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Rt(Zi,r),a=Wp(Zi,r),{onThumbPositionChange:l}=a,c=$t(t,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=Oa(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=Yj(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(Ge.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Be(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,y=h.clientY-m.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:Be(e.onPointerUp,a.onThumbPointerUp)})});Kp.displayName=Zi;var yc="ScrollAreaCorner",Yp=p.forwardRef((e,t)=>{const r=Rt(yc,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Gj,{...e,ref:t}):null});Yp.displayName=yc;var Gj=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Rt(yc,r),[i,a]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Jn(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Jn(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(Ge.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ea(e){return e?parseInt(e,10):0}function Qp(e,t){const r=e/t;return isNaN(r)?0:r}function Da(e){const t=Qp(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Kj(e,t,r,n="ltr"){const s=Da(r),i=s/2,a=t||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return Xp([c,u],h)(e)}function md(e,t,r="ltr"){const n=Da(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,a]:[a*-1,0],u=Fj(e,c);return Xp([0,a],[0,l])(u)}function Xp(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Jp(e,t){return e>0&&e<t}var Yj=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Oa(e,t){const r=en(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Jn(e,t){const r=en(t);K0(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Zp=qp,Qj=zp,Xj=Yp;const Ut=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Zp,{ref:n,className:k("relative overflow-hidden",e),...r,children:[o.jsx(Qj,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(eg,{}),o.jsx(Xj,{})]}));Ut.displayName=Zp.displayName;const eg=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(pc,{ref:n,orientation:t,className:k("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Kp,{className:"relative flex-1 rounded-full bg-border"})}));eg.displayName=pc.displayName;function Jj(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function Ma(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const pl=e=>Array.isArray(e);function tg(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Bs(e){return typeof e=="string"||Array.isArray(e)}function pd(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function vc(e,t,r,n){if(typeof t=="function"){const[s,i]=pd(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=pd(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Ia(e,t,r){const n=e.getProps();return vc(n,t,r!==void 0?r:n.custom,e)}const bc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xc=["initial",...bc],hi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vn=new Set(hi),cr=e=>e*1e3,ur=e=>e/1e3,Zj={type:"spring",stiffness:500,damping:25,restSpeed:10},ek=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tk={type:"keyframes",duration:.8},rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nk=(e,{keyframes:t})=>t.length>2?tk:vn.has(e)?e.startsWith("scale")?ek(t[1]):Zj:rk;function wc(e,t){return e?e[t]||e.default||e:void 0}const sk={skipAnimations:!1,useManualTiming:!1},ik=e=>e!==null;function La(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(ik),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const xt=e=>e;let gl=xt;function ak(e){let t=new Set,r=new Set,n=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(a=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const Ti=["read","resolveKeyframes","update","preRender","render","postRender"],ok=40;function rg(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=Ti.reduce((v,w)=>(v[w]=ak(i),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,m=()=>{const v=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,ok),1),s.timestamp=v,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},g=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:Ti.reduce((v,w)=>{const x=a[w];return v[w]=(_,C=!1,T=!1)=>(r||g(),x.schedule(_,C,T)),v},{}),cancel:v=>{for(let w=0;w<Ti.length;w++)a[Ti[w]].cancel(v)},state:s,steps:a}}const{schedule:De,cancel:Fr,state:Je,steps:ho}=rg(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0),ng=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,lk=1e-7,ck=12;function uk(e,t,r,n,s){let i,a,l=0;do a=t+(r-t)/2,i=ng(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>lk&&++l<ck);return a}function fi(e,t,r,n){if(e===t&&r===n)return xt;const s=i=>uk(i,0,1,e,r);return i=>i===0||i===1?i:ng(s(i),t,n)}const sg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ig=e=>t=>1-e(1-t),ag=fi(.33,1.53,.69,.99),_c=ig(ag),og=sg(_c),lg=e=>(e*=2)<1?.5*_c(e):.5*(2-Math.pow(2,-10*(e-1))),jc=e=>1-Math.sin(Math.acos(e)),cg=ig(jc),ug=sg(jc),dg=e=>/^0[^.\s]+$/u.test(e);function dk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dg(e):!0}const hg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),fg=e=>t=>typeof t=="string"&&t.startsWith(e),mg=fg("--"),hk=fg("var(--"),kc=e=>hk(e)?fk.test(e.split("/*")[0].trim()):!1,fk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pk(e){const t=mk.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function pg(e,t,r=1){const[n,s]=pk(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return hg(a)?parseFloat(a):a}return kc(s)?pg(s,t,r+1):s}const hr=(e,t,r)=>r>t?t:r<e?e:r,ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zs={...ds,transform:e=>hr(0,1,e)},Ei={...ds,default:1},mi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kr=mi("deg"),Xt=mi("%"),re=mi("px"),gk=mi("vh"),yk=mi("vw"),gd={...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)},vk=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),yd=e=>e===ds||e===re,vd=(e,t)=>parseFloat(e.split(", ")[t]),bd=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return vd(s[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?vd(i[1],e):0}},bk=new Set(["x","y","z"]),xk=hi.filter(e=>!bk.has(e));function wk(e){const t=[];return xk.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Zn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bd(4,13),y:bd(5,14)};Zn.translateX=Zn.x;Zn.translateY=Zn.y;const gg=e=>t=>t.test(e),_k={test:e=>e==="auto",parse:e=>e},yg=[ds,re,Xt,kr,yk,gk,_k],xd=e=>yg.find(gg(e)),dn=new Set;let yl=!1,vl=!1;function vg(){if(vl){const e=Array.from(dn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=wk(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}vl=!1,yl=!1,dn.forEach(e=>e.complete()),dn.clear()}function bg(){dn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vl=!0)})}function jk(){bg(),vg()}class Sc{constructor(t,r,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dn.add(this),yl||(yl=!0,De.read(bg),De.resolveKeyframes(vg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ms=e=>Math.round(e*1e5)/1e5,Cc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kk(e){return e==null}const Sk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pc=(e,t)=>r=>!!(typeof r=="string"&&Sk.test(r)&&r.startsWith(e)||t&&!kk(r)&&Object.prototype.hasOwnProperty.call(r,t)),xg=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,l]=n.match(Cc);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Ck=e=>hr(0,255,e),fo={...ds,transform:e=>Math.round(Ck(e))},rn={test:Pc("rgb","red"),parse:xg("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+fo.transform(e)+", "+fo.transform(t)+", "+fo.transform(r)+", "+Ms(zs.transform(n))+")"};function Pk(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const bl={test:Pc("#"),parse:Pk,transform:rn.transform},Sn={test:Pc("hsl","hue"),parse:xg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xt.transform(Ms(t))+", "+Xt.transform(Ms(r))+", "+Ms(zs.transform(n))+")"},tt={test:e=>rn.test(e)||bl.test(e)||Sn.test(e),parse:e=>rn.test(e)?rn.parse(e):Sn.test(e)?Sn.parse(e):bl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rn.transform(e):Sn.transform(e)},Nk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tk(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cc))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Nk))===null||r===void 0?void 0:r.length)||0)>0}const wg="number",_g="color",Ek="var",Ak="var(",wd="${}",Rk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hs(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Rk,c=>(tt.test(c)?(n.color.push(i),s.push(_g),r.push(tt.parse(c))):c.startsWith(Ak)?(n.var.push(i),s.push(Ek),r.push(c)):(n.number.push(i),s.push(wg),r.push(parseFloat(c))),++i,wd)).split(wd);return{values:r,split:l,indexes:n,types:s}}function jg(e){return Hs(e).values}function kg(e){const{split:t,types:r}=Hs(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const l=r[a];l===wg?i+=Ms(s[a]):l===_g?i+=tt.transform(s[a]):i+=s[a]}return i}}const Dk=e=>typeof e=="number"?0:e;function Ok(e){const t=jg(e);return kg(e)(t.map(Dk))}const $r={test:Tk,parse:jg,createTransformer:kg,getAnimatableNone:Ok},Mk=new Set(["brightness","contrast","saturate","opacity"]);function Ik(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Cc)||[];if(!n)return e;const s=r.replace(n,"");let i=Mk.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Lk=/\b([a-z-]*)\(.*?\)/gu,xl={...$r,getAnimatableNone:e=>{const t=e.match(Lk);return t?t.map(Ik).join(" "):e}},Fk={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},$k={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Ei,scaleX:Ei,scaleY:Ei,scaleZ:Ei,skew:kr,skewX:kr,skewY:kr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:zs,originX:gd,originY:gd,originZ:re},_d={...ds,transform:Math.round},Nc={...Fk,...$k,zIndex:_d,size:re,fillOpacity:zs,strokeOpacity:zs,numOctaves:_d},Vk={...Nc,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:xl,WebkitFilter:xl},Tc=e=>Vk[e];function Sg(e,t){let r=Tc(e);return r!==xl&&(r=$r),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Uk=new Set(["auto","none","0"]);function qk(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!Uk.has(i)&&Hs(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Sg(r,s)}class Cg extends Sc{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),kc(u))){const d=pg(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vk.has(n)||t.length!==2)return;const[s,i]=t,a=xd(s),l=xd(i);if(a!==l)if(yd(a)&&yd(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)dk(t[s])&&n.push(s);n.length&&qk(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Zn[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Ec(e){return typeof e=="function"}let Vi;function Bk(){Vi=void 0}const Jt={now:()=>(Vi===void 0&&Jt.set(Je.isProcessing||sk.useManualTiming?Je.timestamp:performance.now()),Vi),set:e=>{Vi=e,queueMicrotask(Bk)}},jd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($r.test(e)||e==="0")&&!e.startsWith("url("));function zk(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Hk(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=jd(s,t),l=jd(i,t);return!a||!l?!1:zk(e)||(r==="spring"||Ec(r))&&n}const Wk=40;class Pg{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jt.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Wk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jk(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Jt.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Hk(t,n,s,i))if(a)this.options.duration=0;else{c==null||c(La(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const es=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ng=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(es(0,s-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Tg(e,t){return t?e*(1e3/t):0}const Gk=5;function Eg(e,t,r){const n=Math.max(t-Gk,0);return Tg(r-e(n),t-n)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mo=.001;function Kk({duration:e=qe.duration,bounce:t=qe.bounce,velocity:r=qe.velocity,mass:n=qe.mass}){let s,i,a=1-t;a=hr(qe.minDamping,qe.maxDamping,a),e=hr(qe.minDuration,qe.maxDuration,ur(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,m=wl(u,a),g=Math.exp(-h);return mo-f/m*g},i=u=>{const h=u*a*e,f=h*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=wl(Math.pow(u,2),a);return(-s(u)+mo>0?-1:1)*((f-m)*g)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-mo+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=Qk(s,i,l);if(e=cr(e),isNaN(c))return{stiffness:qe.stiffness,damping:qe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const Yk=12;function Qk(e,t,r){let n=r;for(let s=1;s<Yk;s++)n=n-e(n)/t(n);return n}function wl(e,t){return e*Math.sqrt(1-t*t)}const _l=2e4;function Ag(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<_l;)t+=r,n=e.next(t);return t>=_l?1/0:t}const Xk=["duration","bounce"],Jk=["stiffness","damping","mass"];function kd(e,t){return t.some(r=>e[r]!==void 0)}function Zk(e){let t={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...e};if(!kd(e,Jk)&&kd(e,Xk))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*hr(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:qe.mass,stiffness:s,damping:i}}else{const r=Kk(e);t={...t,...r,mass:qe.mass},t.isResolvedFromDuration=!0}return t}function Rg(e=qe.visualDuration,t=qe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Zk({...r,velocity:-ur(r.velocity||0)}),g=f||0,y=u/(2*Math.sqrt(c*d)),b=a-i,v=ur(Math.sqrt(c/d)),w=Math.abs(b)<5;n||(n=w?qe.restSpeed.granular:qe.restSpeed.default),s||(s=w?qe.restDelta.granular:qe.restDelta.default);let x;if(y<1){const C=wl(v,y);x=T=>{const N=Math.exp(-y*v*T);return a-N*((g+y*v*b)/C*Math.sin(C*T)+b*Math.cos(C*T))}}else if(y===1)x=C=>a-Math.exp(-v*C)*(b+(g+v*b)*C);else{const C=v*Math.sqrt(y*y-1);x=T=>{const N=Math.exp(-y*v*T),S=Math.min(C*T,300);return a-N*((g+y*v*b)*Math.sinh(S)+C*b*Math.cosh(S))/C}}const _={calculatedDuration:m&&h||null,next:C=>{const T=x(C);if(m)l.done=C>=h;else{let N=0;y<1&&(N=C===0?cr(g):Eg(x,C,T));const S=Math.abs(N)<=n,P=Math.abs(a-T)<=s;l.done=S&&P}return l.value=l.done?a:T,l},toString:()=>{const C=Math.min(Ag(_),_l),T=Ng(N=>_.next(C*N).value,C,30);return C+"ms "+T}};return _}function Sd({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,g=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=r*t;const b=h+y,v=a===void 0?b:a(b);v!==b&&(y=v-h);const w=S=>-y*Math.exp(-S/n),x=S=>v+w(S),_=S=>{const P=w(S),R=x(S);f.done=Math.abs(P)<=u,f.value=f.done?v:R};let C,T;const N=S=>{m(f.value)&&(C=S,T=Rg({keyframes:[f.value,g(f.value)],velocity:Eg(x,S,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:S=>{let P=!1;return!T&&C===void 0&&(P=!0,_(S),N(S)),C!==void 0&&S>=C?T.next(S-C):(!P&&_(S),f)}}}const eS=fi(.42,0,1,1),tS=fi(0,0,.58,1),Dg=fi(.42,0,.58,1),rS=e=>Array.isArray(e)&&typeof e[0]!="number",Ac=e=>Array.isArray(e)&&typeof e[0]=="number",Cd={linear:xt,easeIn:eS,easeInOut:Dg,easeOut:tS,circIn:jc,circInOut:ug,circOut:cg,backIn:_c,backInOut:og,backOut:ag,anticipate:lg},Pd=e=>{if(Ac(e)){gl(e.length===4);const[t,r,n,s]=e;return fi(t,r,n,s)}else if(typeof e=="string")return gl(Cd[e]!==void 0),Cd[e];return e},nS=(e,t)=>r=>t(e(r)),pi=(...e)=>e.reduce(nS),Le=(e,t,r)=>e+(t-e)*r;function po(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function sS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=po(c,l,e+1/3),i=po(c,l,e),a=po(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function ta(e,t){return r=>r>0?t:e}const go=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},iS=[bl,rn,Sn],aS=e=>iS.find(t=>t.test(e));function Nd(e){const t=aS(e);if(!t)return!1;let r=t.parse(e);return t===Sn&&(r=sS(r)),r}const Td=(e,t)=>{const r=Nd(e),n=Nd(t);if(!r||!n)return ta(e,t);const s={...r};return i=>(s.red=go(r.red,n.red,i),s.green=go(r.green,n.green,i),s.blue=go(r.blue,n.blue,i),s.alpha=Le(r.alpha,n.alpha,i),rn.transform(s))},jl=new Set(["none","hidden"]);function oS(e,t){return jl.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function lS(e,t){return r=>Le(e,t,r)}function Rc(e){return typeof e=="number"?lS:typeof e=="string"?kc(e)?ta:tt.test(e)?Td:dS:Array.isArray(e)?Og:typeof e=="object"?tt.test(e)?Td:cS:ta}function Og(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Rc(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function cS(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Rc(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function uS(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][s[a]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,s[a]++}return n}const dS=(e,t)=>{const r=$r.createTransformer(t),n=Hs(e),s=Hs(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?jl.has(e)&&!s.values.length||jl.has(t)&&!n.values.length?oS(e,t):pi(Og(uS(n,s),s.values),r):ta(e,t)};function Mg(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Le(e,t,r):Rc(e)(e,t)}function hS(e,t,r){const n=[],s=r||Mg,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||xt:t;l=pi(c,l)}n.push(l)}return n}function fS(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(gl(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=hS(t,n,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=es(e[d],e[d+1],u);return a[d](h)};return r?u=>c(hr(e[0],e[i-1],u)):c}function mS(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=es(0,t,n);e.push(Le(r,1,s))}}function pS(e){const t=[0];return mS(t,e.length-1),t}function gS(e,t){return e.map(r=>r*t)}function yS(e,t){return e.map(()=>t||Dg).splice(0,e.length-1)}function ra({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=rS(n)?n.map(Pd):Pd(n),i={done:!1,value:t[0]},a=gS(r&&r.length===t.length?r:pS(t),e),l=fS(a,t,{ease:Array.isArray(s)?s:yS(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const vS=e=>{const t=({timestamp:r})=>e(r);return{start:()=>De.update(t,!0),stop:()=>Fr(t),now:()=>Je.isProcessing?Je.timestamp:Jt.now()}},bS={decay:Sd,inertia:Sd,tween:ra,keyframes:ra,spring:Rg},xS=e=>e/100;class Dc extends Pg{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Sc,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=Ec(r)?r:bS[r]||ra;let c,u;l!==ra&&typeof t[0]!="number"&&(c=pi(xS,Mg(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Ag(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:g,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let x=this.currentTime,_=i;if(m){const S=Math.min(this.currentTime,d)/h;let P=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(g==="reverse"?(R=1-R,y&&(R-=y/h)):g==="mirror"&&(_=a)),x=hr(0,1,R)*h}const C=w?{done:!1,value:c[0]}:_.next(x);l&&(C.value=l(C.value));let{done:T}=C;!w&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&s!==void 0&&(C.value=La(c,this.options,s)),b&&b(C.value),N&&this.finish(),C}get duration(){const{resolved:t}=this;return t?ur(t.calculatedDuration):0}get time(){return ur(this.currentTime)}set time(t){t=cr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ur(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vS,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wS=new Set(["opacity","clipPath","filter","transform"]);function Oc(e){let t;return()=>(t===void 0&&(t=e()),t)}const _S={linearEasing:void 0};function jS(e,t){const r=Oc(e);return()=>{var n;return(n=_S[t])!==null&&n!==void 0?n:r()}}const na=jS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Ig(e){return!!(typeof e=="function"&&na()||!e||typeof e=="string"&&(e in kl||na())||Ac(e)||Array.isArray(e)&&e.every(Ig))}const Ns=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,kl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ns([0,.65,.55,1]),circOut:Ns([.55,0,1,.45]),backIn:Ns([.31,.01,.66,-.59]),backOut:Ns([.33,1.53,.69,.99])};function Lg(e,t){if(e)return typeof e=="function"&&na()?Ng(e,t):Ac(e)?Ns(e):Array.isArray(e)?e.map(r=>Lg(r,t)||kl.easeOut):kl[e]}function kS(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Lg(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function Ed(e,t){e.timeline=t,e.onfinish=null}const SS=Oc(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sa=10,CS=2e4;function PS(e){return Ec(e.type)||e.type==="spring"||!Ig(e.ease)}function NS(e,t){const r=new Dc({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let i=0;for(;!n.done&&i<CS;)n=r.sample(i),s.push(n.value),i+=sa;return{times:void 0,keyframes:s,duration:i-sa,ease:"linear"}}const Fg={anticipate:lg,backInOut:og,circInOut:ug};function TS(e){return e in Fg}class Ad extends Pg{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new Cg(i,(a,l)=>this.onKeyframesResolved(a,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof a=="string"&&na()&&TS(a)&&(a=Fg[a]),PS(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:y,...b}=this.options,v=NS(t,b);t=v.keyframes,t.length===1&&(t[1]=t[0]),s=v.duration,i=v.times,a=v.ease,l="keyframes"}const h=kS(c.owner.current,u,t,{...this.options,duration:s,times:i,ease:a});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Ed(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(La(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return ur(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return ur(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=cr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return xt;const{animation:n}=r;Ed(n,t)}return xt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:i,ease:a,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,g=new Dc({...m,keyframes:n,duration:s,type:i,ease:a,times:l,isGenerator:!0}),y=cr(this.time);u.setWithVelocity(g.sample(y-sa).value,g.sample(y).value,sa)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:i,damping:a,type:l}=t;return SS()&&n&&wS.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const ES=Oc(()=>window.ScrollTimeline!==void 0);class AS{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>ES()&&s.attachTimeline?s.attachTimeline(t):r(s));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function RS({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Mc=(e,t,r,n={},s,i)=>a=>{const l=wc(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-cr(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};RS(l)||(d={...d,...nk(e,d)}),d.duration&&(d.duration=cr(d.duration)),d.repeatDelay&&(d.repeatDelay=cr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=La(d.keyframes,l);if(f!==void 0)return De.update(()=>{d.onUpdate(f),d.onComplete()}),new AS([])}return!i&&Ad.supports(d)?new Ad(d):new Dc(d)},DS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),OS=e=>pl(e)?e[e.length-1]||0:e;function Ic(e,t){e.indexOf(t)===-1&&e.push(t)}function Lc(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Fc{constructor(){this.subscriptions=[]}add(t){return Ic(this.subscriptions,t),()=>Lc(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rd=30,MS=e=>!isNaN(parseFloat(e));class IS{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=Jt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Jt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=MS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Fc);const n=this.events[t].add(r);return t==="change"?()=>{n(),De.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rd)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Rd);return Tg(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ws(e,t){return new IS(e,t)}function LS(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ws(r))}function FS(e,t){const r=Ia(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const l=OS(i[a]);LS(e,a,l)}}const $c=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$S="framerAppearId",$g="data-"+$c($S);function Vg(e){return e.props[$g]}const nt=e=>!!(e&&e.getVelocity);function VS(e){return!!(nt(e)&&e.add)}function Sl(e,t){const r=e.getValue("willChange");if(VS(r))return r.add(t)}function US({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Ug(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&US(d,h))continue;const g={delay:r,...wc(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=Vg(e);if(v){const w=window.MotionHandoffAnimation(v,h,De);w!==null&&(g.startTime=w,y=!0)}}Sl(e,h),f.start(Mc(h,f,m,e.shouldReduceMotion&&vn.has(h)?{type:!1}:g,e,y));const b=f.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{De.update(()=>{l&&FS(e,l)})}),u}function Cl(e,t,r={}){var n;const s=Ia(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(Ug(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return qS(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(r.delay)])}function qS(e,t,r=0,n=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(BS).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Cl(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function BS(e,t){return e.sortNodePosition(t)}function zS(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Cl(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Cl(e,t,r);else{const s=typeof t=="function"?Ia(e,t,r.custom):t;n=Promise.all(Ug(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const HS=xc.length;function qg(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?qg(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<HS;r++){const n=xc[r],s=e.props[n];(Bs(s)||s===!1)&&(t[n]=s)}return t}const WS=[...bc].reverse(),GS=bc.length;function KS(e){return t=>Promise.all(t.map(({animation:r,options:n})=>zS(e,r,n)))}function YS(e){let t=KS(e),r=Dd(),n=!0;const s=c=>(u,d)=>{var h;const f=Ia(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=qg(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let b=0;b<GS;b++){const v=WS[b],w=r[v],x=u[v]!==void 0?u[v]:d[v],_=Bs(x),C=v===c?w.isActive:null;C===!1&&(g=b);let T=x===d[v]&&x!==u[v]&&_;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&C===null||!x&&!w.prevProp||Ma(x)||typeof x=="boolean")continue;const N=QS(w.prevProp,x);let S=N||v===c&&w.isActive&&!T&&_||b>g&&_,P=!1;const R=Array.isArray(x)?x:[x];let A=R.reduce(s(v),{});C===!1&&(A={});const{prevResolvedValues:D={}}=w,O={...D,...A},M=I=>{S=!0,f.has(I)&&(P=!0,f.delete(I)),w.needsAnimating[I]=!0;const W=e.getValue(I);W&&(W.liveStyle=!1)};for(const I in O){const W=A[I],F=D[I];if(m.hasOwnProperty(I))continue;let X=!1;pl(W)&&pl(F)?X=!tg(W,F):X=W!==F,X?W!=null?M(I):f.add(I):W!==void 0&&f.has(I)?M(I):w.protectedKeys[I]=!0}w.prevProp=x,w.prevResolvedValues=A,w.isActive&&(m={...m,...A}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(T&&N)||P)&&h.push(...R.map(I=>({animation:I,options:{type:v}})))}if(f.size){const b={};f.forEach(v=>{const w=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),b[v]=w??null}),h.push({animation:b})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=a(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Dd(),n=!0}}}function QS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tg(t,e):!1}function Kr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dd(){return{animate:Kr(!0),whileInView:Kr(),whileHover:Kr(),whileTap:Kr(),whileDrag:Kr(),whileFocus:Kr(),exit:Kr()}}class Br{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XS extends Br{constructor(t){super(t),t.animationState||(t.animationState=YS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ma(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let JS=0;class ZS extends Br{constructor(){super(...arguments),this.id=JS++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eC={animation:{Feature:XS},exit:{Feature:ZS}},Ot={x:!1,y:!1};function Bg(){return Ot.x||Ot.y}function tC(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function zg(e,t){const r=tC(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Od(e){return t=>{t.pointerType==="touch"||Bg()||e(t)}}function rC(e,t,r={}){const[n,s,i]=zg(e,r),a=Od(l=>{const{target:c}=l,u=t(l);if(!u||!c)return;const d=Od(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const Vc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ts=new WeakSet;function Md(e){return t=>{t.key==="Enter"&&e(t)}}function yo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Md(()=>{if(Ts.has(r))return;yo(r,"down");const s=Md(()=>{yo(r,"up")}),i=()=>yo(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)},sC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iC(e){return sC.has(e.tagName)||e.tabIndex!==-1}const Hg=(e,t)=>t?e===t?!0:Hg(e,t.parentElement):!1;function Id(e){return Vc(e)&&!Bg()}function aC(e,t,r={}){const[n,s,i]=zg(e,r),a=l=>{const c=l.currentTarget;if(!Id(l)||Ts.has(c))return;Ts.add(c);const u=t(l),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Id(m)||!Ts.has(c))&&(Ts.delete(c),u&&u(m,{success:g}))},h=m=>{d(m,r.useGlobalTarget||Hg(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{iC(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",u=>nC(u,s),s)}),i}function oC(e){return e==="x"||e==="y"?Ot[e]?null:(Ot[e]=!0,()=>{Ot[e]=!1}):Ot.x||Ot.y?null:(Ot.x=Ot.y=!0,()=>{Ot.x=Ot.y=!1})}function gi(e){return{point:{x:e.pageX,y:e.pageY}}}const lC=e=>t=>Vc(t)&&e(t,gi(t));function Gs(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Is(e,t,r,n){return Gs(e,t,lC(r),n)}const Ld=(e,t)=>Math.abs(e-t);function cC(e,t){const r=Ld(e.x,t.x),n=Ld(e.y,t.y);return Math.sqrt(r**2+n**2)}class Wg{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=bo(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=cC(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:y}=Je;this.history.push({...g,timestamp:y});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=vo(f,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bo(h.type==="pointercancel"?this.lastMoveEventInfo:vo(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),g&&g(h,b)},!Vc(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=gi(t),l=vo(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Je;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,bo(l,this.history)),this.removeListeners=pi(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function vo(e,t){return t?{point:t(e.point)}:e}function Fd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bo({point:e},t){return{point:e,delta:Fd(e,Gg(t)),offset:Fd(e,uC(t)),velocity:dC(t,.1)}}function uC(e){return e[0]}function Gg(e){return e[e.length-1]}function dC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Gg(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>cr(t)));)r--;if(!n)return{x:0,y:0};const i=ur(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Cn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Kg=1e-4,hC=1-Kg,fC=1+Kg,Yg=.01,mC=0-Yg,pC=0+Yg;function wt(e){return e.max-e.min}function gC(e,t,r){return Math.abs(e-t)<=r}function $d(e,t,r,n=.5){e.origin=n,e.originPoint=Le(t.min,t.max,e.origin),e.scale=wt(r)/wt(t),e.translate=Le(r.min,r.max,e.origin)-e.originPoint,(e.scale>=hC&&e.scale<=fC||isNaN(e.scale))&&(e.scale=1),(e.translate>=mC&&e.translate<=pC||isNaN(e.translate))&&(e.translate=0)}function Ls(e,t,r,n){$d(e.x,t.x,r.x,n?n.originX:void 0),$d(e.y,t.y,r.y,n?n.originY:void 0)}function Vd(e,t,r){e.min=r.min+t.min,e.max=e.min+wt(t)}function yC(e,t,r){Vd(e.x,t.x,r.x),Vd(e.y,t.y,r.y)}function Ud(e,t,r){e.min=t.min-r.min,e.max=e.min+wt(t)}function Fs(e,t,r){Ud(e.x,t.x,r.x),Ud(e.y,t.y,r.y)}function vC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Le(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Le(r,e,n.max):Math.min(e,r)),e}function qd(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function bC(e,{top:t,left:r,bottom:n,right:s}){return{x:qd(e.x,r,s),y:qd(e.y,t,n)}}function Bd(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function xC(e,t){return{x:Bd(e.x,t.x),y:Bd(e.y,t.y)}}function wC(e,t){let r=.5;const n=wt(e),s=wt(t);return s>n?r=es(t.min,t.max-n,e.min):n>s&&(r=es(e.min,e.max-s,t.min)),hr(0,1,r)}function _C(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Pl=.35;function jC(e=Pl){return e===!1?e=0:e===!0&&(e=Pl),{x:zd(e,"left","right"),y:zd(e,"top","bottom")}}function zd(e,t,r){return{min:Hd(e,t),max:Hd(e,r)}}function Hd(e,t){return typeof e=="number"?e:e[t]||0}const Wd=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pn=()=>({x:Wd(),y:Wd()}),Gd=()=>({min:0,max:0}),ze=()=>({x:Gd(),y:Gd()});function Pt(e){return[e("x"),e("y")]}function Qg({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function kC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function xo(e){return e===void 0||e===1}function Nl({scale:e,scaleX:t,scaleY:r}){return!xo(e)||!xo(t)||!xo(r)}function Xr(e){return Nl(e)||Xg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xg(e){return Kd(e.x)||Kd(e.y)}function Kd(e){return e&&e!=="0%"}function ia(e,t,r){const n=e-r,s=t*n;return r+s}function Yd(e,t,r,n,s){return s!==void 0&&(e=ia(e,s,n)),ia(e,r,n)+t}function Tl(e,t=0,r=1,n,s){e.min=Yd(e.min,t,r,n,s),e.max=Yd(e.max,t,r,n,s)}function Jg(e,{x:t,y:r}){Tl(e.x,t.translate,t.scale,t.originPoint),Tl(e.y,r.translate,r.scale,r.originPoint)}const Qd=.999999999999,Xd=1.0000000000001;function CC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=r[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Tn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Jg(e,a)),n&&Xr(i.latestValues)&&Tn(e,i.latestValues))}t.x<Xd&&t.x>Qd&&(t.x=1),t.y<Xd&&t.y>Qd&&(t.y=1)}function Nn(e,t){e.min=e.min+t,e.max=e.max+t}function Jd(e,t,r,n,s=.5){const i=Le(e.min,e.max,s);Tl(e,t,r,i,n)}function Tn(e,t){Jd(e.x,t.x,t.scaleX,t.scale,t.originX),Jd(e.y,t.y,t.scaleY,t.scale,t.originY)}function Zg(e,t){return Qg(SC(e.getBoundingClientRect(),t))}function PC(e,t,r){const n=Zg(e,r),{scroll:s}=t;return s&&(Nn(n.x,s.offset.x),Nn(n.y,s.offset.y)),n}const ey=({current:e})=>e?e.ownerDocument.defaultView:null,NC=new WeakMap;class TC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(gi(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oC(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Xt.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[b];x&&(v=wt(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&De.postRender(()=>g(d,h)),Sl(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=EC(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Pt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Wg(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ey(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&De.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ai(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=vC(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Cn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=bC(s.layoutBox,r):this.constraints=!1,this.elastic=jC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Pt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_C(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Cn(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=PC(n,s.root,this.visualElement.getTransformPagePoint());let a=xC(s.layout.layoutBox,i);if(r){const l=r(kC(a));this.hasMutatedConstraints=!!l,l&&(a=Qg(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Pt(d=>{if(!Ai(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Sl(this.visualElement,t),n.start(Mc(t,n,0,r,this.visualElement,!1))}stopAnimation(){Pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Pt(r=>{const{drag:n}=this.getProps();if(!Ai(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];i.set(t[r]-Le(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Cn(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pt(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=wC({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pt(a=>{if(!Ai(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Le(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;NC.set(this.visualElement,this);const t=this.visualElement.current,r=Is(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Cn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),De.read(n);const a=Gs(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Pl,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Ai(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function EC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class AC extends Br{constructor(t){super(t),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new TC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zd=e=>(t,r)=>{e&&De.postRender(()=>e(t,r))};class RC extends Br{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(t){this.session=new Wg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ey(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zd(t),onStart:Zd(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&De.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fa=p.createContext(null);function DC(){const e=p.useContext(Fa);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=p.useId();p.useEffect(()=>n(s),[]);const i=p.useCallback(()=>r&&r(s),[s,r]);return!t&&r?[!1,i]:[!0]}const Uc=p.createContext({}),ty=p.createContext({}),Ui={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const r=eh(e,t.target.x),n=eh(e,t.target.y);return`${r}% ${n}%`}},OC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=$r.parse(e);if(s.length>5)return n;const i=$r.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Le(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},aa={};function MC(e){Object.assign(aa,e)}const{schedule:qc,cancel:dR}=rg(queueMicrotask,!1);class IC extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;MC(LC),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ui.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||De.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qc.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ry(e){const[t,r]=DC(),n=p.useContext(Uc);return o.jsx(IC,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(ty),isPresent:t,safeToRemove:r})}const LC={borderRadius:{...vs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vs,borderTopRightRadius:vs,borderBottomLeftRadius:vs,borderBottomRightRadius:vs,boxShadow:OC},ny=["TopLeft","TopRight","BottomLeft","BottomRight"],FC=ny.length,th=e=>typeof e=="string"?parseFloat(e):e,rh=e=>typeof e=="number"||re.test(e);function $C(e,t,r,n,s,i){s?(e.opacity=Le(0,r.opacity!==void 0?r.opacity:1,VC(n)),e.opacityExit=Le(t.opacity!==void 0?t.opacity:1,0,UC(n))):i&&(e.opacity=Le(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<FC;a++){const l=`border${ny[a]}Radius`;let c=nh(t,l),u=nh(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||rh(c)===rh(u)?(e[l]=Math.max(Le(th(c),th(u),n),0),(Xt.test(u)||Xt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Le(t.rotate||0,r.rotate||0,n))}function nh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const VC=sy(0,.5,cg),UC=sy(.5,.95,xt);function sy(e,t,r){return n=>n<e?0:n>t?1:r(es(e,t,n))}function sh(e,t){e.min=t.min,e.max=t.max}function Ct(e,t){sh(e.x,t.x),sh(e.y,t.y)}function ih(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ah(e,t,r,n,s){return e-=t,e=ia(e,1/r,n),s!==void 0&&(e=ia(e,1/s,n)),e}function qC(e,t=0,r=1,n=.5,s,i=e,a=e){if(Xt.test(t)&&(t=parseFloat(t),t=Le(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Le(i.min,i.max,n);e===i&&(l-=t),e.min=ah(e.min,t,r,l,s),e.max=ah(e.max,t,r,l,s)}function oh(e,t,[r,n,s],i,a){qC(e,t[r],t[n],t[s],t.scale,i,a)}const BC=["x","scaleX","originX"],zC=["y","scaleY","originY"];function lh(e,t,r,n){oh(e.x,t,BC,r?r.x:void 0,n?n.x:void 0),oh(e.y,t,zC,r?r.y:void 0,n?n.y:void 0)}function ch(e){return e.translate===0&&e.scale===1}function iy(e){return ch(e.x)&&ch(e.y)}function uh(e,t){return e.min===t.min&&e.max===t.max}function HC(e,t){return uh(e.x,t.x)&&uh(e.y,t.y)}function dh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ay(e,t){return dh(e.x,t.x)&&dh(e.y,t.y)}function hh(e){return wt(e.x)/wt(e.y)}function fh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class WC{constructor(){this.members=[]}add(t){Ic(this.members,t),t.scheduleRender()}remove(t){if(Lc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GC(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const KC=(e,t)=>e.depth-t.depth;class YC{constructor(){this.children=[],this.isDirty=!1}add(t){Ic(this.children,t),this.isDirty=!0}remove(t){Lc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KC),this.isDirty=!1,this.children.forEach(t)}}function qi(e){const t=nt(e)?e.get():e;return DS(t)?t.toValue():t}function QC(e,t){const r=Jt.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Fr(n),e(i-t))};return De.read(n,!0),()=>Fr(n)}function XC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function JC(e,t,r){const n=nt(e)?e:Ws(e);return n.start(Mc("",n,t,r)),n.animation}const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Es=typeof window<"u"&&window.MotionDebug!==void 0,wo=["","X","Y","Z"],ZC={visibility:"hidden"},mh=1e3;let eP=0;function _o(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function oy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Vg(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",De,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&oy(n)}function ly({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=eP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Es&&(Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0),this.nodes.forEach(nP),this.nodes.forEach(lP),this.nodes.forEach(cP),this.nodes.forEach(sP),Es&&window.MotionDebug.record(Jr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YC)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Fc),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XC(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=QC(f,250),Ui.hasAnimatedSinceResize&&(Ui.hasAnimatedSinceResize=!1,this.nodes.forEach(gh))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||mP,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),w=!this.targetLayout||!ay(this.targetLayout,g)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const _={...wc(y,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||gh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ph);return}this.isUpdating||this.nodes.forEach(aP),this.isUpdating=!1,this.nodes.forEach(oP),this.nodes.forEach(tP),this.nodes.forEach(rP),this.clearAllSnapshots();const l=Jt.now();Je.delta=hr(0,1e3/60,l-Je.timestamp),Je.timestamp=l,Je.isProcessing=!0,ho.update.process(Je),ho.preRender.process(Je),ho.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iP),this.sharedNodes.forEach(dP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!iy(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Xr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),pP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return ze();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(gP))){const{scroll:d}=this.root;d&&(Nn(c.x,d.offset.x),Nn(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=ze();if(Ct(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ct(c,a),Nn(c.x,h.offset.x),Nn(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=ze();Ct(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tn(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xr(d.latestValues)&&Tn(c,d.latestValues)}return Xr(this.latestValues)&&Tn(c,this.latestValues),c}removeTransform(a){const l=ze();Ct(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Xr(u.latestValues))continue;Nl(u.latestValues)&&u.updateSnapshot();const d=ze(),h=u.measurePageBox();Ct(d,h),lh(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xr(this.latestValues)&&lh(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Je.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Fs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ct(this.target,this.layout.layoutBox),Jg(this.target,this.targetDelta)):Ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Fs(this.relativeTargetOrigin,this.target,m.target),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Es&&Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nl(this.parent.latestValues)||Xg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ct(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;CC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ze());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ih(this.prevProjectionDelta.x,this.projectionDelta.x),ih(this.prevProjectionDelta.y,this.projectionDelta.y)),Ls(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!fh(this.projectionDelta.x,this.prevProjectionDelta.x)||!fh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Es&&Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pn(),this.projectionDelta=Pn(),this.projectionDeltaWithTransform=Pn()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Pn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ze(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,b=this.getStack(),v=!b||b.members.length<=1,w=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(fP));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const C=_/1e3;yh(h.x,a.x,C),yh(h.y,a.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hP(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&HC(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ze()),Ct(x,this.relativeTarget)),y&&(this.animationValues=d,$C(d,u,this.latestValues,C,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{Ui.hasAnimatedSinceResize=!0,this.currentAnimation=JC(0,mh,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&cy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ze();const h=wt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=wt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ct(l,c),Tn(l,d),Ls(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new WC),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&_o("z",a,u,this.animationValues);for(let d=0;d<wo.length;d++)_o(`rotate${wo[d]}`,a,u,this.animationValues),_o(`skew${wo[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qi(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=qi(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=GC(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in aa){if(f[y]===void 0)continue;const{correct:b,applyTo:v}=aa[y],w=u.transform==="none"?f[y]:b(f[y],h);if(v){const x=v.length;for(let _=0;_<x;_++)u[v[_]]=w}else u[y]=w}return this.options.layoutId&&(u.pointerEvents=h===this?qi(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ph),this.root.sharedNodes.clear()}}}function tP(e){e.updateLayout()}function rP(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?Pt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=wt(f);f.min=n[h].min,f.max=f.min+m}):cy(i,r.layoutBox,n)&&Pt(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],m=wt(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Pn();Ls(l,n,r.layoutBox);const c=Pn();a?Ls(c,e.applyTransform(s,!0),r.measuredBox):Ls(c,n,r.layoutBox);const u=!iy(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=ze();Fs(g,r.layoutBox,f.layoutBox);const y=ze();Fs(y,n,m.layoutBox),ay(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function nP(e){Es&&Jr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iP(e){e.clearSnapshot()}function ph(e){e.clearMeasurements()}function aP(e){e.isLayoutDirty=!1}function oP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lP(e){e.resolveTargetDelta()}function cP(e){e.calcProjection()}function uP(e){e.resetSkewAndRotation()}function dP(e){e.removeLeadSnapshot()}function yh(e,t,r){e.translate=Le(t.translate,0,r),e.scale=Le(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vh(e,t,r,n){e.min=Le(t.min,r.min,n),e.max=Le(t.max,r.max,n)}function hP(e,t,r,n){vh(e.x,t.x,r.x,n),vh(e.y,t.y,r.y,n)}function fP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mP={duration:.45,ease:[.4,0,.1,1]},bh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xh=bh("applewebkit/")&&!bh("chrome/")?Math.round:xt;function wh(e){e.min=xh(e.min),e.max=xh(e.max)}function pP(e){wh(e.x),wh(e.y)}function cy(e,t,r){return e==="position"||e==="preserve-aspect"&&!gC(hh(t),hh(r),.2)}function gP(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const yP=ly({attachResizeListener:(e,t)=>Gs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jo={current:void 0},uy=ly({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jo.current){const e=new yP({});e.mount(window),e.setOptions({layoutScroll:!0}),jo.current=e}return jo.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vP={pan:{Feature:RC},drag:{Feature:AC,ProjectionNode:uy,MeasureLayout:ry}};function _h(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&De.postRender(()=>i(t,gi(t)))}class bP extends Br{mount(){const{current:t}=this.node;t&&(this.unmount=rC(t,r=>(_h(this.node,r,"Start"),n=>_h(this.node,n,"End"))))}unmount(){}}class xP extends Br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pi(Gs(this.node.current,"focus",()=>this.onFocus()),Gs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jh(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&De.postRender(()=>i(t,gi(t)))}class wP extends Br{mount(){const{current:t}=this.node;t&&(this.unmount=aC(t,r=>(jh(this.node,r,"Start"),(n,{success:s})=>jh(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const El=new WeakMap,ko=new WeakMap,_P=e=>{const t=El.get(e.target);t&&t(e)},jP=e=>{e.forEach(_P)};function kP({root:e,...t}){const r=e||document;ko.has(r)||ko.set(r,{});const n=ko.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(jP,{root:e,...t})),n[s]}function SP(e,t,r){const n=kP(t);return El.set(e,r),n.observe(e),()=>{El.delete(e),n.unobserve(e)}}const CP={some:0,all:1};class PP extends Br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:CP[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return SP(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(NP(t,r))&&this.startObserver()}unmount(){}}function NP({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const TP={inView:{Feature:PP},tap:{Feature:wP},focus:{Feature:xP},hover:{Feature:bP}},EP={layout:{ProjectionNode:uy,MeasureLayout:ry}},Bc=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$a=p.createContext({}),zc=typeof window<"u",dy=zc?p.useLayoutEffect:p.useEffect,hy=p.createContext({strict:!1});function AP(e,t,r,n,s){var i,a;const{visualElement:l}=p.useContext($a),c=p.useContext(hy),u=p.useContext(Fa),d=p.useContext(Bc).reducedMotion,h=p.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=p.useContext(ty);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&RP(h.current,r,s,m);const g=p.useRef(!1);p.useInsertionEffect(()=>{f&&g.current&&f.update(r,u)});const y=r[$g],b=p.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return dy(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),qc.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),b.current=!1))}),f}function RP(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:fy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Cn(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function fy(e){if(e)return e.options.allowProjection!==!1?e.projection:fy(e.parent)}function DP(e,t,r){return p.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Cn(r)&&(r.current=n))},[t])}function Va(e){return Ma(e.animate)||xc.some(t=>Bs(e[t]))}function my(e){return!!(Va(e)||e.variants)}function OP(e,t){if(Va(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bs(r)?r:void 0,animate:Bs(n)?n:void 0}}return e.inherit!==!1?t:{}}function MP(e){const{initial:t,animate:r}=OP(e,p.useContext($a));return p.useMemo(()=>({initial:t,animate:r}),[kh(t),kh(r)])}function kh(e){return Array.isArray(e)?e.join(" "):e}const Sh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ts={};for(const e in Sh)ts[e]={isEnabled:t=>Sh[e].some(r=>!!t[r])};function IP(e){for(const t in e)ts[t]={...ts[t],...e[t]}}const LP=Symbol.for("motionComponentSymbol");function FP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&IP(e);function i(l,c){let u;const d={...p.useContext(Bc),...l,layoutId:$P(l)},{isStatic:h}=d,f=MP(l),m=n(l,h);if(!h&&zc){VP();const g=UP(d);u=g.MeasureLayout,f.visualElement=AP(s,m,d,t,g.ProjectionNode)}return o.jsxs($a.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,r(s,l,DP(m,f.visualElement,c),m,h,f.visualElement)]})}const a=p.forwardRef(i);return a[LP]=s,a}function $P({layoutId:e}){const t=p.useContext(Uc).id;return t&&e!==void 0?t+"-"+e:e}function VP(e,t){p.useContext(hy).strict}function UP(e){const{drag:t,layout:r}=ts;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const qP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hc(e){return typeof e!="string"||e.includes("-")?!1:!!(qP.indexOf(e)>-1||/[A-Z]/u.test(e))}function py(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const gy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yy(e,t,r,n){py(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(gy.has(s)?s:$c(s),t.attrs[s])}function vy(e,{layout:t,layoutId:r}){return vn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!aa[e]||e==="opacity")}function Wc(e,t,r){var n;const{style:s}=e,i={};for(const a in s)(nt(s[a])||t.style&&nt(t.style[a])||vy(a,e)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function by(e,t,r){const n=Wc(e,t,r);for(const s in e)if(nt(e[s])||nt(t[s])){const i=hi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function Gc(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}function BP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const a={latestValues:zP(n,s,i,e),renderState:t()};return r&&(a.mount=l=>r(n,l,a)),a}const xy=e=>(t,r)=>{const n=p.useContext($a),s=p.useContext(Fa),i=()=>BP(e,t,n,s);return r?i():Gc(i)};function zP(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=qi(i[f]);let{initial:a,animate:l}=e;const c=Va(e),u=my(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Ma(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=vc(e,f[m]);if(g){const{transitionEnd:y,transition:b,...v}=g;for(const w in v){let x=v[w];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(s[w]=x)}for(const w in y)s[w]=y[w]}}}return s}const Kc=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wy=()=>({...Kc(),attrs:{}}),_y=(e,t)=>t&&typeof e=="number"?t.transform(e):e,HP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WP=hi.length;function GP(e,t,r){let n="",s=!0;for(let i=0;i<WP;i++){const a=hi[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=_y(l,Nc[a]);if(!c){s=!1;const d=HP[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Yc(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(vn.has(c)){a=!0;continue}else if(mg(c)){s[c]=u;continue}else{const d=_y(u,Nc[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=GP(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function Ch(e,t,r){return typeof e=="string"?e:re.transform(t+r*e)}function KP(e,t,r){const n=Ch(t,e.x,e.width),s=Ch(r,e.y,e.height);return`${n} ${s}`}const YP={offset:"stroke-dashoffset",array:"stroke-dasharray"},QP={offset:"strokeDashoffset",array:"strokeDasharray"};function XP(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?YP:QP;e[i.offset]=re.transform(-n);const a=re.transform(t),l=re.transform(r);e[i.array]=`${a} ${l}`}function Qc(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Yc(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:g}=e;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=KP(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&XP(f,a,l,c,!1)}const Xc=e=>typeof e=="string"&&e.toLowerCase()==="svg",JP={useVisualState:xy({scrapeMotionValuesFromProps:by,createRenderState:wy,onMount:(e,t,{renderState:r,latestValues:n})=>{De.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),De.render(()=>{Qc(r,n,Xc(t.tagName),e.transformTemplate),yy(t,r)})}})},ZP={useVisualState:xy({scrapeMotionValuesFromProps:Wc,createRenderState:Kc})};function jy(e,t,r){for(const n in t)!nt(t[n])&&!vy(n,r)&&(e[n]=t[n])}function e2({transformTemplate:e},t){return p.useMemo(()=>{const r=Kc();return Yc(r,t,e),Object.assign({},r.vars,r.style)},[t])}function t2(e,t){const r=e.style||{},n={};return jy(n,r,e),Object.assign(n,e2(e,t)),n}function r2(e,t){const r={},n=t2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const n2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n2.has(e)}let ky=e=>!oa(e);function s2(e){e&&(ky=t=>t.startsWith("on")?!oa(t):e(t))}try{s2(require("@emotion/is-prop-valid").default)}catch{}function i2(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(ky(s)||r===!0&&oa(s)||!t&&!oa(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function a2(e,t,r,n){const s=p.useMemo(()=>{const i=wy();return Qc(i,t,Xc(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};jy(i,e.style,e),s.style={...i,...s.style}}return s}function o2(e=!1){return(r,n,s,{latestValues:i},a)=>{const c=(Hc(r)?a2:r2)(n,i,a,r),u=i2(n,typeof r=="string",e),d=r!==p.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=p.useMemo(()=>nt(h)?h.get():h,[h]);return p.createElement(r,{...d,children:f})}}function l2(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Hc(n)?JP:ZP,preloadedFeatures:e,useRender:o2(s),createVisualElement:t,Component:n};return FP(a)}}const Al={current:null},Sy={current:!1};function c2(){if(Sy.current=!0,!!zc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Al.current=e.matches;e.addListener(t),t()}else Al.current=!1}function u2(e,t,r){for(const n in t){const s=t[n],i=r[n];if(nt(s))e.addValue(n,s);else if(nt(i))e.addValue(n,Ws(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Ws(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Ph=new WeakMap,d2=[...yg,tt,$r],h2=e=>d2.find(gg(e)),Nh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f2{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Jt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,De.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Va(r),this.isVariantNode=my(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&nt(m)&&m.set(c[f],!1)}}mount(t){this.current=t,Ph.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Sy.current||c2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Al.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ph.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=vn.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&De.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ts){const r=ts[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Nh.length;n++){const s=Nh[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=u2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ws(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(hg(s)||dg(s))?s=parseFloat(s):!h2(s)&&$r.test(r)&&(s=Sg(t,r)),this.setBaseTarget(t,nt(s)?s.get():s)),nt(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=vc(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!nt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Fc),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Cy extends f2{constructor(){super(...arguments),this.KeyframeResolver=Cg}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function m2(e){return window.getComputedStyle(e)}class p2 extends Cy{constructor(){super(...arguments),this.type="html",this.renderInstance=py}readValueFromInstance(t,r){if(vn.has(r)){const n=Tc(r);return n&&n.default||0}else{const n=m2(t),s=(mg(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Zg(t,r)}build(t,r,n){Yc(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Wc(t,r,n)}}class g2 extends Cy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(vn.has(r)){const n=Tc(r);return n&&n.default||0}return r=gy.has(r)?r:$c(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return by(t,r,n)}build(t,r,n){Qc(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){yy(t,r,n,s)}mount(t){this.isSVGTag=Xc(t.tagName),super.mount(t)}}const y2=(e,t)=>Hc(e)?new g2(t):new p2(t,{allowProjection:e!==p.Fragment}),v2=l2({...eC,...TP,...vP,...EP},y2),be=Jj(v2);class b2 extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function x2({children:e,isPresent:t}){const r=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(Bc);return p.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(t||!n.current||!a||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),o.jsx(b2,{isPresent:t,childRef:n,sizeRef:s,children:p.cloneElement(e,{ref:n})})}const w2=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Gc(_2),c=p.useId(),u=p.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=p.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[r,u]);return p.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(x2,{isPresent:r,children:e})),o.jsx(Fa.Provider,{value:d,children:e})};function _2(){return new Map}const Ri=e=>e.key||"";function Th(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const Ua=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=p.useMemo(()=>Th(e),[e]),c=l.map(Ri),u=p.useRef(!0),d=p.useRef(l),h=Gc(()=>new Map),[f,m]=p.useState(l),[g,y]=p.useState(l);dy(()=>{u.current=!1,d.current=l;for(let w=0;w<g.length;w++){const x=Ri(g[w]);c.includes(x)?h.delete(x):h.get(x)!==!0&&h.set(x,!1)}},[g,c.length,c.join("-")]);const b=[];if(l!==f){let w=[...l];for(let x=0;x<g.length;x++){const _=g[x],C=Ri(_);c.includes(C)||(w.splice(x,0,_),b.push(_))}a==="wait"&&b.length&&(w=b),y(Th(w)),m(l);return}const{forceRender:v}=p.useContext(Uc);return o.jsx(o.Fragment,{children:g.map(w=>{const x=Ri(w),_=l===g||c.includes(x),C=()=>{if(h.has(x))h.set(x,!0);else return;let T=!0;h.forEach(N=>{N||(T=!1)}),T&&(v==null||v(),y(d.current),s&&s())};return o.jsx(w2,{isPresent:_,initial:!u.current||n?void 0:!1,custom:_?void 0:r,presenceAffectsLayout:i,mode:a,onExitComplete:_?void 0:C,children:w},x)})})},Eh=()=>{const e=Math.random()*400-200,t=Math.random()*400-200;return{x:e,y:t}},j2=({color:e,size:t=300,opacity:r=.15,blur:n=80,duration:s=15})=>{const[i,a]=p.useState(Eh()),[l,c]=p.useState(i);return p.useEffect(()=>{const u=setInterval(()=>{c(i),a(Eh())},s*1e3);return()=>clearInterval(u)},[s,i]),o.jsx(be.div,{initial:!1,animate:{x:i.x+"%",y:i.y+"%"},transition:{duration:s,ease:[.45,0,.55,1],type:"tween"},className:k("absolute rounded-full","pointer-events-none mix-blend-screen","top-1/2 left-1/2","-translate-x-1/2 -translate-y-1/2",e),style:{width:t,height:t,opacity:r,filter:`blur(${n}px)`}})},hs=({className:e,intensity:t="subtle",speed:r="slow",className2:n,size:s=300})=>{const i={subtle:.15,medium:.2,strong:.25},a={slow:4,medium:2.7,fast:1.7},l=i[t]||i.subtle,c=a[r]||a.slow,u=[{color:"bg-blue-500",size:s*1.2},{color:"bg-purple-500",size:s*1.4},{color:"bg-indigo-400",size:s*1.3},{color:"bg-pink-500",size:s*1.1},{color:"bg-blue-400",size:s*1},{color:"bg-purple-400",size:s*1.2},{color:"bg-indigo-500",size:s*1.1},{color:"bg-pink-400",size:s*1.3},{color:"bg-blue-300",size:s*1},{color:"bg-purple-300",size:s*1.2},{color:"bg-indigo-300",size:s*.9},{color:"bg-pink-300",size:s*1.1}];return o.jsx("div",{className:k("absolute inset-0 overflow-hidden",e),children:o.jsxs("div",{className:k("absolute inset-0",n),children:[u.map((d,h)=>o.jsx(j2,{color:d.color,size:d.size,opacity:l,duration:c*(.9+Math.random()*.2),blur:60+Math.random()*40},h)),o.jsx("div",{className:"absolute inset-0 bg-background/50"})]})})};function k2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Py=E.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),fs=()=>{const e=E.useContext(Py);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};k2(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function S2(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function C2(){return Jc(/^Mac/)}function P2(){return Jc(/^iPhone/)}function Ah(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function N2(){return Jc(/^iPad/)||C2()&&navigator.maxTouchPoints>1}function Ny(){return P2()||N2()}function Jc(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const T2=24,E2=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Rh(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const So=typeof document<"u"&&window.visualViewport;function Dh(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Ty(e){for(Dh(e)&&(e=e.parentElement);e&&!Dh(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const A2=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Di=0,Co;function R2(e={}){let{isDisabled:t}=e;E2(()=>{if(!t)return Di++,Di===1&&Ny()&&(Co=D2()),()=>{Di--,Di===0&&(Co==null||Co())}},[t])}function D2(){let e,t=0,r=h=>{e=Ty(h.target),!(e===document.documentElement&&e===document.body)&&(t=h.changedTouches[0].pageY)},n=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,m=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((m<=0&&f>t||m>=g&&f<t)&&h.preventDefault(),t=f)},s=h=>{let f=h.target;Rl(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},i=h=>{let f=h.target;Rl(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",So&&(So.height<window.innerHeight?requestAnimationFrame(()=>{Oh(f)}):So.addEventListener("resize",()=>Oh(f),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=Rh(O2(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=Rh(bs(document,"touchstart",r,{passive:!1,capture:!0}),bs(document,"touchmove",n,{passive:!1,capture:!0}),bs(document,"touchend",s,{passive:!1,capture:!0}),bs(document,"focus",i,!0),bs(window,"scroll",a));return()=>{u(),d(),window.scrollTo(l,c)}}function O2(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function bs(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function Oh(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Ty(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const a=r.getBoundingClientRect().bottom+T2;i>a&&(r.scrollTop+=s-n)}e=r.parentElement}}function Rl(e){return e instanceof HTMLInputElement&&!A2.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function M2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function I2(...e){return t=>e.forEach(r=>M2(r,t))}function Ey(...e){return p.useCallback(I2(...e),e)}const Ay=new WeakMap;function Ke(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,i])=>{if(s.startsWith("--")){e.style.setProperty(s,i);return}n[s]=e.style[s],e.style[s]=i}),!r&&Ay.set(e,n)}function L2(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Ay.get(e);r&&(e.style[t]=r[t])}const He=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Oi(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[He(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[He(t)?5:4]):null)}function F2(e){return 8*(Math.log(e+1)-2)}function Po(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function $2(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Ie={DURATION:.5,EASE:[.32,.72,0,1]},Ry=.4,V2=.25,U2=100,Dy=8,Yr=16,Dl=26,No="vaul-dragging";function Oy(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function q2({defaultProp:e,onChange:t}){const r=E.useState(e),[n]=r,s=E.useRef(n),i=Oy(t);return E.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}function My({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=q2({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,l=Oy(r),c=E.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[i,e,s,l]);return[a,c]}function B2({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:i,onSnapPointChange:a,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,h]=My({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[f,m]=E.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);E.useEffect(()=>{function N(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const g=E.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),y=E.useMemo(()=>{var N;return(N=r==null?void 0:r.findIndex(S=>S===d))!=null?N:null},[r,d]),b=r&&r.length>0&&(i||i===0)&&!Number.isNaN(i)&&r[i]===d||!r,v=E.useMemo(()=>{const N=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var S;return(S=r==null?void 0:r.map(P=>{const R=typeof P=="string";let A=0;if(R&&(A=parseInt(P,10)),He(l)){const O=R?A:f?P*N.height:0;return f?l==="bottom"?N.height-O:-N.height+O:O}const D=R?A:f?P*N.width:0;return f?l==="right"?N.width-D:-N.width+D:D}))!=null?S:[]},[r,f,c]),w=E.useMemo(()=>y!==null?v==null?void 0:v[y]:null,[v,y]),x=E.useCallback(N=>{var S;const P=(S=v==null?void 0:v.findIndex(R=>R===N))!=null?S:null;a(P),Ke(n.current,{transition:`transform ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,transform:He(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),v&&P!==v.length-1&&i!==void 0&&P!==i&&P<i?Ke(s.current,{transition:`opacity ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,opacity:"0"}):Ke(s.current,{transition:`opacity ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,opacity:"1"}),h(r==null?void 0:r[Math.max(P,0)])},[n.current,r,v,i,s,h]);E.useEffect(()=>{if(d||e){var N;const S=(N=r==null?void 0:r.findIndex(P=>P===e||P===d))!=null?N:-1;v&&S!==-1&&typeof v[S]=="number"&&x(v[S])}},[d,e,r,v,x]);function _({draggedDistance:N,closeDrawer:S,velocity:P,dismissible:R}){if(i===void 0)return;const A=l==="bottom"||l==="right"?(w??0)-N:(w??0)+N,D=y===i-1,O=y===0,M=N>0;if(D&&Ke(s.current,{transition:`opacity ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`}),!u&&P>2&&!M){R?S():x(v[0]);return}if(!u&&P>2&&M&&v&&r){x(v[r.length-1]);return}const V=v==null?void 0:v.reduce((I,W)=>typeof I!="number"||typeof W!="number"?I:Math.abs(W-A)<Math.abs(I-A)?W:I),$=He(l)?window.innerHeight:window.innerWidth;if(P>Ry&&Math.abs(N)<$*.4){const I=M?1:-1;if(I>0&&g&&r){x(v[r.length-1]);return}if(O&&I<0&&R&&S(),y===null)return;x(v[y+I]);return}x(V)}function C({draggedDistance:N}){if(w===null)return;const S=l==="bottom"||l==="right"?w-N:w+N;(l==="bottom"||l==="right")&&S<v[v.length-1]||(l==="top"||l==="left")&&S>v[v.length-1]||Ke(n.current,{transform:He(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})}function T(N,S){if(!r||typeof y!="number"||!v||i===void 0)return null;const P=y===i-1;if(y>=i&&S)return 0;if(P&&!S)return 1;if(!b&&!P)return null;const A=P?y+1:y-1,D=P?v[A]-v[A-1]:v[A+1]-v[A],O=N/Math.abs(D);return P?1-O:O}return{isLastSnapPoint:g,activeSnapPoint:d,shouldFade:b,getPercentageDragged:T,setActiveSnapPoint:h,activeSnapPointIndex:y,onRelease:_,onDrag:C,snapPointsOffset:v}}const z2=()=>()=>{};function H2(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=fs(),i=E.useRef(null),a=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Dl)/window.innerWidth}E.useEffect(()=>{if(t&&r){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;$2(n&&!s?Po(document.body,{background:"black"}):z2,Po(c,{transformOrigin:He(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ie.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ie.EASE.join(",")})`}));const u=Po(c,{borderRadius:`${Dy}px`,overflow:"hidden",...He(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),i.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Ie.DURATION*1e3)}}},[t,r,a])}let xs=null;function W2({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:i}){const[a,l]=E.useState(()=>typeof window<"u"?window.location.href:""),c=E.useRef(0),u=E.useCallback(()=>{if(Ah()&&xs===null&&e&&!i){xs={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=f-window.innerHeight;m&&c.current>=f&&(document.body.style.top=`${-(c.current+m)}px`)}),300)}},[e]),d=E.useCallback(()=>{if(Ah()&&xs!==null&&!i){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,xs),window.requestAnimationFrame(()=>{if(s&&a!==window.location.href){l(window.location.href);return}window.scrollTo(f,h)}),xs=null}},[a]);return E.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),E.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),E.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,a,t,r,u,d]),{restorePositionSetting:d}}function Iy({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:i,shouldScaleBackground:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=V2,scrollLockTimeout:u=U2,dismissible:d=!0,handleOnly:h=!1,fadeFromIndex:f=i&&i.length-1,activeSnapPoint:m,setActiveSnapPoint:g,fixed:y,modal:b=!0,onClose:v,nested:w,noBodyStyles:x=!1,direction:_="bottom",defaultOpen:C=!1,disablePreventScroll:T=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:S=!1,repositionInputs:P=!0,onAnimationEnd:R,container:A,autoFocus:D=!1}){var O,M;const[V=!1,$]=My({defaultProp:C,prop:e,onChange:B=>{t==null||t(B),!B&&!w&&kt(),setTimeout(()=>{R==null||R(B)},Ie.DURATION*1e3),B&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),B||(document.body.style.pointerEvents="auto")}}),[I,W]=E.useState(!1),[F,X]=E.useState(!1),[Z,ee]=E.useState(!1),G=E.useRef(null),ne=E.useRef(null),pe=E.useRef(null),we=E.useRef(null),J=E.useRef(null),se=E.useRef(!1),Pe=E.useRef(null),Se=E.useRef(0),oe=E.useRef(!1),z=E.useRef(!C),ce=E.useRef(0),q=E.useRef(null),ve=E.useRef(((O=q.current)==null?void 0:O.getBoundingClientRect().height)||0),ye=E.useRef(((M=q.current)==null?void 0:M.getBoundingClientRect().width)||0),ge=E.useRef(0),$e=E.useCallback(B=>{i&&B===Me.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:at,activeSnapPointIndex:Oe,setActiveSnapPoint:jt,onRelease:er,snapPointsOffset:Me,onDrag:Ve,shouldFade:tr,getPercentageDragged:zr}=B2({snapPoints:i,activeSnapPointProp:m,setActiveSnapPointProp:g,drawerRef:q,fadeFromIndex:f,overlayRef:G,onSnapPointChange:$e,direction:_,container:A,snapToSequentialPoint:N});R2({isDisabled:!V||F||!b||Z||!I||!P||!T});const{restorePositionSetting:kt}=W2({isOpen:V,modal:b,nested:w??!1,hasBeenOpened:I,preventScrollRestoration:S,noBodyStyles:x});function qt(){return(window.innerWidth-Dl)/window.innerWidth}function Dt(B){var he,U;!d&&!i||q.current&&!q.current.contains(B.target)||(ve.current=((he=q.current)==null?void 0:he.getBoundingClientRect().height)||0,ye.current=((U=q.current)==null?void 0:U.getBoundingClientRect().width)||0,X(!0),pe.current=new Date,Ny()&&window.addEventListener("touchend",()=>se.current=!1,{once:!0}),B.target.setPointerCapture(B.pointerId),Se.current=He(_)?B.pageY:B.pageX)}function Qe(B,he){var U;let K=B;const ie=(U=window.getSelection())==null?void 0:U.toString(),Ce=q.current?Oi(q.current,_):null,_e=new Date;if(K.tagName==="SELECT"||K.hasAttribute("data-vaul-no-drag")||K.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(ne.current&&_e.getTime()-ne.current.getTime()<500)return!1;if(Ce!==null&&(_==="bottom"?Ce>0:Ce<0))return!0;if(ie&&ie.length>0)return!1;if(J.current&&_e.getTime()-J.current.getTime()<u&&Ce===0||he)return J.current=_e,!1;for(;K;){if(K.scrollHeight>K.clientHeight){if(K.scrollTop!==0)return J.current=new Date,!1;if(K.getAttribute("role")==="dialog")return!0}K=K.parentNode}return!0}function Bt(B){if(q.current&&F){const he=_==="bottom"||_==="right"?1:-1,U=(Se.current-(He(_)?B.pageY:B.pageX))*he,K=U>0,ie=i&&!d&&!K;if(ie&&Oe===0)return;const Ce=Math.abs(U),_e=document.querySelector("[data-vaul-drawer-wrapper]"),ot=_==="bottom"||_==="top"?ve.current:ye.current;let gt=Ce/ot;const Wr=zr(Ce,K);if(Wr!==null&&(gt=Wr),ie&&gt>=1||!se.current&&!Qe(B.target,K))return;if(q.current.classList.add(No),se.current=!0,Ke(q.current,{transition:"none"}),Ke(G.current,{transition:"none"}),i&&Ve({draggedDistance:U}),K&&!i){const zt=F2(U),xi=Math.min(zt*-1,0)*he;Ke(q.current,{transform:He(_)?`translate3d(0, ${xi}px, 0)`:`translate3d(${xi}px, 0, 0)`});return}const gr=1-gt;if((tr||f&&Oe===f-1)&&(n==null||n(B,gt),Ke(G.current,{opacity:`${gr}`,transition:"none"},!0)),_e&&G.current&&a){const zt=Math.min(qt()+gt*(1-qt()),1),xi=8-gt*8,Tu=Math.max(0,14-gt*14);Ke(_e,{borderRadius:`${xi}px`,transform:He(_)?`scale(${zt}) translate3d(0, ${Tu}px, 0)`:`scale(${zt}) translate3d(${Tu}px, 0, 0)`,transition:"none"},!0)}if(!i){const zt=Ce*he;Ke(q.current,{transform:He(_)?`translate3d(0, ${zt}px, 0)`:`translate3d(${zt}px, 0, 0)`})}}}E.useEffect(()=>{window.requestAnimationFrame(()=>{z.current=!0})},[]),E.useEffect(()=>{var B;function he(){if(!q.current||!P)return;const U=document.activeElement;if(Rl(U)||oe.current){var K;const ie=((K=window.visualViewport)==null?void 0:K.height)||0,Ce=window.innerHeight;let _e=Ce-ie;const ot=q.current.getBoundingClientRect().height||0,gt=ot>Ce*.8;ge.current||(ge.current=ot);const Wr=q.current.getBoundingClientRect().top;if(Math.abs(ce.current-_e)>60&&(oe.current=!oe.current),i&&i.length>0&&Me&&Oe){const gr=Me[Oe]||0;_e+=gr}if(ce.current=_e,ot>ie||oe.current){const gr=q.current.getBoundingClientRect().height;let zt=gr;gr>ie&&(zt=ie-(gt?Wr:Dl)),y?q.current.style.height=`${gr-Math.max(_e,0)}px`:q.current.style.height=`${Math.max(zt,ie-Wr)}px`}else S2()||(q.current.style.height=`${ge.current}px`);i&&i.length>0&&!oe.current?q.current.style.bottom="0px":q.current.style.bottom=`${Math.max(_e,0)}px`}}return(B=window.visualViewport)==null||B.addEventListener("resize",he),()=>{var U;return(U=window.visualViewport)==null?void 0:U.removeEventListener("resize",he)}},[Oe,i,Me]);function Ze(B){Hr(),v==null||v(),B||$(!1),setTimeout(()=>{i&&jt(i[0])},Ie.DURATION*1e3)}function St(){if(!q.current)return;const B=document.querySelector("[data-vaul-drawer-wrapper]"),he=Oi(q.current,_);Ke(q.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`}),Ke(G.current,{transition:`opacity ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,opacity:"1"}),a&&he&&he>0&&V&&Ke(B,{borderRadius:`${Dy}px`,overflow:"hidden",...He(_)?{transform:`scale(${qt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${qt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ie.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ie.EASE.join(",")})`},!0)}function Hr(){!F||!q.current||(q.current.classList.remove(No),se.current=!1,X(!1),we.current=new Date)}function rr(B){if(!F||!q.current)return;q.current.classList.remove(No),se.current=!1,X(!1),we.current=new Date;const he=Oi(q.current,_);if(!B||!Qe(B.target,!1)||!he||Number.isNaN(he)||pe.current===null)return;const U=we.current.getTime()-pe.current.getTime(),K=Se.current-(He(_)?B.pageY:B.pageX),ie=Math.abs(K)/U;if(ie>.05&&(ee(!0),setTimeout(()=>{ee(!1)},200)),i){er({draggedDistance:K*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ze,velocity:ie,dismissible:d}),s==null||s(B,!0);return}if(_==="bottom"||_==="right"?K>0:K<0){St(),s==null||s(B,!0);return}if(ie>Ry){Ze(),s==null||s(B,!1);return}var Ce;const _e=Math.min((Ce=q.current.getBoundingClientRect().height)!=null?Ce:0,window.innerHeight);var ot;const gt=Math.min((ot=q.current.getBoundingClientRect().width)!=null?ot:0,window.innerWidth),Wr=_==="left"||_==="right";if(Math.abs(he)>=(Wr?gt:_e)*c){Ze(),s==null||s(B,!1);return}s==null||s(B,!0),St()}E.useEffect(()=>(V&&(Ke(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{L2(document.documentElement,"scrollBehavior")}),[V]);function nr(B){const he=B?(window.innerWidth-Yr)/window.innerWidth:1,U=B?-Yr:0;Pe.current&&window.clearTimeout(Pe.current),Ke(q.current,{transition:`transform ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,transform:He(_)?`scale(${he}) translate3d(0, ${U}px, 0)`:`scale(${he}) translate3d(${U}px, 0, 0)`}),!B&&q.current&&(Pe.current=setTimeout(()=>{const K=Oi(q.current,_);Ke(q.current,{transition:"none",transform:He(_)?`translate3d(0, ${K}px, 0)`:`translate3d(${K}px, 0, 0)`})},500))}function pr(B,he){if(he<0)return;const U=(window.innerWidth-Yr)/window.innerWidth,K=U+he*(1-U),ie=-Yr+he*Yr;Ke(q.current,{transform:He(_)?`scale(${K}) translate3d(0, ${ie}px, 0)`:`scale(${K}) translate3d(${ie}px, 0, 0)`,transition:"none"})}function Ae(B,he){const U=He(_)?window.innerHeight:window.innerWidth,K=he?(U-Yr)/U:1,ie=he?-Yr:0;he&&Ke(q.current,{transition:`transform ${Ie.DURATION}s cubic-bezier(${Ie.EASE.join(",")})`,transform:He(_)?`scale(${K}) translate3d(0, ${ie}px, 0)`:`scale(${K}) translate3d(${ie}px, 0, 0)`})}return E.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),E.createElement(Ul,{defaultOpen:C,onOpenChange:B=>{!d&&!B||(B?W(!0):Ze(!0),$(B))},open:V},E.createElement(Py.Provider,{value:{activeSnapPoint:at,snapPoints:i,setActiveSnapPoint:jt,drawerRef:q,overlayRef:G,onOpenChange:t,onPress:Dt,onRelease:rr,onDrag:Bt,dismissible:d,shouldAnimate:z,handleOnly:h,isOpen:V,isDragging:F,shouldFade:tr,closeDrawer:Ze,onNestedDrag:pr,onNestedOpenChange:nr,onNestedRelease:Ae,keyboardIsOpen:oe,modal:b,snapPointsOffset:Me,activeSnapPointIndex:Oe,direction:_,shouldScaleBackground:a,setBackgroundColorOnScale:l,noBodyStyles:x,container:A,autoFocus:D}},r))}const Ly=E.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:i,isOpen:a,modal:l,shouldAnimate:c}=fs(),u=Ey(t,r),d=n&&n.length>0;if(!l)return null;const h=E.useCallback(f=>s(f),[s]);return E.createElement(ti,{onMouseUp:h,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":a&&d?"true":"false","data-vaul-snap-points-overlay":a&&i?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});Ly.displayName="Drawer.Overlay";const Fy=E.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:i,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:h,modal:f,isOpen:m,direction:g,snapPoints:y,container:b,handleOnly:v,shouldAnimate:w,autoFocus:x}=fs(),[_,C]=E.useState(!1),T=Ey(s,i),N=E.useRef(null),S=E.useRef(null),P=E.useRef(!1),R=y&&y.length>0;H2();const A=(O,M,V=0)=>{if(P.current)return!0;const $=Math.abs(O.y),I=Math.abs(O.x),W=I>$,F=["bottom","right"].includes(M)?1:-1;if(M==="left"||M==="right"){if(!(O.x*F<0)&&I>=0&&I<=V)return W}else if(!(O.y*F<0)&&$>=0&&$<=V)return!W;return P.current=!0,!0};E.useEffect(()=>{R&&window.requestAnimationFrame(()=>{C(!0)})},[]);function D(O){N.current=null,P.current=!1,l(O)}return E.createElement(ri,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":_?"true":"false","data-vaul-snap-points":m&&R?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":w!=null&&w.current?"true":"false",...n,ref:T,style:d&&d.length>0?{"--snap-point-height":`${d[h??0]}px`,...t}:t,onPointerDown:O=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,O),N.current={x:O.pageX,y:O.pageY},a(O))},onOpenAutoFocus:O=>{r==null||r(O),x||O.preventDefault()},onPointerDownOutside:O=>{if(e==null||e(O),!f||O.defaultPrevented){O.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:O=>{if(!f){O.preventDefault();return}},onPointerMove:O=>{if(S.current=O,v||(n.onPointerMove==null||n.onPointerMove.call(n,O),!N.current))return;const M=O.pageY-N.current.y,V=O.pageX-N.current.x,$=O.pointerType==="touch"?10:2;A({x:V,y:M},g,$)?c(O):(Math.abs(V)>$||Math.abs(M)>$)&&(N.current=null)},onPointerUp:O=>{n.onPointerUp==null||n.onPointerUp.call(n,O),N.current=null,P.current=!1,l(O)},onPointerOut:O=>{n.onPointerOut==null||n.onPointerOut.call(n,O),D(S.current)},onContextMenu:O=>{n.onContextMenu==null||n.onContextMenu.call(n,O),S.current&&D(S.current)}})});Fy.displayName="Drawer.Content";const G2=250,K2=120,$y=E.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:i,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:h,onPress:f,onDrag:m}=fs(),g=E.useRef(null),y=E.useRef(!1);function b(){if(y.current){x();return}window.setTimeout(()=>{v()},K2)}function v(){if(i||e||y.current){x();return}if(x(),!a||a.length===0){u||s();return}if(l===a[a.length-1]&&u){s();return}const C=a.findIndex(N=>N===l);if(C===-1)return;const T=a[C+1];c(T)}function w(){g.current=window.setTimeout(()=>{y.current=!0},G2)}function x(){g.current&&window.clearTimeout(g.current),y.current=!1}return E.createElement("div",{onClick:b,onPointerCancel:x,onPointerDown:_=>{d&&f(_),w()},onPointerMove:_=>{d&&m(_)},ref:n,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},E.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});$y.displayName="Drawer.Handle";function Y2({onDrag:e,onOpenChange:t,open:r,...n}){const{onNestedDrag:s,onNestedOpenChange:i,onNestedRelease:a}=fs();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return E.createElement(Iy,{nested:!0,open:r,onClose:()=>{i(!1)},onDrag:(l,c)=>{s(l,c),e==null||e(l,c)},onOpenChange:l=>{l&&i(l),t==null||t(l)},onRelease:a,...n})}function Q2(e){const t=fs(),{container:r=t.container,...n}=e;return E.createElement(ql,{container:r,...n})}const mr={Root:Iy,NestedRoot:Y2,Content:Fy,Overlay:Ly,Trigger:wf,Portal:Q2,Handle:$y,Close:Vl,Title:ni,Description:si},qa=({shouldScaleBackground:e=!0,...t})=>o.jsx(mr.Root,{shouldScaleBackground:e,...t});qa.displayName="Drawer";const X2=mr.Portal,Vy=p.forwardRef(({className:e,...t},r)=>o.jsx(mr.Overlay,{ref:r,className:k("fixed inset-0 z-50 bg-black/90 transition-all duration-200",e),...t}));Vy.displayName=mr.Overlay.displayName;const Ba=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(X2,{children:[o.jsx(Vy,{}),o.jsxs(mr.Content,{ref:n,className:k("fixed inset-x-0 bottom-0 z-50 flex flex-col rounded-t-xl bg-card transition-all duration-200","h-[90vh] min-h-[90vh]",e),...r,children:[o.jsx("div",{className:"mx-auto mt-3 h-1 w-12 rounded-full bg-muted"}),o.jsx("div",{className:"flex-1 min-h-0",children:t})]})]}));Ba.displayName="DrawerContent";const za=({className:e,...t})=>o.jsx("div",{className:k("grid gap-1 p-2 text-center sm:text-left",e),...t});za.displayName="DrawerHeader";const Ha=p.forwardRef(({className:e,...t},r)=>o.jsx(mr.Title,{ref:r,className:k("text-base font-medium leading-none tracking-tight text-foreground/90",e),...t}));Ha.displayName=mr.Title.displayName;const J2=p.forwardRef(({className:e,...t},r)=>o.jsx(mr.Description,{ref:r,className:k("text-sm text-muted-foreground/80",e),...t}));J2.displayName=mr.Description.displayName;const Mh=({modelKey:e,config:t,isActive:r,showRadio:n=!1,onClick:s,disabled:i,proMode:a})=>o.jsxs("div",{className:k("flex items-center p-2 border border-border/60 rounded-xl gap-3 transition-all duration-200 relative overflow-hidden",r?"bg-card shadow-[0_0_0_1px_rgba(var(--primary),.15)]":"border border-border/80 hover:bg-muted/5 hover:border-border/20 p-3 rounded-xl","bg-background",i?"opacity-50 cursor-not-allowed":"cursor-pointer active:scale-[0.98]"),onClick:i?void 0:s,children:[r&&o.jsx(hs,{className:"absolute inset-0",intensity:"medium",speed:"fast",size:500}),o.jsx("div",{className:"relative h-10 w-10 rounded-md overflow-hidden bg-background flex-shrink-0 ring-1 ring-border/5",children:o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),o.jsxs("div",{className:"flex-1 min-w-0 relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-foreground/90",children:t.name}),t.isPremium&&!a&&o.jsx(cs,{className:"h-3.5 w-3.5 flex-shrink-0 text-muted-foreground/70"})]}),o.jsx("p",{className:"text-xs text-muted-foreground/60 truncate mt-0.5",children:t.tagline||(t.category==="NSFW"?"NSFW Generation":"Image Generation")})]}),o.jsx(ci,{className:"h-3.5 w-3.5 flex-shrink-0 text-muted-foreground/50 relative"})]}),Z2=({modelKey:e,config:t,isActive:r,onClick:n,disabled:s,proMode:i})=>o.jsxs("div",{className:k("group relative aspect-square rounded-xl overflow-hidden transition-all duration-200","border border-border/80 bg-card",r?"ring-2 ring-primary/20 border-primary/30":"hover:border-border/20",s?"opacity-50 cursor-not-allowed":"cursor-pointer"),onClick:s?void 0:n,children:[o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"font-medium text-white/95 truncate text-xs",children:t.name}),t.isPremium&&!i&&o.jsx(cs,{className:"h-3 w-3 flex-shrink-0 text-white/80"})]})}),r&&o.jsx("div",{className:"absolute top-2 right-2 h-6 w-6 rounded-md bg-background text-white flex items-center justify-center",children:o.jsx(At,{className:"h-3.5 w-3.5"})})]}),eN=({groups:e,activeGroup:t,onGroupChange:r})=>o.jsxs("div",{className:"flex gap-1 px-2 py-1 mb-1 overflow-x-auto  scrollbar-thin scrollbar-thumb-border/50 scrollbar-track-transparent",children:[o.jsx(Q,{size:"sm",variant:t==="all"?"default":"outline",className:"h-7 px-2 text-xs rounded-full flex-shrink-0",onClick:()=>r("all"),children:"All"}),e.map(n=>o.jsx(Q,{size:"sm",variant:t===n?"default":"outline",className:"h-7 px-2 text-xs rounded-full flex-shrink-0",onClick:()=>r(n),children:n},n))]}),Ih=({filteredModels:e,model:t,setModel:r,proMode:n,className:s,onClose:i})=>{const a=E.useRef(null),l=E.useRef(null),[c,u]=p.useState("all"),d=p.useMemo(()=>{const m=new Set(e.map(([g,y])=>y.group));return Array.from(m).sort()},[e]),h=p.useMemo(()=>c==="all"?e:e.filter(([m,g])=>g.group===c),[e,c]);E.useEffect(()=>{if(l.current&&a.current){const m=a.current,g=l.current,y=m.getBoundingClientRect(),b=g.getBoundingClientRect(),v=b.top-y.top-(y.height-b.height)/2;m.scrollTo({top:v,behavior:"smooth"})}},[t,c]);const f=m=>{r(m),i==null||i()};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx(eN,{groups:d,activeGroup:c,onGroupChange:u}),o.jsx(Ut,{ref:a,className:k("flex-1 overflow-y-auto px-1","scrollbar-thin scrollbar-thumb-border scrollbar-track-transparent hover:scrollbar-thumb-border/50",s),children:o.jsx("div",{className:"grid grid-cols-2 gap-2 rounded-3xl pb-1",children:h.map(([m,g])=>o.jsx("div",{ref:t===m?l:null,children:o.jsx(Z2,{modelKey:m,config:g,isActive:t===m,proMode:n,onClick:()=>f(m),disabled:g.isPremium&&!n})},m))})})]})},tN=({model:e,setModel:t,proMode:r,nsfwEnabled:n,modelConfigs:s})=>{const[i,a]=p.useState(!1),[l,c]=p.useState(!1),u=p.useMemo(()=>s?Object.entries(s).filter(([g,y])=>n?y.category==="NSFW":y.category==="General"):[],[n,s]),d=p.useMemo(()=>n?"nsfwMaster":"fluxDev",[n]),h=p.useCallback(m=>{const g=s==null?void 0:s[m];if(!g)return;(n?g.category==="NSFW":g.category==="General")&&(t(m),a(!1))},[n,t,s]);p.useEffect(()=>{const m=s==null?void 0:s[e];(!m||m.category!==(n?"NSFW":"General"))&&t(d)},[n,e,d,t,s]);const f=s==null?void 0:s[e];return f?o.jsxs(Os,{label:"Model",tooltip:"Choose between fast generation or higher quality output.",children:[o.jsx("div",{className:"hidden md:block",children:o.jsxs(Ij,{open:l,onOpenChange:c,children:[o.jsx(Lj,{asChild:!0,children:o.jsx("div",{className:"w-full group",children:o.jsx(Mh,{modelKey:e,config:f,isActive:!0,proMode:r,onClick:()=>{}})})}),o.jsx(Vp,{side:"left",align:"center",sideOffset:16,className:"w-[600px] p-1 px-0 h-[90vh] border-border/80 bg-secondary rounded-3xl overflow-hidden my-[5vh]",children:o.jsx(Ih,{filteredModels:u,model:e,setModel:h,proMode:r,onClose:()=>c(!1),className:"h-full rounded-3xl"})})]})}),o.jsxs("div",{className:"md:hidden",children:[o.jsx("div",{className:"w-full group",onClick:()=>a(!0),children:o.jsx(Mh,{modelKey:e,config:f,isActive:!0,proMode:r,onClick:()=>{}})}),o.jsx(qa,{open:i,onOpenChange:a,children:o.jsxs(Ba,{className:"focus:outline-none",children:[o.jsx(za,{className:"border-b border-border/5 px-2 py-2",children:o.jsx(Ha,{className:"text-base font-medium text-foreground/90",children:"Select Model"})}),o.jsx("div",{className:"px-3 py-2",children:o.jsx(Ih,{filteredModels:u,model:e,setModel:h,proMode:r,onClose:()=>a(!1),className:"max-h-[70vh]"})})]})})]})]}):null},rN=({count:e=1,setCount:t})=>{const r=[1,2,3,4];return o.jsx(Os,{label:"Number of Images",tooltip:"Generate multiple images at once. Each image costs the same number of credits.",children:o.jsx("div",{className:"flex gap-2",children:r.map(n=>o.jsx(Q,{variant:"outline",size:"sm",onClick:()=>t(n),className:k("flex-1 h-8 rounded-lg",e===n?"bg-primary/10 border-primary/20 text-primary hover:bg-primary/20":"hover:bg-accent/10"),children:n},n))})})},Lh=["Tips: Try Remix an Image you like","Tips: Use FLux.1 Dev model for precise results","Tips: Use different models for different results","Tips: Try click the HD badge to improve quality to HD+","Tips: Use the 'Improve' button to enhance your prompt","Tips: Play with the slider to change the aspect ratio","Tips: Explore Inspiration page for more ideas","Tips: Use Stable Diffusion 3.5 large for more vibrant results"],nN=({prompt:e="",onChange:t,onKeyDown:r,onSubmit:n,hasEnoughCredits:s=!0,onClear:i,credits:a,bonusCredits:l,userId:c,activeModel:u,modelConfigs:d})=>{const[h,f]=p.useState(0),g=(a||0)+(l||0)>=1,{isImproving:y,improveCurrentPrompt:b}=Ca(c);p.useEffect(()=>{const x=setInterval(()=>{f(_=>(_+1)%Lh.length)},1e4);return()=>clearInterval(x)},[]);const v=async()=>{if(!c){Y.error("Please sign in to improve prompts");return}if(!g){Y.error("Not enough credits for prompt improvement");return}try{let x="",_=!0;await b(e,u,d,(C,T)=>{T?(_&&(t({target:{value:""}}),_=!1),x+=C,t({target:{value:x}})):t({target:{value:C}})})}catch(x){console.error("Error improving prompt:",x),Y.error("Failed to improve prompt")}},w=async()=>{if(!(e!=null&&e.trim())){Y.error("Please enter a prompt");return}if(!c){Y.error("Please sign in to generate images");return}if(!s){Y.error("Not enough credits");return}try{i(),await n()}catch(x){console.error("Error generating:",x),Y.error("Failed to generate image")}};return o.jsxs("div",{className:"relative mb-8",children:[o.jsxs("div",{className:"relative bg-background transition-all duration-300",children:[y&&o.jsx(hs,{className:"absolute inset-0 rounded-2xl animate-faster z-0",intensity:"strong",speed:"fast",size:500}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-12 bg-gradient-to-b from-background/95 to-transparent pointer-events-none z-20 rounded-t-2xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-12 bg-gradient-to-t from-background/95 to-transparent pointer-events-none z-20 rounded-b-2xl"}),o.jsx("textarea",{value:e,onChange:t,onKeyDown:r,placeholder:Lh[h],className:k("relative z-10","w-full min-h-[450px] md:min-h-[350px] resize-none bg-transparent text-base focus:outline-none","placeholder:text-muted-foreground/40 overflow-y-auto scrollbar-none","border-y border-border/5 py-6 px-3","transition-colors duration-200",y&&"opacity-80"),style:{caretColor:"currentColor"},disabled:y})]}),o.jsxs("div",{className:"flex justify-end items-center mt-4 gap-2",children:[(e==null?void 0:e.length)>0&&o.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10",onClick:i,disabled:y,children:o.jsx(us,{className:"h-4 w-4 text-foreground/70"})}),o.jsxs(Q,{size:"sm",variant:"outline",className:"h-8 rounded-xl bg-background/50 hover:bg-accent/10 transition-all duration-200",onClick:v,disabled:!(e!=null&&e.length)||y||!g,children:[y?o.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin text-foreground/70"}):o.jsx(ic,{className:"h-4 w-4 mr-2 text-foreground/70"}),o.jsx("span",{className:"text-sm",children:"Improve"})]}),o.jsxs(Q,{size:"sm",className:"h-8 rounded-xl bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:w,disabled:!(e!=null&&e.length)||!s||!c||y,children:[o.jsx("span",{className:"text-sm",children:"Create"}),o.jsx(Ki,{className:"ml-2 h-4 w-4"})]})]})]})};var Zc="Progress",eu=100,[sN,fR]=ns(Zc),[iN,aN]=sN(Zc),Uy=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=oN,...a}=e;(s||s===0)&&!Fh(s)&&console.error(lN(`${s}`,"Progress"));const l=Fh(s)?s:eu;n!==null&&!$h(n,l)&&console.error(cN(`${n}`,"Progress"));const c=$h(n,l)?n:null,u=la(c)?i(c,l):void 0;return o.jsx(iN,{scope:r,value:c,max:l,children:o.jsx(Ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":la(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":zy(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});Uy.displayName=Zc;var qy="ProgressIndicator",By=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=aN(qy,r);return o.jsx(Ge.div,{"data-state":zy(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});By.displayName=qy;function oN(e,t){return`${Math.round(e/t*100)}%`}function zy(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function la(e){return typeof e=="number"}function Fh(e){return la(e)&&!isNaN(e)&&e>0}function $h(e,t){return la(e)&&!isNaN(e)&&e<=t&&e>=0}function lN(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eu}\`.`}function cN(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eu} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Hy=Uy,uN=By;const tu=p.forwardRef(({className:e,value:t,...r},n)=>o.jsx(Hy,{ref:n,className:k("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(uN,{className:"h-full w-full flex-1 bg-primary rounded-full transition-all duration-300",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tu.displayName=Hy.displayName;const Wa=({credits:e,bonusCredits:t,className:r})=>{var u,d;const s=e/50*100,{session:i}=it(),{data:a}=Ee({queryKey:["profile-refill",(u=i==null?void 0:i.user)==null?void 0:u.id],queryFn:async()=>{var f;if(!((f=i==null?void 0:i.user)!=null&&f.id))return null;const{data:h}=await L.from("profiles").select("last_refill_time").eq("id",i.user.id).single();return h},enabled:!!((d=i==null?void 0:i.user)!=null&&d.id)}),c=(()=>{if(!(a!=null&&a.last_refill_time))return 24;const h=new Date(a.last_refill_time),f=new Date,m=new Date(h);m.setHours(m.getHours()+24);const g=Math.ceil((m-f)/(1e3*60*60));return Math.max(0,Math.min(24,g))})();return o.jsx(cc,{children:o.jsxs(uc,{children:[o.jsx(dc,{asChild:!0,children:o.jsxs("div",{className:k("space-y-0.5 w-full",r),children:[o.jsxs("div",{className:"flex justify-between text-xs items-center px-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"daily credits"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(od,{className:"w-3 h-3"}),o.jsxs("span",{children:[e,"/",50," remaining"]}),t>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-1",children:"+"}),o.jsx(od,{className:"w-3 h-3"}),o.jsxs("span",{className:"text-green-500",children:["B",t]})]})]})]}),o.jsx(tu,{value:s,className:"h-2 bg-destructive/25"})]})}),o.jsx(Ra,{children:o.jsxs("p",{className:"text-xs",children:[c," hours remaining until refill"]})})]})})},Wy=p.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:k("flex min-h-[80px] w-full rounded-md bg-secondary/50 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:bg-secondary focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",e),enterkeyhint:"enter",ref:r,...t}));Wy.displayName="Textarea";const dN=({prompt:e,setPrompt:t,handlePromptKeyDown:r,generateImage:n,model:s,setModel:i,seed:a,setSeed:l,randomizeSeed:c,setRandomizeSeed:u,quality:d,setQuality:h,useAspectRatio:f,setUseAspectRatio:m,aspectRatio:g,setAspectRatio:y,width:b,setWidth:v,height:w,setHeight:x,session:_,credits:C=0,bonusCredits:T=0,nsfwEnabled:N,setNsfwEnabled:S,proMode:P,modelConfigs:R,imageCount:A=1,setImageCount:D,isPrivate:O,setIsPrivate:M,hidePromptOnDesktop:V=!1,updateCredits:$,negativePrompt:I,setNegativePrompt:W})=>{var z,ce,q,ve,ye;const X=_t().hash==="#imagegenerate",Z=(z=_==null?void 0:_.user)==null?void 0:z.id,{isImproving:ee,improveCurrentPrompt:G}=Ca(Z),ne={HD:1,"HD+":2,"4K":3}[d]*A,pe=(C||0)+(T||0),we=pe>=ne,J=pe>=1,se=ge=>{const $e=R==null?void 0:R[ge];$e!=null&&$e.qualityLimits&&($e.qualityLimits.includes(d)||h("HD")),i(ge)},Pe=()=>{t("")},Se=async()=>{if(!(e!=null&&e.trim())){Y.error("Please enter a prompt");return}if(!J){Y.error("Not enough credits for prompt improvement");return}await G(e,s,R,ge=>{t(ge)})},oe=async()=>{if(!(e!=null&&e.trim())){Y.error("Please enter a prompt");return}if(!we){Y.error("Not enough credits");return}await n()};return o.jsxs("div",{className:"space-y-4 pb-16 md:pb-0 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500",children:[X&&o.jsx("div",{className:"flex justify-center w-full mb-2",children:o.jsx(Wa,{credits:C,bonusCredits:T})}),o.jsx("div",{className:V?"md:hidden":"",children:o.jsx(nN,{prompt:e,onChange:ge=>t(ge.target.value),onKeyDown:r,onSubmit:oe,hasEnoughCredits:we,onClear:Pe,onImprove:Se,isImproving:ee,userId:(ce=_==null?void 0:_.user)==null?void 0:ce.id,credits:C,bonusCredits:T})}),o.jsx(tN,{model:s,setModel:se,nsfwEnabled:N,proMode:P,modelConfigs:R}),o.jsx(Os,{label:"Dimensions",tooltip:"Choose the aspect ratio and quality for your generated image",children:o.jsx(nj,{aspectRatio:g,setAspectRatio:y,quality:d,setQuality:h,proMode:P,qualityLimits:(q=R==null?void 0:R[s])==null?void 0:q.qualityLimits})}),o.jsx(rN,{count:A,setCount:D}),((ve=R[s])==null?void 0:ve.use_negative_prompt)&&o.jsx(Os,{label:"Negative Prompt",tooltip:"Specify what you don't want to see in the generated image",children:o.jsx(Wy,{placeholder:((ye=R[s])==null?void 0:ye.default_negative_prompt)||"Enter negative prompt...",className:"resize-none",value:I,onChange:ge=>W(ge.target.value)})}),o.jsx(Os,{label:"Seed",tooltip:"A seed is a number that initializes the random generation process. Using the same seed with the same settings will produce the same image.",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(li,{type:"number",value:a,onChange:ge=>l(parseInt(ge.target.value)),disabled:c}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bp,{id:"randomizeSeed",checked:c,onCheckedChange:u}),o.jsx(Lm,{htmlFor:"randomizeSeed",children:"Random"})]})]})})]})};function hN(e,t){if(e==null)return{};var r=fN(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fN(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ca(){return ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(this,arguments)}function Vh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(r),!0).forEach(function(n){mN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pN={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},To=2;class Bi extends E.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let r;this.props.breakpointCols&&this.props.breakpointCols.default?r=this.props.breakpointCols.default:r=parseInt(this.props.breakpointCols)||To,this.state={columnCount:r}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let r=this.props.breakpointCols;typeof r!="object"&&(r={default:parseInt(r)||To});let n=1/0,s=r.default||To;for(let i in r){const a=parseInt(i);a>0&&t<=a&&a<n&&(n=a,s=r[i])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const t=this.state.columnCount,r=new Array(t),n=E.Children.toArray(this.props.children);for(let s=0;s<n.length;s++){const i=s%t;r[i]||(r[i]=[]),r[i].push(n[s])}return r}renderColumns(){const{column:t,columnAttrs:r={},columnClassName:n}=this.props,s=this.itemsInColumns(),i=`${100/s.length}%`;let a=n;a&&typeof a!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof a>"u"&&(a="my-masonry-grid_column"));const l=ws(ws(ws({},t),r),{},{style:ws(ws({},r.style),{},{width:i}),className:a});return s.map((c,u)=>E.createElement("div",ca({},l,{key:u}),c))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:r,breakpointCols:n,columnClassName:s,columnAttrs:i,column:a,className:l}=t,c=hN(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=l;return typeof l!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof l>"u"&&(u="my-masonry-grid")),E.createElement("div",ca({},c,{className:u}),this.renderColumns())}}Bi.defaultProps=pN;const Lr=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:k("rounded-xl border border-border/5 bg-card/90 text-card-foreground backdrop-blur-[2px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] transition-all duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)]",e),...t}));Lr.displayName="Card";const gN=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:k("flex flex-col space-y-1.5 p-7",e),...t}));gN.displayName="CardHeader";const yN=p.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:k("text-2xl font-medium leading-none tracking-tight text-foreground/90",e),...t}));yN.displayName="CardTitle";const vN=p.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:k("text-sm text-muted-foreground/80",e),...t}));vN.displayName="CardDescription";const ru=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:k("p-7 pt-0",e),...t}));ru.displayName="CardContent";const bN=p.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:k("flex items-center p-7 pt-0",e),...t}));bN.displayName="CardFooter";function rt({className:e,...t}){return o.jsx("div",{className:k("animate-pulse rounded-md bg-muted",e),...t})}const xN=({width:e=512,height:t=512})=>{const r=t/e*100;return o.jsxs("div",{className:"mb-6 group",children:[o.jsx(Lr,{className:k("overflow-hidden rounded-2xl","border-border/80 bg-card/95","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300","hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","hover:border-border/20"),children:o.jsx(ru,{className:"p-0 relative",style:{paddingTop:`${r}%`},children:o.jsx(rt,{className:k("absolute inset-0 w-full h-full","bg-muted/5","animate-pulse","transition-all duration-300")})})}),o.jsxs("div",{className:"mt-3 flex items-center justify-between gap-4",children:[o.jsx(rt,{className:k("h-4 w-3/4 rounded-lg","bg-muted/5","animate-pulse","transition-all duration-300")}),o.jsx(rt,{className:k("h-7 w-7 rounded-lg","bg-muted/5","animate-pulse","transition-all duration-300")})]})]})},Uh=({children:e,className:t})=>o.jsx("div",{className:k("absolute z-[2] rounded-full p-1 bg-background/80 backdrop-blur-sm",t),children:e}),wN=({isTrending:e,isHot:t})=>!e&&!t?null:o.jsxs(o.Fragment,{children:[e&&o.jsx(Uh,{className:"top-2 left-2",children:o.jsx(T1,{className:"w-4 h-4 text-blue-500"})}),t&&o.jsx(Uh,{className:k("top-2",e?"left-10":"left-2"),children:o.jsx(v1,{className:"w-4 h-4 text-red-500"})})]}),Gy=async(e,t)=>{try{const n=await(await fetch(e)).blob(),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=`${t.slice(0,30)}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(r){console.error("Error downloading image:",r),toast.error("Failed to download image")}},nu=Q0,su=X0,_N=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(_f,{ref:s,className:k("flex cursor-default select-none items-center rounded-xl px-3 py-2 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 data-[state=open]:bg-accent/80",t&&"pl-8",e),...n,children:[r,o.jsx(ci,{className:"ml-auto h-4 w-4 opacity-70"})]}));_N.displayName=_f.displayName;const jN=p.forwardRef(({className:e,...t},r)=>o.jsx(jf,{ref:r,className:k("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/80 bg-popover/95 p-2 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jN.displayName=jf.displayName;const Ga=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Y0,{children:o.jsx(kf,{ref:n,sideOffset:t,className:k("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/80 bg-popover/95 p-2 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ga.displayName=kf.displayName;const En=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Sf,{ref:n,className:k("relative flex cursor-default select-none items-center rounded-xl px-3 py-2 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",t&&"pl-8",e),...r}));En.displayName=Sf.displayName;const kN=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(Cf,{ref:s,className:k("relative flex cursor-default select-none items-center rounded-xl py-2 pl-9 pr-3 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-3 flex h-4 w-4 items-center justify-center",children:o.jsx(Pf,{children:o.jsx(At,{className:"h-4 w-4"})})}),t]}));kN.displayName=Cf.displayName;const SN=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Nf,{ref:n,className:k("relative flex cursor-default select-none items-center rounded-xl py-2 pl-9 pr-3 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",e),...r,children:[o.jsx("span",{className:"absolute left-3 flex h-4 w-4 items-center justify-center",children:o.jsx(Pf,{children:o.jsx(p1,{className:"h-2.5 w-2.5 fill-current"})})}),t]}));SN.displayName=Nf.displayName;const CN=p.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Tf,{ref:n,className:k("px-3 py-2 text-sm font-medium text-foreground/90",t&&"pl-8",e),...r}));CN.displayName=Tf.displayName;const Ol=p.forwardRef(({className:e,...t},r)=>o.jsx(Ef,{ref:r,className:k("-mx-1 my-1.5 h-px bg-muted/50",e),...t}));Ol.displayName=Ef.displayName;const Ky=({isLiked:e,onToggle:t,className:r,onLike:n})=>{const[s,i]=p.useState(null),a=c=>{c.stopPropagation(),e||n==null||n(),t(),i(!e),setTimeout(()=>{i(null)},5e3)},l=s??e;return o.jsx(Q,{variant:"ghost",size:"icon",className:k("h-6 w-6 p-0",r),onClick:a,children:o.jsx(Zm,{className:k("h-4 w-4",l?"fill-red-500 text-red-500":"text-foreground")})})},bn=e=>{const[t,r]=p.useState(!1);return p.useEffect(()=>{const n=window.matchMedia(e);r(n.matches);const s=i=>{r(i.matches)};return n.addListener(s),()=>n.removeListener(s)},[e]),t},ua=({prompt:e,className:t})=>{const[r,n]=p.useState(!1),s=e.length>150;return o.jsx("div",{className:k("relative",t),children:o.jsx("p",{onClick:()=>s&&n(!r),className:k("text-sm text-muted-foreground",!r&&s&&"line-clamp-3",s&&"cursor-pointer hover:text-muted-foreground/80"),children:e})})},iu=({prompt:e,negative_prompt:t,copyIcon:r,shareIcon:n,onCopyPrompt:s,onShare:i})=>o.jsxs("div",{className:k("flex flex-col space-y-4"),children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Prompt"}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:s,className:k("h-6 w-6 p-0 rounded-md","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:r==="copy"?o.jsx(Xm,{className:"h-3.5 w-3.5 text-foreground/70"}):o.jsx(At,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:i,className:k("h-6 w-6 p-0 rounded-md","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:n==="share"?o.jsx(sp,{className:"h-3.5 w-3.5 text-foreground/70"}):o.jsx(At,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})})]})]}),o.jsx("div",{className:k("rounded-md"),children:o.jsx(ua,{prompt:e,className:"text-sm text-foreground/90 leading-relaxed"})})]}),t&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Negative Prompt"}),o.jsx("div",{className:k("rounded-md"),children:o.jsx(ua,{prompt:t,className:"text-sm text-foreground/90 leading-relaxed"})})]})]}),au=({detailItems:e})=>o.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((t,r)=>o.jsxs("div",{className:k("space-y-1 rounded-md","bg-muted/5 hover:bg-muted/10","border border-border/5","transition-colors duration-200","group"),children:[o.jsx("p",{className:"text-xs text-foreground/40 uppercase tracking-wider group-hover:text-muted-foreground/70 transition-colors duration-200",children:t.label}),o.jsx("p",{className:"text-sm font-medium text-foreground/90",children:t.value})]},r))});function st(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Yy(e,t){const r=st(e);return isNaN(t)?fr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const Qy=6048e5,PN=864e5,Xy=6e4,Jy=36e5;let NN={};function Ka(){return NN}function mn(e,t){var l,c,u,d;const r=Ka(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=st(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function da(e){return mn(e,{weekStartsOn:1})}function Zy(e){const t=st(e),r=t.getFullYear(),n=fr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=da(n),i=fr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=da(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function ha(e){const t=st(e);return t.setHours(0,0,0,0),t}function qh(e){const t=st(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function TN(e,t){const r=ha(e),n=ha(t),s=+r-qh(r),i=+n-qh(n);return Math.round((s-i)/PN)}function EN(e){const t=Zy(e),r=fr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),da(r)}function AN(e,t){const r=t*7;return Yy(e,r)}function Ya(e){return fr(e,Date.now())}function e0(e,t){const r=ha(e),n=ha(t);return+r==+n}function RN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DN(e){if(!RN(e)&&typeof e!="number")return!1;const t=st(e);return!isNaN(Number(t))}function ON(e){const t=st(e),r=fr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const MN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IN=(e,t,r)=>{let n;const s=MN[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Eo(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const LN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$N={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VN={date:Eo({formats:LN,defaultWidth:"full"}),time:Eo({formats:FN,defaultWidth:"full"}),dateTime:Eo({formats:$N,defaultWidth:"full"})},UN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qN=(e,t,r,n)=>UN[e];function _s(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const BN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YN=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},QN={ordinalNumber:YN,era:_s({values:BN,defaultWidth:"wide"}),quarter:_s({values:zN,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_s({values:HN,defaultWidth:"wide"}),day:_s({values:WN,defaultWidth:"wide"}),dayPeriod:_s({values:GN,defaultWidth:"wide",formattingValues:KN,defaultFormattingWidth:"wide"})};function js(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?JN(l,h=>h.test(a)):XN(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function XN(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function JN(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ZN(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const eT=/^(\d+)(th|st|nd|rd)?/i,tT=/\d+/i,rT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nT={any:[/^b/i,/^(a|c)/i]},sT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iT={any:[/1/i,/2/i,/3/i,/4/i]},aT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hT={ordinalNumber:ZN({matchPattern:eT,parsePattern:tT,valueCallback:e=>parseInt(e,10)}),era:js({matchPatterns:rT,defaultMatchWidth:"wide",parsePatterns:nT,defaultParseWidth:"any"}),quarter:js({matchPatterns:sT,defaultMatchWidth:"wide",parsePatterns:iT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:js({matchPatterns:aT,defaultMatchWidth:"wide",parsePatterns:oT,defaultParseWidth:"any"}),day:js({matchPatterns:lT,defaultMatchWidth:"wide",parsePatterns:cT,defaultParseWidth:"any"}),dayPeriod:js({matchPatterns:uT,defaultMatchWidth:"any",parsePatterns:dT,defaultParseWidth:"any"})},fT={code:"en-US",formatDistance:IN,formatLong:VN,formatRelative:qN,localize:QN,match:hT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mT(e){const t=st(e);return TN(t,ON(t))+1}function pT(e){const t=st(e),r=+da(t)-+EN(t);return Math.round(r/Qy)+1}function t0(e,t){var d,h,f,m;const r=st(e),n=r.getFullYear(),s=Ka(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=fr(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const l=mn(a,t),c=fr(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=mn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gT(e,t){var l,c,u,d;const r=Ka(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=t0(e,t),i=fr(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),mn(i,t)}function yT(e,t){const r=st(e),n=+mn(r,t)-+gT(r,t);return Math.round(n/Qy)+1}function je(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const br={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return je(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):je(r+1,2)},d(e,t){return je(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return je(e.getHours()%12||12,t.length)},H(e,t){return je(e.getHours(),t.length)},m(e,t){return je(e.getMinutes(),t.length)},s(e,t){return je(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return je(s,t.length)}},kn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return br.y(e,t)},Y:function(e,t,r,n){const s=t0(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return je(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):je(i,t.length)},R:function(e,t){const r=Zy(e);return je(r,t.length)},u:function(e,t){const r=e.getFullYear();return je(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return br.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=yT(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):je(s,t.length)},I:function(e,t,r){const n=pT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):je(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):br.d(e,t)},D:function(e,t,r){const n=mT(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):je(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return je(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return je(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return je(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=kn.noon:n===0?s=kn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=kn.evening:n>=12?s=kn.afternoon:n>=4?s=kn.morning:s=kn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return br.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):br.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):br.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):br.s(e,t)},S:function(e,t){return br.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Hh(n);case"XXXX":case"XX":return Zr(n);case"XXXXX":case"XXX":default:return Zr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Hh(n);case"xxxx":case"xx":return Zr(n);case"xxxxx":case"xxx":default:return Zr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zh(n,":");case"OOOO":default:return"GMT"+Zr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zh(n,":");case"zzzz":default:return"GMT"+Zr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return je(n,t.length)},T:function(e,t,r){const n=e.getTime();return je(n,t.length)}};function zh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+je(i,2)}function Hh(e,t){return e%60===0?(e>0?"-":"+")+je(Math.abs(e)/60,2):Zr(e,t)}function Zr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=je(Math.trunc(n/60),2),i=je(n%60,2);return r+s+t+i}const Wh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},r0=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vT=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Wh(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Wh(n,t)).replace("{{time}}",r0(s,t))},bT={p:r0,P:vT},xT=/^D+$/,wT=/^Y+$/,_T=["D","DD","YY","YYYY"];function jT(e){return xT.test(e)}function kT(e){return wT.test(e)}function ST(e,t,r){const n=CT(e,t,r);if(console.warn(n),_T.includes(e))throw new RangeError(n)}function CT(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TT=/^'([^]*?)'?$/,ET=/''/g,AT=/[a-zA-Z]/;function yi(e,t,r){var d,h,f,m;const n=Ka(),s=n.locale??fT,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=st(e);if(!DN(l))throw new RangeError("Invalid time value");let c=t.match(NT).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=bT[y];return b(g,s.formatLong)}return g}).join("").match(PT).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:RT(g)};if(Bh[y])return{isToken:!0,value:g};if(y.match(AT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(kT(y)||jT(y))&&ST(y,t,String(e));const b=Bh[y[0]];return b(l,y,s.localize,u)}).join("")}function RT(e){const t=e.match(TT);return t?t[1].replace(ET,"'"):e}function Ao(e,t){const r=st(e),n=st(t);return r.getTime()>n.getTime()}function DT(e,t,r){const n=mn(e,r),s=mn(t,r);return+n==+s}function OT(e,t){const r=st(e),n=st(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function MT(e){return OT(e,Ya(e))}function IT(e,t){return DT(e,Ya(e),t)}function LT(e){return e0(e,Ya(e))}function FT(e,t){return Yy(e,-t)}function $T(e){return e0(e,FT(Ya(e),1))}function VT(e,t){const n=zT(e);let s;if(n.date){const c=HT(n.date,2);s=WT(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,l;if(n.time&&(a=GT(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=KT(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+l)}const Mi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},UT=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qT=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BT=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zT(e){const t={},r=e.split(Mi.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Mi.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mi.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Mi.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function HT(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function WT(e,t){if(t===null)return new Date(NaN);const r=e.match(UT);if(!r)return new Date(NaN);const n=!!r[4],s=ks(r[1]),i=ks(r[2])-1,a=ks(r[3]),l=ks(r[4]),c=ks(r[5])-1;if(n)return ZT(t,l,c)?YT(t,l,c):new Date(NaN);{const u=new Date(0);return!XT(t,i,a)||!JT(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function ks(e){return e?parseInt(e):1}function GT(e){const t=e.match(qT);if(!t)return NaN;const r=Ro(t[1]),n=Ro(t[2]),s=Ro(t[3]);return eE(r,n,s)?r*Jy+n*Xy+s*1e3:NaN}function Ro(e){return e&&parseFloat(e.replace(",","."))||0}function KT(e){if(e==="Z")return 0;const t=e.match(BT);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return tE(n,s)?r*(n*Jy+s*Xy):NaN}function YT(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const QT=[31,null,31,30,31,30,31,31,30,31,30,31];function n0(e){return e%400===0||e%4===0&&e%100!==0}function XT(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(QT[t]||(n0(e)?29:28))}function JT(e,t){return t>=1&&t<=(n0(e)?366:365)}function ZT(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function eE(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function tE(e,t){return t>=0&&t<=59}function Do(e,t){return AN(e,-t)}const rE=({image:e,isMobile:t,isLiked:r,likeCount:n=0,onToggleLike:s=()=>{},onViewDetails:i=()=>{},onDownload:a=()=>{},onDiscard:l=()=>{},userId:c})=>{var R;const{session:u}=it(),d=We(),h=bn("(max-width: 768px)"),[f,m]=p.useState(!1),[g,y]=p.useState("copy"),[b,v]=p.useState("share"),{data:w}=Vt(),x=A=>{A.preventDefault(),A.stopPropagation(),h?m(!0):i(e)},_=A=>{A.preventDefault(),A.stopPropagation(),e!=null&&e.id&&(l(e),m(!1))},C=A=>{A.preventDefault(),A.stopPropagation(),a(e),m(!1)},T=A=>{if(A.preventDefault(),A.stopPropagation(),!u){Y.error("Please sign in to remix images");return}const D=h?"#imagegenerate":"#myimages";d(`/?remix=${e.id}${D}`,{replace:!0}),m(!1)},N=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),y("check"),setTimeout(()=>y("copy"),1500)},S=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),v("check"),setTimeout(()=>v("share"),1500)},P=[{label:"Model",value:((R=w==null?void 0:w[e.model])==null?void 0:R.name)||e.model},{label:"Size",value:`${e.width}x${e.height}`},{label:"Quality",value:e.quality},{label:"Seed",value:e.seed},{label:"Aspect Ratio",value:e.aspect_ratio},{label:"Created",value:yi(new Date(e.created_at),"MMM d, yyyy h:mm a")}];return o.jsxs("div",{className:"flex items-center gap-1 px-1",onClick:A=>A.stopPropagation(),children:[u&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ky,{isLiked:r,onToggle:()=>s(e.id)}),o.jsx("span",{className:k("text-xs text-muted-foreground/60 group-hover:text-muted-foreground/80","transition-colors duration-200"),children:n})]}),h?o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:x,className:k("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:o.jsx(ad,{className:"h-4 w-4 text-foreground/70"})}),o.jsx(qa,{open:f,onOpenChange:m,children:o.jsxs(Ba,{className:"focus:outline-none",children:[o.jsx(za,{className:"border-b border-border/5 px-4 py-4",children:o.jsx(Ha,{className:"text-base font-medium text-foreground/90",children:"Image Details"})}),o.jsx(Ut,{className:"max-h-[80vh] overflow-y-auto px-4 py-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-1.5",children:[e.user_id===c&&o.jsxs(Q,{onClick:_,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[o.jsx(Qi,{className:"mr-1.5 h-3.5 w-3.5"}),o.jsx("span",{children:"Discard"})]}),o.jsxs(Q,{onClick:C,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(Yi,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Download"})]}),o.jsxs(Q,{onClick:T,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(dl,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Remix"})]})]}),o.jsx(iu,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:g,shareIcon:b,onCopyPrompt:N,onShare:S}),o.jsx(au,{detailItems:P})]})})]})})]}):o.jsxs(nu,{children:[o.jsx(su,{asChild:!0,children:o.jsx(Q,{variant:"ghost",size:"icon",className:k("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:o.jsx(ad,{className:"h-4 w-4 text-foreground/70"})})}),o.jsxs(Ga,{align:"end",className:k("w-52 p-2 m-2","border-border/80 bg-card","animate-in fade-in-0 zoom-in-95 duration-200"),children:[o.jsxs(En,{onClick:C,className:k("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[o.jsx(Yi,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),o.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"Download"})]}),u&&o.jsxs(o.Fragment,{children:[o.jsx(Ol,{className:"my-2 bg-border/5"}),e.user_id===c&&o.jsxs(En,{onClick:_,className:k("flex items-center gap-3 py-2 px-3 rounded-lg mb-2","cursor-pointer transition-colors duration-200","hover:bg-destructive/50 focus:bg-destructive/10","text-destructive/90 hover:text-destructive","group"),children:[o.jsx(Qi,{className:"h-4 w-4 transition-colors duration-200"}),o.jsx("span",{className:"text-sm font-medium",children:"Discard"})]}),o.jsxs(En,{onClick:T,className:k("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[o.jsx(dl,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),o.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"Remix"})]})]}),o.jsx(Ol,{className:"my-2 bg-border/5"}),o.jsxs(En,{onClick:x,className:k("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[o.jsx(x1,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),o.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"View Details"})]})]})]})]})},ou=Ul,nE=ql,s0=p.forwardRef(({className:e,...t},r)=>o.jsx(ti,{ref:r,className:k("fixed inset-0 z-50 bg-black/90 transition-all duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));s0.displayName=ti.displayName;const Qa=p.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nE,{children:[o.jsx(s0,{}),o.jsxs(ri,{ref:n,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border border-border/80 bg-background p-8 transition-all duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-[28px]",e),...r,children:[t,o.jsxs(Vl,{className:"absolute right-5 top-5 rounded-xl opacity-70 ring-offset-background transition-all duration-200 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-muted data-[state=open]:text-muted-foreground/80",children:[o.jsx(us,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qa.displayName=ri.displayName;const lu=({className:e,...t})=>o.jsx("div",{className:k("flex flex-col space-y-2 text-center sm:text-left",e),...t});lu.displayName="DialogHeader";const cu=p.forwardRef(({className:e,...t},r)=>o.jsx(ni,{ref:r,className:k("text-lg font-medium leading-none tracking-tight text-foreground/90",e),...t}));cu.displayName=ni.displayName;const sE=p.forwardRef(({className:e,...t},r)=>o.jsx(si,{ref:r,className:k("text-sm text-muted-foreground/80",e),...t}));sE.displayName=si.displayName;const uu=({open:e,onOpenChange:t,image:r})=>{var h;const{data:n}=Vt(),[s,i]=p.useState("copy"),[a,l]=p.useState("share");if(!r)return null;const c=[{label:"Model",value:((h=n==null?void 0:n[r.model])==null?void 0:h.name)||r.model},{label:"Seed",value:r.seed},{label:"Size",value:`${r.width}x${r.height}`},{label:"Aspect Ratio",value:r.aspect_ratio},{label:"Quality",value:r.quality},{label:"Created",value:yi(new Date(r.created_at),"MMM d, yyyy h:mm a")}],u=async()=>{await navigator.clipboard.writeText(r.prompt),i("check"),setTimeout(()=>i("copy"),1500)},d=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${r.id}`),l("check"),setTimeout(()=>l("share"),1500)};return o.jsx(ou,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:k("sm:max-w-[500px] max-h-[80vh] overflow-hidden","border-border/80 bg-card","p-4 md:p-6 rounded-lg"),children:[o.jsx(lu,{className:"px-2",children:o.jsx(cu,{className:"text-md font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Image Details"})}),o.jsx(Ut,{className:"mt-3 max-h-[calc(80vh-80px)]",children:o.jsxs("div",{className:"space-y-4 px-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Prompt"}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx(Q,{variant:"ghost",size:"icon",className:k("h-8 w-8 p-0 rounded-md","bg-card hover:bg-secondary ","transition-all duration-200"),onClick:u,children:s==="copy"?o.jsx(Xm,{className:"h-3.5 w-3.5 text-foreground/70"}):o.jsx(At,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})}),o.jsx(Q,{variant:"ghost",size:"icon",className:k("h-8 w-8 p-0 rounded-md","bg-card hover:bg-secondary ","transition-all duration-200"),onClick:d,children:a==="share"?o.jsx(sp,{className:"h-3.5 w-3.5 text-foreground/70"}):o.jsx(At,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})})]})]}),o.jsx("div",{className:k("rounded-md","bg-card","border border-border/5","transition-colors duration-200","group"),children:o.jsx(ua,{prompt:r.prompt})})]}),(r==null?void 0:r.negative_prompt)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Negative Prompt"}),o.jsx("div",{className:k("rounded-md","bg-card","transition-colors duration-200","group"),children:o.jsx(ua,{prompt:r.negative_prompt})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map((f,m)=>o.jsxs("div",{className:k("space-y-1 p-2 rounded-md","bg-card","border border-border/5","transition-colors duration-200","group"),children:[o.jsx("p",{className:"text-xs text-muted-foreground/60 uppercase tracking-wider group-hover:text-muted-foreground/70 transition-colors duration-200",children:f.label}),o.jsx("p",{className:"text-sm font-medium text-foreground/90",children:f.value})]},m))})]})})]})})},iE=(e,t={})=>{try{const{width:r="auto",quality:n=75,format:s="webp"}=t,i=L.storage.from("user-images").getPublicUrl(e).data.publicUrl;if(!i)return console.error("Failed to get base URL for image:",e),"";if(r==="auto")return i;try{const a=new URL(i);return a.searchParams.set("width",r),a.searchParams.set("quality",n),a.searchParams.set("format",s),a.toString()}catch(a){return console.error("Error transforming image URL:",a),i}}catch(r){return console.error("Error in getOptimizedImageUrl:",r),""}},Xa=({isAnimating:e})=>e?o.jsx("div",{className:k("absolute inset-0 flex items-center justify-center","pointer-events-none z-10"),children:o.jsx("video",{src:"https://res.cloudinary.com/drhx7imeb/video/upload/v1735205358/Animation_-_1735137420225_kgdxup.webm",autoPlay:!0,muted:!0,className:"w-[150px] h-[150px]",onEnded:t=>{t.target.currentTime=0,t.target.pause()}})}):null,aE=({image:e,onImageClick:t,onDoubleClick:r,isAnimating:n})=>{const[s,i]=p.useState(!0),a=iE(e.storage_path,{width:1024,quality:75}),l=()=>{i(!1)};return o.jsxs("div",{className:"relative",style:{paddingTop:`${e.height/e.width*100}%`},children:[s&&o.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse",children:o.jsx(rt,{className:"w-full h-full"})}),o.jsx("img",{src:a,alt:e.prompt,className:k("absolute inset-0 w-full h-full object-cover cursor-pointer","transition-opacity duration-300",s?"opacity-0":"opacity-100"),onClick:t,onDoubleClick:r,onLoad:l,loading:"lazy",decoding:"async"}),o.jsx("div",{className:k("absolute inset-0 flex items-center justify-center","pointer-events-none"),children:o.jsx(Xa,{isAnimating:n})})]})},oE=({modelName:e,isNsfw:t})=>o.jsx("div",{className:"absolute bottom-2 left-2 flex gap-1",children:o.jsx(ut,{variant:"secondary",className:"bg-black/50 text-white border-none text-[8px] md:text-[10px] py-0.5",children:e})}),Gh=({image:e,onDiscard:t=()=>{},userId:r,isMobile:n,isLiked:s,onToggleLike:i=()=>{}})=>{var T,N;const[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),{data:f}=Vt();bn("(max-width: 768px)");const m=We(),{data:g=0}=Ee({queryKey:["imageLikes",e.id],queryFn:async()=>{const{count:S,error:P}=await L.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);if(P)throw P;return S||0}}),y=S=>{S.preventDefault(),m(`/image/${e.id}`)},b=async()=>{const S=L.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl;await Gy(S,e.prompt)},v=()=>{h(!0),setTimeout(()=>{h(!1)},800)},w=S=>{S.preventDefault(),S.stopPropagation(),s||(v(),i(e.id))},x=async()=>{try{u(!0),await Pa(e),t(e.id)}catch(S){console.error("Error in handleDiscard:",S),u(!1)}};if(c)return null;const _=((T=f==null?void 0:f[e.model])==null?void 0:T.category)==="NSFW",C=((N=f==null?void 0:f[e.model])==null?void 0:N.name)||e.model;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2 group",children:[o.jsx(Lr,{className:k("overflow-hidden rounded-2xl bg-card/95","transition-all duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","relative"),children:o.jsxs(ru,{className:"p-0 relative",children:[o.jsx(wN,{isTrending:e.is_trending,isHot:e.is_hot}),o.jsx(aE,{image:e,onImageClick:y,onDoubleClick:w}),o.jsx(oE,{modelName:C,isNsfw:_}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx(Xa,{isAnimating:d})})]})}),o.jsxs("div",{className:"mt-0.5 flex items-center justify-between gap-1",children:[o.jsx("p",{className:k("text-sm truncate w-[70%]","text-muted-foreground/70 group-hover:text-muted-foreground/90","transition-colors duration-200"),children:e.prompt}),o.jsx(rE,{image:e,isMobile:n,isLiked:s,likeCount:g,onToggleLike:S=>{s||v(),i(S)},onViewDetails:()=>l(!0),onDownload:b,onDiscard:x,userId:r})]})]}),o.jsx(uu,{open:a,onOpenChange:l,image:e})]})},du=e=>{const t=dt();p.useEffect(()=>{if(!e)return;const s=L.channel("likes_channel").on("postgres_changes",{event:"*",schema:"public",table:"user_image_likes",filter:`user_id=eq.${e}`},()=>{t.invalidateQueries(["likes",e])}).subscribe();return()=>{s.unsubscribe()}},[e,t]);const{data:r}=Ee({queryKey:["likes",e],queryFn:async()=>{if(!e)return[];const{data:s,error:i}=await L.from("user_image_likes").select("image_id").eq("user_id",e);if(i)throw i;return s.map(a=>a.image_id)},enabled:!!e}),n=Gn({mutationFn:async s=>{if(r==null?void 0:r.includes(s)){const{error:a}=await L.from("user_image_likes").delete().eq("user_id",e).eq("image_id",s);if(a)throw a}else{const{data:a}=await L.from("user_image_likes").select("id").eq("user_id",e).eq("image_id",s).maybeSingle();if(!a){const{data:l,error:c}=await L.from("user_images").select("*").eq("id",s).single();if(c)throw c;const{data:u}=await L.from("profiles").select("display_name, avatar_url").eq("id",e).single(),{error:d}=await L.from("user_image_likes").insert([{user_id:e,image_id:s,created_by:l.user_id}]);if(d&&d.code!=="23505")throw d;if(!d){const{error:h}=await L.from("notifications").insert([{user_id:l.user_id,title:"New Like",message:`${(u==null?void 0:u.display_name)||"Someone"} liked your image`,image_url:L.storage.from("user-images").getPublicUrl(l.storage_path).data.publicUrl,link:`/profile/${e}`,link_names:"View Profile"}]);if(h)throw h}}}},onSuccess:()=>{t.invalidateQueries(["likes",e])}});return{userLikes:r||[],toggleLike:n.mutate}},lE=({animationUrl:e})=>o.jsxs("div",{className:k("flex flex-col items-center justify-center mx-auto","p-4 md:p-8 rounded-xl m-2 mt-16 md:mt-10","bg-card border border-border","transition-all duration-300"),children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nothing Found"}),o.jsx("p",{className:"text-sm text-muted-foreground/70 mb-8 text-center",children:"Explore something else or create something new"}),e&&o.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full rounded-lg overflow-hidden",children:o.jsx("source",{src:e,type:"video/webm"})})]}),xr=20,Ii=["nsfwMaster","animeNsfw"],cE=({userId:e,activeView:t,nsfwEnabled:r,showPrivate:n,activeFilters:s={},searchQuery:i="",modelConfigs:a={},showFollowing:l=!1,showTop:c=!1,following:u=[]})=>{var v;const d=dt(),{data:h,fetchNextPage:f,hasNextPage:m,isFetchingNextPage:g,isLoading:y}=Mv({queryKey:["galleryImages",e,t,r,n,s,i,l,c,u],queryFn:async({pageParam:w={page:0}})=>{if(!e)return{data:[],nextPage:null};let x=L.from("user_images").select("*",{count:"exact"});if(t==="myImages"){x=x.eq("user_id",e),n!==void 0&&(x=x.eq("is_private",n)),r?x=x.in("model",Ii):x=x.not("model","in","("+Ii.join(",")+")"),s.style&&(x=x.eq("style",s.style)),s.model&&(x=x.eq("model",s.model)),i&&i.trim()&&(x=x.ilike("prompt",`%${i.trim()}%`));const S=w.page*xr,{data:P,error:R,count:A}=await x.order("created_at",{ascending:!1}).range(S,S+xr-1);if(R)throw R;return{data:(P==null?void 0:P.map(D=>({...D,image_url:L.storage.from("user-images").getPublicUrl(D.storage_path).data.publicUrl})))||[],nextPage:(P==null?void 0:P.length)===xr&&A>S+xr?{page:w.page+1}:void 0}}if(x=x.neq("user_id",e).eq("is_private",!1),r?x=x.in("model",Ii):x=x.not("model","in","("+Ii.join(",")+")"),l&&!c&&(u==null?void 0:u.length)>0)x=x.in("user_id",u);else if(c&&!l)x=x.or("is_hot.eq.true,is_trending.eq.true");else if(c&&l&&(u==null?void 0:u.length)>0)x=x.or(`user_id.in.(${u.join(",")}),is_hot.eq.true,is_trending.eq.true`);else if(l&&(u==null?void 0:u.length)===0)return{data:[],nextPage:void 0};s.style&&(x=x.eq("style",s.style)),s.model&&(x=x.eq("model",s.model)),i&&(x=x.ilike("prompt",`%${i}%`));const _=w.page*xr,{data:C,error:T,count:N}=await x.order("created_at",{ascending:!1}).range(_,_+xr-1);if(T)throw T;return C?{data:C.map(S=>({...S,image_url:L.storage.from("user-images").getPublicUrl(S.storage_path).data.publicUrl})),nextPage:C.length===xr&&N>_+xr?{page:w.page+1}:void 0}:{data:[],nextPage:null}},getNextPageParam:w=>w==null?void 0:w.nextPage,initialPageParam:{page:0}});return p.useEffect(()=>{if(!e)return;const w=L.channel("gallery-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_images",filter:t==="myImages"?`user_id=eq.${e}`:`user_id=neq.${e}`},()=>{d.invalidateQueries({queryKey:["galleryImages",e,t]})}).subscribe();return()=>{L.removeChannel(w)}},[e,t,d]),{images:((v=h==null?void 0:h.pages)==null?void 0:v.flatMap(w=>w.data))||[],isLoading:y,fetchNextPage:f,hasNextPage:m,isFetchingNextPage:g}},uE=()=>({default:4,1600:4,1e3:4,900:3,700:3,500:2}),dE=e=>{const t={today:[],yesterday:[],thisWeek:[],lastWeek:[],thisMonth:[],lastMonth:[],earlier:[]},r=new Date,n=Do(r,1),s=Do(r,2);return e==null||e.forEach(i=>{const a=VT(i.created_at);LT(a)?t.today.push(i):$T(a)?t.yesterday.push(i):IT(a)?t.thisWeek.push(i):Ao(a,s)&&!Ao(a,n)?t.lastWeek.push(i):MT(a)?t.thisMonth.push(i):Ao(a,Do(r,6))?t.lastMonth.push(i):t.earlier.push(i)}),t},hE=({children:e})=>o.jsxs("div",{className:"flex items-center gap-3 px-2 mb-6",children:[o.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:e}),o.jsx("div",{className:"h-px flex-grow border-border/40"})]}),Ja=({userId:e,onImageClick:t,onDownload:r,onDiscard:n,onRemix:s,onViewDetails:i,generatingImages:a=[],nsfwEnabled:l,activeFilters:c={},searchQuery:u="",showPrivate:d,profileUserId:h,className:f,setStyle:m,style:g,showFollowing:y,showTop:b,following:v})=>{const{userLikes:w,toggleLike:x}=du(e),_=window.innerWidth<=768,C=uE(),N=_t().pathname==="/inspiration"?"inspiration":"myImages",{images:S,isLoading:P,fetchNextPage:R,hasNextPage:A,isFetchingNextPage:D}=cE({userId:h||e,activeView:N,nsfwEnabled:l,showPrivate:d,activeFilters:c,searchQuery:u,showFollowing:y,showTop:b,following:v}),O=p.useRef(),M=p.useCallback($=>{P||D||(O.current&&O.current.disconnect(),O.current=new IntersectionObserver(I=>{I[0].isIntersecting&&A&&R()}),$&&O.current.observe($))},[P,D,A,R]),V=$=>{_&&i($)};if(P&&!S.length)return o.jsx("div",{className:k("w-full h-full md:px-0 md:pt-0 pt-12",f),children:o.jsx(Bi,{breakpointCols:C,className:"flex w-auto md:px-2 -mx-1 md:mx-0",columnClassName:"bg-clip-padding px-1 md:px-2",children:Array.from({length:8}).map(($,I)=>o.jsx(xN,{width:512,height:512},`loading-${I}`))})});if(!S||S.length===0)return o.jsx(lE,{});if(N==="myImages"&&!h){const $=dE(S),I=Object.entries($).filter(([W,F])=>F.length>0);return o.jsxs("div",{className:k("w-full h-full md:px-0 pt-12 space-y-8 px-0.5",f),children:[I.map(([W,F],X)=>o.jsxs("div",{children:[o.jsxs(hE,{children:[W==="today"&&"Today",W==="yesterday"&&"Yesterday",W==="thisWeek"&&"This Week",W==="lastWeek"&&"Last Week",W==="thisMonth"&&"This Month",W==="lastMonth"&&"Last Month",W==="earlier"&&"Earlier"]}),o.jsx(Bi,{breakpointCols:C,className:"flex w-auto md:px-2 -mx-0.5 md:-mx-2",columnClassName:"bg-clip-padding px-0.5 md:px-2 space-y-1 md:space-y-4",children:F.map((Z,ee)=>o.jsx("div",{ref:X===I.length-1&&ee===F.length-1?M:null,children:o.jsx(Gh,{image:Z,onImageClick:()=>t(Z),onDownload:r,onDiscard:n,onRemix:s,onViewDetails:i,onMoreClick:V,userId:e,isMobile:_,isLiked:w.includes(Z.id),onToggleLike:x,setStyle:m,style:g})},Z.id))})]},W)),D&&o.jsx("div",{className:"flex justify-center my-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})}return o.jsxs("div",{className:k("w-full h-full md:px-0 md:pt-0 pt-0 px-0.5",f),children:[o.jsx(Bi,{breakpointCols:C,className:"flex w-auto md:px-2 -mx-0.5 md:-mx-2",columnClassName:"bg-clip-padding px-0.5 md:px-2 [&>*]:mb-1 md:[&>*]:mb-4",children:S.map(($,I)=>o.jsx("div",{ref:I===S.length-1?M:null,children:o.jsx(Gh,{image:$,onImageClick:()=>t($),onDownload:r,onDiscard:n,onRemix:s,onViewDetails:i,onMoreClick:V,userId:e,isMobile:_,isLiked:w.includes($.id),onToggleLike:x,setStyle:m,style:g})},$.id))}),D&&o.jsx("div",{className:"flex justify-center my-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})},fE=({open:e,onOpenChange:t,generatingImages:r=[]})=>{const{data:n}=Vt(),[s,i]=p.useState(!1);if(p.useEffect(()=>{r.length>0?i(!0):(i(!1),t(!1))},[r.length,t]),!s)return null;const a=r.filter(d=>d.status==="processing").length,l=r.filter(d=>d.status==="pending").length,c=r.filter(d=>d.status==="completed").length;r.length>0&&r.every(d=>d.status==="completed");const u=[...r].sort((d,h)=>{const f={processing:0,pending:1,completed:2};return f[d.status]-f[h.status]});return o.jsx(qa,{open:e,onOpenChange:t,children:o.jsxs(Ba,{className:"focus:outline-none w-full max-w-[400px] mx-auto",children:[o.jsx(za,{className:"border-b border-border/5 p-4",children:o.jsx(Ha,{className:"flex items-center gap-3 text-base font-medium text-foreground/90",children:a>0?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1 rounded-lg ",children:o.jsx(Ir,{className:"h-4 w-4 animate-spin text-primary/90"})}),o.jsxs("span",{children:["Generating ",a," image",a>1?"s":"","..."]})]}):l>0?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1 rounded-lg ",children:o.jsx(ul,{className:"h-4 w-4 text-muted-foreground/70"})}),o.jsxs("span",{children:["Queued ",l," image",l>1?"s":""]})]}):c>0?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1 rounded-lg ",children:o.jsx(At,{className:"h-4 w-4 text-primary/90"})}),o.jsxs("span",{children:["Generated ",c," image",c>1?"s":""]})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1 rounded-lg ",children:o.jsx(Ir,{className:"h-4 w-4 animate-spin text-primary/90"})}),o.jsx("span",{children:"Processing..."})]})})}),o.jsx(Ut,{className:"flex-1 h-[70vh]",children:o.jsx("div",{className:"px-4 py-4 space-y-3",children:u.map(d=>{var h;return o.jsxs("div",{className:k("flex flex-col items-start gap-2 p-3 rounded-lg","transition-all duration-200","hover:bg-accent/10 focus:bg-accent/10","group relative overflow-hidden",d.status==="processing"&&"min-h-[90px]"),children:[d.status==="processing"&&o.jsx(hs,{className:"opacity-50",intensity:"strong",speed:"fast",size:1e3}),o.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 rounded-lg",children:d.status==="processing"?o.jsx(Ir,{className:"w-3.5 h-3.5 animate-spin text-primary/90"}):d.status==="pending"?o.jsx(ul,{className:"w-3.5 h-3.5 text-muted-foreground/70"}):o.jsx(At,{className:"w-3.5 h-3.5 text-primary/90"})}),o.jsx("span",{className:"text-sm font-medium text-primary/90",children:d.status==="processing"?"Generating...":d.status==="pending"?"Queued":"Complete"})]}),o.jsxs(ut,{variant:"secondary",className:k("ml-auto bg-muted/20 hover:bg-muted/30 text-foreground/70","transition-colors duration-200"),children:[d.width,"x",d.height]})]}),d.prompt&&o.jsx("span",{className:"text-xs text-muted-foreground/60 truncate w-full group-hover:text-muted-foreground/70 transition-colors duration-200",children:d.prompt.length>50?`${d.prompt.substring(0,50)}...`:d.prompt}),o.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground/50 group-hover:text-muted-foreground/60 transition-colors duration-200",children:o.jsx("span",{children:((h=n==null?void 0:n[d.model])==null?void 0:h.name)||d.model})})]},d.id)})})})]})})},mE=({icon:e,isActive:t,onClick:r,children:n,badge:s,onLongPress:i,asChild:a,showCheckmark:l})=>{const[c,u]=p.useState(!1),d=p.useRef(null),h=p.useRef(0),f=p.useRef(!1),m=v=>{f.current=!1,h.current=Date.now(),i&&(d.current=setTimeout(()=>{f.current||(u(!0),i())},500))},g=()=>{f.current=!0,d.current&&(clearTimeout(d.current),u(!1))},y=v=>{const w=Date.now()-h.current;d.current&&clearTimeout(d.current),u(!1),w<500&&!f.current&&(r==null||r(v))};p.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const b=a?"div":"button";return o.jsxs(b,{onTouchStart:m,onTouchMove:g,onTouchEnd:y,onClick:v=>{v.pointerType!=="touch"&&(r==null||r(v))},className:k("flex items-center justify-center w-14 h-12 transition-all duration-200 relative rounded-xl",t?"text-primary":"text-muted-foreground/70","relative group hover:bg-accent/10"),children:[o.jsx("div",{className:k("absolute inset-x-3 h-0.5 -top-1 rounded-full transition-all duration-200",t?"bg-primary/50":"bg-transparent")}),n||o.jsxs(o.Fragment,{children:[o.jsx(e,{size:20,className:k("transition-all duration-200",t?"scale-100":"scale-90 opacity-70 group-hover:scale-100 group-hover:opacity-100")}),(s>0||l)&&o.jsx("span",{className:k("absolute top-1.5 right-2.5 h-4 w-4 rounded-full bg-primary/30 text-[10px] font-medium text-primary-foreground flex items-center justify-center backdrop-blur-[1px]",l&&"animate-in zoom-in duration-300"),children:l?o.jsx(At,{className:"h-3 w-3"}):s>9?"9+":s})]})]})},Ss=p.memo(mE),pE=Ul,gE=wf,yE=ql,i0=p.forwardRef(({className:e,...t},r)=>o.jsx(ti,{className:k("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));i0.displayName=ti.displayName;const vE=oi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),a0=p.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(yE,{children:[o.jsx(i0,{}),o.jsxs(ri,{ref:s,className:k(vE({side:e}),t),...n,children:[r,o.jsxs(Vl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(us,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));a0.displayName=ri.displayName;const o0=({className:e,...t})=>o.jsx("div",{className:k("flex flex-col space-y-2 text-center sm:text-left",e),...t});o0.displayName="SheetHeader";const l0=p.forwardRef(({className:e,...t},r)=>o.jsx(ni,{ref:r,className:k("text-lg font-semibold text-foreground",e),...t}));l0.displayName=ni.displayName;const bE=p.forwardRef(({className:e,...t},r)=>o.jsx(si,{ref:r,className:k("text-sm text-muted-foreground",e),...t}));bE.displayName=si.displayName;var xE="AspectRatio",c0=p.forwardRef((e,t)=>{const{ratio:r=1/1,style:n,...s}=e;return o.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:o.jsx(Ge.div,{...s,ref:t,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});c0.displayName=xE;var wE=c0;const _E=wE,jE=(e=.9)=>{const[t,r]=p.useState(!1),[n,s]=p.useState(!1),i=p.useRef(null);return p.useEffect(()=>{const a=new IntersectionObserver(([c])=>{const u=c.isIntersecting&&c.intersectionRatio>=e;console.log("Intersection Observer:",{isIntersecting:c.isIntersecting,intersectionRatio:c.intersectionRatio,threshold:e,isVisible:u}),r(u),u&&!n&&(console.log("Setting hasBeenViewed to true"),s(!0))},{threshold:[0,.25,.5,.75,e],rootMargin:"0px"}),l=i.current;return l&&(a.observe(l),console.log("Started observing element")),()=>{l&&(a.unobserve(l),console.log("Stopped observing element"))}},[e,n]),{ref:i,isInView:t,hasBeenViewed:n}},kE=({notification:e})=>{const{markAsRead:t,deleteNotification:r,hideGlobalNotification:n}=ui(),{ref:s,isInView:i,hasBeenViewed:a}=jE(.9),l=We();p.useEffect(()=>{console.log("Notification effect:",{id:e.id,isInView:i,hasBeenViewed:a,is_read:e.is_read}),i&&!e.is_read&&(console.log("Marking notification as read:",e.id),t(e.id))},[i,e.is_read,e.id,t]);const c=async m=>{m.preventDefault(),m.stopPropagation(),e.user_id?r(e.id):n(e.id)},u=m=>{e.link&&(m.preventDefault(),l(e.link))},d=e.image_url?e.image_url.split(",").map(m=>m.trim()).filter(m=>m.length>0):[],h=e.link?e.link.split(",").map(m=>m.trim()):[],f=e.link_names?e.link_names.split(",").map(m=>m.trim()):[];return o.jsxs("div",{ref:s,onClick:u,className:k("group relative flex items-start gap-4 p-4 transition-all duration-200 hover:bg-accent/5",!e.is_read&&"bg-muted/10",e.link&&"cursor-pointer"),children:[d.length>0&&o.jsx("div",{className:"flex-shrink-0 block w-24",children:o.jsx(_E,{ratio:1,className:"w-full",children:o.jsx("img",{src:d[0],alt:"",className:"rounded-xl object-cover w-full h-full ring-1 ring-border/5",onError:m=>{console.error("Failed to load notification image:",d[0]),m.target.style.display="none"},loading:"lazy",style:{display:"block"}})})}),o.jsxs("div",{className:k("flex-1 min-w-0",d.length===0&&"w-full"),children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:k("text-sm font-medium leading-none text-foreground/90",!e.is_read&&"text-primary"),children:e.title}),o.jsx("p",{className:"text-sm text-muted-foreground/70 line-clamp-2",children:e.message})]}),o.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-all duration-200 rounded-lg hover:bg-accent/10 -mr-2",onClick:c,children:o.jsx(us,{className:"h-3.5 w-3.5 text-foreground/70"})})]}),h.length>0&&o.jsx("div",{className:"mt-2.5 flex flex-wrap gap-2",children:h.map((m,g)=>o.jsxs("div",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-primary/80 hover:text-primary transition-colors duration-200",children:[f[g]||"View details",o.jsx(y1,{className:"h-3 w-3"})]},g))}),o.jsx("p",{className:"mt-1.5 text-[11px] text-muted-foreground/60",children:yi(new Date(e.created_at),"MMM d, h:mm a")})]}),!e.is_read&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-1/2 bg-primary/50 rounded-r-full"})]})},u0=()=>{const{notifications:e}=ui();return e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center p-6 space-y-3",children:[o.jsx("div",{className:"rounded-full bg-muted/5 p-4 transition-all duration-200 hover:bg-muted/10",children:o.jsx(cl,{className:"h-10 w-10 text-muted-foreground/30"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-foreground/70",children:"No notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground/50",children:"You're all caught up!"})]})]}):o.jsx("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:o.jsx(Ut,{className:"flex-1",children:o.jsx("div",{className:"divide-y divide-border/5",children:e.map((t,r)=>o.jsx("div",{className:k("transition-all duration-200",r===0&&"rounded-t-lg overflow-hidden",r===e.length-1&&"rounded-b-lg overflow-hidden"),children:o.jsx(kE,{notification:t})},t.id))})})})},d0=()=>{const{unreadCount:e}=ui(),[t,r]=E.useState(!1),n=bn("(max-width: 768px)"),s=()=>{r(!0)};return n?o.jsx("div",{className:k("h-9 w-9 p-0 relative md:flex flex items-center justify-center rounded-xl transition-all duration-200 hover:bg-accent/10",e>0&&"after:content-[''] after:absolute after:top-1.5 after:right-1.5 after:w-2 after:h-2 after:bg-destructive after:rounded-full"),onClick:s,children:o.jsx(cl,{className:"h-5 w-5 text-foreground/70"})}):o.jsxs(pE,{open:t,onOpenChange:r,children:[o.jsx(gE,{asChild:!0,children:o.jsx("div",{className:k("h-9 w-9 p-0 relative md:flex flex items-center justify-center rounded-xl transition-all duration-200 hover:bg-accent/10 cursor-pointer",e>0&&"after:content-[''] after:absolute after:top-1.5 after:right-1.5 after:w-2 after:h-2 after:bg-destructive after:rounded-full"),children:o.jsx(cl,{className:"h-5 w-5 text-foreground/70"})})}),o.jsxs(a0,{side:"left",className:"w-full sm:w-[380px] p-0 m-4 rounded-xl border border-border/80 bg-card/95 max-h-[calc(100vh-2rem)] overflow-y-auto shadow-lg",children:[o.jsx(o0,{className:"p-4 border-b border-border/80",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(l0,{className:"text-lg font-medium text-foreground/90",children:["Notifications",e>0&&o.jsxs("span",{className:"ml-2 text-sm text-muted-foreground/70",children:["(",e," new)"]})]})})}),o.jsx(u0,{})]})]})},h0=nv,SE=rv,f0=p.forwardRef(({className:e,...t},r)=>o.jsx(Rf,{className:k("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));f0.displayName=Rf.displayName;const hu=p.forwardRef(({className:e,...t},r)=>o.jsxs(SE,{children:[o.jsx(f0,{}),o.jsx(Df,{ref:r,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hu.displayName=Df.displayName;const fu=({className:e,...t})=>o.jsx("div",{className:k("flex flex-col space-y-2 text-center sm:text-left",e),...t});fu.displayName="AlertDialogHeader";const mu=({className:e,...t})=>o.jsx("div",{className:k("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mu.displayName="AlertDialogFooter";const pu=p.forwardRef(({className:e,...t},r)=>o.jsx(Of,{ref:r,className:k("text-lg font-semibold",e),...t}));pu.displayName=Of.displayName;const gu=p.forwardRef(({className:e,...t},r)=>o.jsx(Mf,{ref:r,className:k("text-sm text-muted-foreground",e),...t}));gu.displayName=Mf.displayName;const yu=p.forwardRef(({className:e,...t},r)=>o.jsx(If,{ref:r,className:k(tc(),e),...t}));yu.displayName=If.displayName;const vu=p.forwardRef(({className:e,...t},r)=>o.jsx(Lf,{ref:r,className:k(tc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vu.displayName=Lf.displayName;const m0=e=>{const t=dt();p.useEffect(()=>{if(!e)return;const r=L.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${e}`},n=>{t.invalidateQueries(["user",e]),t.invalidateQueries(["proUser",e]),t.invalidateQueries(["proRequest",e])}).subscribe();return()=>{L.removeChannel(r)}},[e,t])},bu=async(e,t)=>{try{if(!e)return null;if(!e.type.startsWith("image/"))return Y.error("Please upload an image file"),null;if(e.size>5*1024*1024)return Y.error("File size must be less than 5MB"),null;const{data:r}=await L.storage.from("profile-pictures").list(t);if(r&&r.length>0){const u=r.map(d=>`${t}/${d.name}`);await L.storage.from("profile-pictures").remove(u)}const n=e.name.split(".").pop(),s=`${t}-${Math.random()}.${n}`,i=`${t}/${s}`,{error:a}=await L.storage.from("profile-pictures").upload(i,e);if(a)throw a;const{data:{publicUrl:l}}=L.storage.from("profile-pictures").getPublicUrl(i),{error:c}=await L.auth.updateUser({data:{avatar_url:l}});if(c)throw c;return await L.from("profiles").update({avatar_url:l}).eq("id",t),Y.success("Profile picture updated successfully"),l}catch(r){return Y.error("Failed to update profile picture"),console.error("Error updating profile picture:",r),null}},xu=p.forwardRef(({className:e,...t},r)=>o.jsx(Ff,{ref:r,className:k("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border border-border/80 bg-background/80 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xu.displayName=Ff.displayName;const wu=p.forwardRef(({className:e,...t},r)=>o.jsx($f,{ref:r,className:k("aspect-square h-full w-full transition-opacity duration-200",e),...t}));wu.displayName=$f.displayName;const _u=p.forwardRef(({className:e,...t},r)=>o.jsx(Vf,{ref:r,className:k("flex h-full w-full items-center justify-center rounded-full bg-muted/30 text-muted-foreground/70 transition-colors",e),...t}));_u.displayName=Vf.displayName;const rs=({user:e,avatarUrl:t,isPro:r,size:n="md",onEditClick:s,showEditOnHover:i=!0})=>{var u,d;const a={xs:"h-5 w-5",sm:"h-7 w-7",md:"h-12 w-12",lg:"h-24 w-24"},l={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},c=t||((u=e==null?void 0:e.user_metadata)==null?void 0:u.avatar_url);return o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:`rounded-full ${r?"p-[2px] bg-gradient-to-tr from-yellow-300/80 via-amber-400/80 to-yellow-500/80":""}`,children:o.jsxs(xu,{className:`${a[n]} ${r?"border border-background rounded-full":""}`,children:[o.jsx(wu,{src:c,alt:e==null?void 0:e.email}),o.jsx(_u,{children:(d=e==null?void 0:e.email)==null?void 0:d.charAt(0).toUpperCase()})]})}),i&&s&&o.jsx("button",{onClick:s,className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(np,{className:`${l[n]} text-white`})})]})},p0=({user:e,credits:t,bonusCredits:r,isMobile:n,nsfwEnabled:s,setNsfwEnabled:i})=>{var b,v;const{logout:a}=it(),[l,c]=p.useState(!1),{data:u}=Ur(e==null?void 0:e.id),d=dt();m0(e==null?void 0:e.id);const{data:h}=Ee({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return null;const{data:w,error:x}=await L.from("profiles").select("*").eq("id",e.id).single();return x?null:w},enabled:!!(e!=null&&e.id)}),{data:f={followers:0,following:0}}=Ee({queryKey:["followCounts",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return{followers:0,following:0};const[w,x,_]=await Promise.all([L.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id),L.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.id),L.from("user_images").select("*",{count:"exact"}).eq("user_id",e.id)]);return{followers:w.count||0,following:x.count||0,totalImages:_.count||0}},enabled:!!(e!=null&&e.id)}),{data:m=0}=Ee({queryKey:["totalLikes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:w,error:x}=await L.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id);if(x)throw x;return w||0},enabled:!!(e!=null&&e.id)}),g=async w=>{var _;const x=(_=w.target.files)==null?void 0:_[0];x&&await bu(x,e==null?void 0:e.id)&&(d.invalidateQueries(["user"]),c(!1))};if(!e)return null;const y=((b=e==null?void 0:e.user_metadata)==null?void 0:b.display_name)||((v=e==null?void 0:e.email)==null?void 0:v.split("@")[0])||"";return o.jsxs(o.Fragment,{children:[o.jsxs(nu,{children:[o.jsx(su,{asChild:!0,children:o.jsx(Q,{variant:"ghost",size:"icon",className:k("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200",n&&"h-10 w-10 p-2.5"),children:o.jsx(rs,{user:e,avatarUrl:h==null?void 0:h.avatar_url,isPro:u,size:"sm",showEditOnHover:!1,className:k("w-full h-full rounded-lg","transition-all duration-200",n&&"opacity-100")})})}),o.jsx(Ga,{className:k("w-80 p-4 m-4","border-border bg-card","animate-in fade-in-0 zoom-in-95 duration-200"),align:n?"center":"end",side:n?"top":"bottom",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Bl,{to:"/userprofile",className:k("flex items-center gap-3 group","p-2 -m-2 rounded-xl","bg-muted/20 hover:bg-muted/90","transition-all duration-200"),children:[o.jsx(rs,{user:e,avatarUrl:h==null?void 0:h.avatar_url,isPro:u,size:"sm",showEditOnHover:!0,onClick:()=>c(!0),className:"w-8 h-8 rounded-lg"}),o.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0",children:[o.jsx("h4",{className:"text-sm font-medium text-foreground leading-tight truncate",children:y}),o.jsx("p",{className:"text-xs text-muted-foreground/80 leading-tight truncate",children:e.email})]}),o.jsx(ci,{className:"w-4 h-4 text-muted-foreground/80 group-hover:text-foreground transition-colors duration-200"})]}),o.jsx(Wa,{credits:t,bonusCredits:r}),o.jsxs("div",{className:k("grid grid-cols-4 gap-2 p-3 rounded-xl","transition-colors duration-200"),children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.followers}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.following}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:m}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.totalImages||0}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[o.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:k("h-8 rounded-lg text-xs","transition-all duration-200",s?"bg-destructive/5 hover:bg-destructive/10 text-destructive/90 hover:text-destructive":"bg-card hover:bg-background/50 text-primary/90 hover:text-primary"),children:s?"Unsafe":"Safe"}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>a(),className:k("h-8 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[o.jsx(sc,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign out"]})]})]})})]}),o.jsx(h0,{open:l,onOpenChange:c,children:o.jsxs(hu,{className:k("sm:max-w-[400px]","border-border/80 bg-card/95","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]"),children:[o.jsxs(fu,{children:[o.jsx(pu,{className:"text-sm font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Change Profile Picture"}),o.jsx(gu,{className:"text-sm text-foreground/90",children:"Would you like to upload a new profile picture?"})]}),o.jsxs(mu,{children:[o.jsx(vu,{className:k("h-8 rounded-lg text-sm","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Cancel"}),o.jsx(yu,{onClick:()=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=g,w.click()},className:k("h-8 rounded-lg text-sm","bg-primary/90 hover:bg-primary/80","transition-all duration-200"),children:"Upload"})]})]})})]})},CE=({activeTab:e,setActiveTab:t,session:r,credits:n,bonusCredits:s,generatingImages:i=[],nsfwEnabled:a,setNsfwEnabled:l})=>{var _,C,T;ui(),Ur((_=r==null?void 0:r.user)==null?void 0:_.id);const[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[g,y]=p.useState(i.length),b=We(),v=_t(),{data:w}=Ee({queryKey:["profile",(C=r==null?void 0:r.user)==null?void 0:C.id],queryFn:async()=>{var P;if(!((P=r==null?void 0:r.user)!=null&&P.id))return null;const{data:N,error:S}=await L.from("profiles").select("*").eq("id",r.user.id).single();return S?null:N},enabled:!!((T=r==null?void 0:r.user)!=null&&T.id)});p.useEffect(()=>{const N=i.length>0&&i.every(S=>S.status==="completed");if(m(N),i.length<g&&g>0){h(!0);const S=setTimeout(()=>{h(!1)},1500);return()=>clearTimeout(S)}y(i.length)},[i,g]);const x=(N,S)=>{t(S),N==="/inspiration"&&!v.hash?b("/inspiration#top"):b(N)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/80 md:hidden z-50 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-around px-2 max-w-md mx-auto h-12",children:[o.jsx(Ss,{icon:b1,isActive:v.pathname==="/"&&(!v.hash||v.hash==="#myimages"),onClick:()=>x("/#myimages","images")}),o.jsx(Ss,{icon:ic,isActive:v.pathname==="/inspiration",onClick:()=>x("/inspiration#top","images")}),o.jsx("div",{className:k("relative flex items-center justify-center"),children:o.jsx(Ss,{icon:S1,isActive:v.hash==="#imagegenerate",onClick:()=>x("/#imagegenerate","input"),onLongPress:()=>u(!0),badge:f?void 0:i.length,showCheckmark:f})}),o.jsx(Ss,{icon:d0,isActive:v.hash==="#notifications",onClick:()=>x("/#notifications","notifications")}),o.jsx("div",{className:"flex items-center justify-center",children:r?o.jsx("div",{className:"group",children:o.jsx(p0,{user:r.user,credits:n,bonusCredits:s,isMobile:!0,nsfwEnabled:a,setNsfwEnabled:l,profile:w})}):o.jsx(Ss,{icon:R1,isActive:e==="profile",onClick:()=>t("profile")})})]}),o.jsx("div",{className:"h-safe-area-bottom"})]}),o.jsx(fE,{open:c,onOpenChange:u,generatingImages:i})]})},g0=p.memo(CE),y0=({activeTab:e})=>{const{unreadCount:t}=ui();return e!=="notifications"?null:o.jsx("div",{className:"fixed inset-0 z-50 bg-background md:hidden",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b px-4 py-3",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground/90",children:"Notifications"}),t>0&&o.jsxs("span",{className:"ml-2 text-sm text-muted-foreground/70",children:["(",t," new)"]})]})}),o.jsx(Ut,{className:"flex-1 px-2",children:o.jsx("div",{className:"py-2 pb-[calc(4rem+env(safe-area-inset-bottom))]",children:o.jsx(u0,{})})})]})})},v0=e=>Ee({queryKey:["proRequest",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await L.from("profiles").select("is_pro_request").eq("id",e).single();if(r)throw r;return(t==null?void 0:t.is_pro_request)||!1},enabled:!!e}),PE=({isEditing:e,displayName:t,setDisplayName:r,onEdit:n,onUpdate:s,size:i="md"})=>{const a={sm:"text-lg",md:"text-lg",lg:"text-xl"};return o.jsx("div",{className:"flex items-center justify-center gap-2",children:e?o.jsxs(o.Fragment,{children:[o.jsx(li,{value:t,onChange:l=>r(l.target.value),className:`h-8 ${a[i]} font-semibold text-center`}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8",children:o.jsx(At,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:`${a[i]} font-semibold`,children:t}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:o.jsx(N1,{className:"h-4 w-4"})})]})})},NE=({user:e,isPro:t,displayName:r,isEditing:n,setIsEditing:s,setDisplayName:i,onUpdate:a,onAvatarEdit:l,onAvatarUpload:c,profile:u})=>o.jsxs("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3",children:[o.jsxs("div",{className:"relative cursor-pointer",onClick:l,children:[o.jsx(rs,{user:e,avatarUrl:u==null?void 0:u.avatar_url,isPro:t,size:"lg",onEditClick:null,showEditOnHover:!1}),o.jsxs("label",{className:"absolute -bottom-2 -right-2 cursor-pointer z-10 group",onClick:d=>d.stopPropagation(),children:[o.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-all transform hover:scale-105 border border-white/10",children:o.jsx(E1,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform"})})]})]}),o.jsxs("div",{className:"text-center space-y-1 w-full px-2 sm:px-4",children:[o.jsx(PE,{isEditing:n,displayName:r,setDisplayName:i,onEdit:()=>s(!0),onUpdate:a,size:"lg"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.email}),t&&o.jsx("p",{className:"text-sm text-primary",children:"Pro User"})]})]}),Oo=({icon:e,label:t,value:r})=>o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(e,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:r}),o.jsx("span",{className:"text-sm text-muted-foreground",children:t})]}),TE=({followersCount:e,followingCount:t,totalLikes:r})=>o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx(Oo,{icon:D1,label:"followers",value:e}),o.jsx(Oo,{icon:A1,label:"following",value:t}),o.jsx(Oo,{icon:Zm,label:"likes",value:r})]}),b0=({user:e,credits:t,bonusCredits:r,activeTab:n})=>{const{logout:s}=it(),{data:i}=Ur(e==null?void 0:e.id),{data:a}=v0(e==null?void 0:e.id),[l,c]=E.useState(!1),[u,d]=E.useState(""),[h,f]=E.useState(!1),m=dt(),g=We();m0(e==null?void 0:e.id);const{data:y={followers:0,following:0}}=Ee({queryKey:["followCounts",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return{followers:0,following:0};const[x,_]=await Promise.all([L.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id),L.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.id)]);return{followers:x.count||0,following:_.count||0}},enabled:!!(e!=null&&e.id)}),{data:b=0}=Ee({queryKey:["totalLikes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:x,error:_}=await L.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id);if(_)throw _;return x||0},enabled:!!(e!=null&&e.id)});E.useEffect(()=>{var x;e&&d(((x=e.user_metadata)==null?void 0:x.display_name)||(e.email?e.email.split("@")[0]:"")||"")},[e]);const v=async()=>{try{const{error:x}=await L.auth.updateUser({data:{display_name:u}});if(x)throw x;await L.from("profiles").update({display_name:u}).eq("id",e.id),Y.success("Display name updated successfully"),c(!1)}catch(x){Y.error("Failed to update display name"),console.error("Error updating display name:",x)}},w=async x=>{var T;const _=(T=x.target.files)==null?void 0:T[0];await bu(_,e==null?void 0:e.id)&&(m.invalidateQueries(["user"]),f(!1))};return n!=="profile"?null:o.jsxs("div",{className:"fixed inset-0 z-50 bg-background md:hidden",children:[o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b px-4 py-3",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Profile"})}),o.jsx(Ut,{className:"flex-1",children:e?o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx(NE,{user:e,isPro:i,displayName:u,isEditing:l,setIsEditing:c,setDisplayName:d,onUpdate:v,onAvatarEdit:()=>f(!0)}),o.jsx(TE,{followersCount:y.followers,followingCount:y.following,totalLikes:b}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Credits"}),o.jsxs("span",{className:"text-sm",children:[t,"+ B",r]})]})}),!i&&!a&&o.jsxs(Q,{variant:"default",className:"w-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-amber-500 hover:from-yellow-400 hover:via-yellow-600 hover:to-amber-600",onClick:()=>Y.error("Pro request feature not implemented"),children:[o.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Request Pro Access"]}),!i&&a&&o.jsx("div",{className:"text-sm text-center text-muted-foreground p-3 bg-muted rounded-lg",children:"Pro request under review"}),o.jsxs(Q,{variant:"outline",className:"w-full",onClick:()=>s(),children:[o.jsx(sc,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]}):o.jsx("div",{className:"flex flex-col items-center p-8 space-y-4",children:o.jsx(Q,{className:"w-full",onClick:()=>g("/login"),children:"Sign In"})})})]}),o.jsx(h0,{open:h,onOpenChange:f,children:o.jsxs(hu,{children:[o.jsxs(fu,{children:[o.jsx(pu,{children:"Change Profile Picture"}),o.jsx(gu,{children:"Would you like to upload a new profile picture?"})]}),o.jsxs(mu,{children:[o.jsx(vu,{children:"Cancel"}),o.jsx(yu,{onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=w,x.click()},children:"Upload"})]})]})})]})},x0=(e,t,r)=>{const n=We(),s=bn("(max-width: 768px)");return{handleRemix:a=>{if(!e){Y.error("Please sign in to remix images");return}t&&typeof t=="function"&&t(a),r&&typeof r=="function"&&r();const l=s?"#imagegenerate":"#myimages";n(`/?remix=${a.id}${l}`,{replace:!0})}}},ju=e=>{var a;const{session:t}=it(),r=(a=t==null?void 0:t.user)==null?void 0:a.id,n=dt(),{data:s}=Ee({queryKey:["follows",r],queryFn:async()=>{if(!r)return{isFollowing:!1,following:[]};const{data:l}=await L.from("user_follows").select("following_id").eq("follower_id",r),c=(l==null?void 0:l.map(d=>d.following_id))||[];return{isFollowing:e?c.includes(e):!1,following:c}},enabled:!!r}),{mutate:i}=Gn({mutationFn:async()=>{if(!r||!e)throw new Error("User must be logged in to follow others");if(r===e)throw new Error("Users cannot follow themselves");const l=s==null?void 0:s.isFollowing,{data:c}=await L.from("profiles").select("display_name, avatar_url").eq("id",r).single();if(l){const{error:d}=await L.from("user_follows").delete().eq("follower_id",r).eq("following_id",e);if(d)throw d}else{const{error:d}=await L.from("user_follows").insert({follower_id:r,following_id:e});if(d)throw d;const{error:h}=await L.from("notifications").insert([{user_id:e,title:"New Follower",message:`${(c==null?void 0:c.display_name)||"Someone"} started following you`,image_url:(c==null?void 0:c.avatar_url)||"",link:`/profile/${r}`,link_names:"View Profile"}]);if(h)throw h}const{data:u}=await L.from("profiles").select("followers_count, following_count").eq("id",r).single();u&&await L.auth.updateUser({data:{followers_count:u.followers_count,following_count:u.following_count}})},onSuccess:()=>{n.invalidateQueries(["follows",r]),n.invalidateQueries(["user",e]),n.invalidateQueries(["user",r]),n.invalidateQueries(["profile",e]),n.invalidateQueries(["profile",r]),Y.success(s!=null&&s.isFollowing?"Unfollowed successfully":"Followed successfully")},onError:l=>{Y.error("Failed to update follow status"),console.error("Follow error:",l)}});return{isFollowing:(s==null?void 0:s.isFollowing)||!1,following:(s==null?void 0:s.following)||[],toggleFollow:i}},w0=({userId:e,className:t})=>{const{isFollowing:r,toggleFollow:n}=ju(e),[s,i]=p.useState(null),a=()=>{n(),i(!r),setTimeout(()=>{i(null)},5e3)},l=s??r;return o.jsx(ut,{variant:l?"outline":"default",className:k("cursor-pointer transition-all duration-200",l&&"bg-destructive/10 hover:bg-destructive/20 text-destructive",t),onClick:a,children:l?"Unfollow":"Follow"})},EE=e=>{const t=dt();p.useEffect(()=>{if(!e)return;const s=L.channel("image_privacy_channel").on("postgres_changes",{event:"*",schema:"public",table:"user_images",filter:`id=eq.${e}`},()=>{t.invalidateQueries(["imagePrivacy",e])}).subscribe();return()=>{s.unsubscribe()}},[e,t]);const{data:r}=Ee({queryKey:["imagePrivacy",e],queryFn:async()=>{if(!e)return!1;const{data:s,error:i}=await L.from("user_images").select("is_private").eq("id",e).single();if(i)throw i;return(s==null?void 0:s.is_private)||!1},enabled:!!e}),n=Gn({mutationFn:async()=>{const{error:s}=await L.from("user_images").update({is_private:!r}).eq("id",e);if(s)throw s},onSuccess:()=>{t.invalidateQueries(["imagePrivacy",e])}});return{isPrivate:r||!1,togglePrivacy:n.mutate}},AE=({image:e,isOwner:t})=>{const{isPrivate:r,togglePrivacy:n}=EE(e==null?void 0:e.id),[s,i]=p.useState(null),[a,l]=p.useState(!1);if(!t)return null;const c=()=>{n(),i(!r),l(!0),setTimeout(()=>{i(null)},5e3)},u=s??r;return o.jsxs("div",{className:"relative h-7 w-7",children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:c,className:k("h-7 w-7 p-0 rounded-lg",u?"bg-primary/10 hover:bg-primary/20 text-primary":"bg-muted/5 hover:bg-muted/10 text-muted-foreground/70","transition-all duration-200"),title:u?"Make public":"Make private",children:u?o.jsx(cs,{className:"h-4 w-4"}):o.jsx(ep,{className:"h-4 w-4"})}),a&&o.jsx("div",{className:"absolute -top-1.5 -left-1.5 flex items-center justify-center bg-card rounded-lg",children:o.jsx("video",{src:u?"https://res.cloudinary.com/drhx7imeb/video/upload/v1735205358/Animation_-_1735139717633_rxfctn.webm":"https://res.cloudinary.com/drhx7imeb/video/upload/v1735206538/Animation_-_1735206487478_il1vfw.webm",autoPlay:!0,muted:!0,className:"h-10 w-10",onEnded:d=>{d.target.currentTime=0,d.target.pause(),l(!1)}})})]})},_0=({owner:e,image:t,isOwner:r,userLikes:n,toggleLike:s,likeCount:i,onLike:a})=>{const l=We(),{data:c}=Ur(t.user_id),u=()=>{l(`/profile/${t.user_id}`)};return o.jsxs("div",{className:"flex items-center justify-between p-1",children:[o.jsxs("div",{className:"flex items-center gap-2.5 cursor-pointer rounded-xl px-2 py-1.5 transition-colors hover:bg-accent/10",onClick:u,children:[o.jsx(rs,{user:{email:e==null?void 0:e.email},avatarUrl:e==null?void 0:e.avatar_url,size:"sm",isPro:c}),o.jsx("span",{className:"text-xs font-medium text-foreground/90",children:e==null?void 0:e.display_name})]}),o.jsxs("div",{className:"flex items-center gap-2.5",children:[!r&&o.jsx(w0,{userId:t.user_id}),o.jsx(AE,{image:t,isOwner:r}),o.jsxs("div",{className:"flex items-center gap-1.5 rounded-xl bg-muted/5 px-3 py-1.5",children:[o.jsx(Ky,{isLiked:n==null?void 0:n.includes(t.id),onToggle:()=>s(t.id),onLike:a}),o.jsx("span",{className:"text-xs text-muted-foreground/70",children:i})]})]})]})},vi=({image:e,isOpen:t,onClose:r,onDownload:n,onDiscard:s,onRemix:i,isOwner:a,setStyle:l,setActiveTab:c})=>{var M,V;const{session:u}=it(),{data:d}=Vt(),[h,f]=p.useState("copy"),[m,g]=p.useState("share"),[y,b]=p.useState(!1),{userLikes:v,toggleLike:w}=du((M=u==null?void 0:u.user)==null?void 0:M.id),x=dt(),_=We();bn("(max-width: 768px)"),x0(u,i,r);const{data:C}=Ee({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id))return null;const{data:$}=await L.from("profiles").select("*").eq("id",e.user_id).single();return $},enabled:!!(e!=null&&e.user_id)}),{data:T=0}=Ee({queryKey:["likes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:$}=await L.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);return $||0},enabled:!!(e!=null&&e.id)}),N=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),f("check"),setTimeout(()=>f("copy"),1500)},S=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),g("check"),setTimeout(()=>g("share"),1500)},P=async()=>{try{await Pa(e,x),r()}catch($){console.error("Error in handleDiscard:",$)}},R=()=>{if(!u){Y.error("Please sign in to remix images");return}_(`/?remix=${e.id}#myimages`,{replace:!0})},A=e?[{label:"Model",value:((V=d==null?void 0:d[e.model])==null?void 0:V.name)||e.model},{label:"Seed",value:e.seed},{label:"Size",value:`${e.width}x${e.height}`},{label:"Aspect Ratio",value:e.aspect_ratio||"1:1"},{label:"Quality",value:e.quality},{label:"Created",value:yi(new Date(e.created_at),"MMM d, yyyy h:mm a")}]:[],D=()=>{b(!0),setTimeout(()=>{b(!1)},800)},O=$=>{$.preventDefault(),$.stopPropagation(),v!=null&&v.includes(e==null?void 0:e.id)||(D(),w(e==null?void 0:e.id))};return e?o.jsx(ou,{open:t,onOpenChange:r,children:o.jsxs(Qa,{className:k("max-w-[100vw] max-h-[100vh] w-[100vw] h-[100vh] p-0","bg-background backdrop-blur-[2px]","data-[state=open]:duration-0 [&>button]:hidden","rounded-none border-none"),children:[o.jsx("div",{className:"absolute left-4 top-4 z-50",children:o.jsx(Q,{variant:"ghost",size:"icon",onClick:r,className:k("h-8 w-8 p-0 rounded-xl","bg-card/80 backdrop-blur-[2px]","hover:bg-card/90","transition-all duration-200"),children:o.jsx(ls,{className:"h-5 w-5 text-foreground/70"})})}),o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"flex-1 relative flex items-center justify-center bg-background backdrop-blur-[2px]",children:[o.jsx("img",{src:L.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl,alt:e.prompt,className:k("max-w-full max-h-[calc(100vh-2rem)]","object-contain","transition-all duration-300"),onDoubleClick:O}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx(Xa,{isAnimating:y})})]}),o.jsx("div",{className:"w-[380px] p-3",children:o.jsx("div",{className:k("h-[calc(100vh-24px)] rounded-lg","border border-border bg-card","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]"),children:o.jsx(Ut,{className:"h-full",children:o.jsxs("div",{className:"p-3 space-y-4",children:[u&&o.jsxs(o.Fragment,{children:[o.jsx(_0,{owner:C,image:e,isOwner:a,userLikes:v,toggleLike:w,likeCount:T,onLike:D}),o.jsxs("div",{className:"flex gap-1.5",children:[a&&o.jsxs(Q,{onClick:P,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-md text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[o.jsx(Qi,{className:"mr-1.5 h-3.5 w-3.5"}),o.jsx("span",{children:"Discard"})]}),o.jsxs(Q,{onClick:n,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(Yi,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Download"})]}),o.jsxs(Q,{onClick:R,variant:"ghost",size:"sm",className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(rp,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Remix"})]})]})]}),o.jsx(iu,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:h,shareIcon:m,onCopyPrompt:N,onShare:S}),o.jsx(au,{detailItems:A})]})})})})]})]})}):null},RE=({generatingImages:e=[]})=>{const{data:t}=Vt(),[r,n]=p.useState(!1);if(p.useEffect(()=>{e.length>0?n(!0):n(!1)},[e.length]),!r)return null;const s=e.filter(u=>u.status==="processing").length,i=e.filter(u=>u.status==="pending").length,a=e.filter(u=>u.status==="completed").length,l=e.length>0&&e.every(u=>u.status==="completed"),c=[...e].sort((u,d)=>{const h={processing:0,pending:1,completed:2};return h[u.status]-h[d.status]});return o.jsxs(nu,{children:[o.jsx(su,{asChild:!0,children:o.jsxs(Q,{variant:"ghost",size:"sm",className:k("h-8 rounded-xl bg-background/50 hover:bg-accent","transition-all duration-200",l&&"text-primary"),children:[l?o.jsx("div",{className:k("p-1 rounded-lg mr-2","animate-in zoom-in duration-300"),children:o.jsx(At,{className:"w-4 h-4 text-primary/90"})}):o.jsx("div",{className:"p-1 rounded-lg mr-2",children:o.jsx(Ir,{className:"w-4 h-4 animate-spin text-primary/90"})}),o.jsx("span",{className:"text-sm",children:s>0?"Generating":i>0?`Queued-${i}`:a>0?`Generated-${a}`:"Complete"})]})}),o.jsx(Ga,{align:"end",className:"p-2 border-border/80 bg-card m-4",children:o.jsx(Ut,{className:"max-h-[600px] scrollbar-none",children:c.map(u=>{var d;return o.jsxs(En,{className:k("flex flex-col items-start gap-2 p-3 rounded-lg","transition-all duration-200","hover:bg-accent/10 focus:bg-accent/10","group relative overflow-hidden",u.status==="processing"&&"min-h-[90px]"),children:[u.status==="processing"&&o.jsx(hs,{className:"opacity-50",intensity:"strong",speed:"fast",size:1e3}),o.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 rounded-lg ",children:u.status==="processing"?o.jsx(Ir,{className:"w-3.5 h-3.5 animate-spin text-primary/90"}):u.status==="pending"?o.jsx(ul,{className:"w-3.5 h-3.5 text-muted-foreground/70"}):o.jsx(At,{className:"w-3.5 h-3.5 text-primary/90"})}),o.jsx("span",{className:"text-sm font-medium text-primary/90",children:u.status==="processing"?"Generating...":u.status==="pending"?"Queued":"Complete"})]}),o.jsxs(ut,{variant:"secondary",className:k("ml-auto bg-muted/20 hover:bg-muted/30 text-foreground/70","transition-colors duration-200"),children:[u.width,"x",u.height]})]}),u.prompt&&o.jsx("span",{className:"text-xs text-muted-foreground/60 truncate w-full group-hover:text-muted-foreground/70 transition-colors duration-200",children:u.prompt.length>50?`${u.prompt.substring(0,50)}...`:u.prompt}),o.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground/50 group-hover:text-muted-foreground/60 transition-colors duration-200",children:o.jsx("span",{children:((d=t==null?void 0:t[u.model])==null?void 0:d.name)||u.model})})]},u.id)})})})]})},DE=({generatingImages:e})=>{const t=We(),r=_t(),n=r.pathname==="/inspiration",s=r.pathname==="/"&&(!r.hash||r.hash==="#myimages");return o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsx(Q,{variant:s?"default":"ghost",onClick:()=>t("/#myimages"),className:k("h-8 text-xs px-4 rounded-xl bg-background/50 hover:bg-background/70",s&&"bg-primary hover:bg-primary/80 text-primary-foreground","transition-all duration-200"),"aria-pressed":s,children:"My Images"}),o.jsx(Q,{variant:n?"default":"ghost",onClick:()=>t("/inspiration"),className:k("h-8 text-xs px-4 rounded-xl bg-background/50 hover:bg-background/70",n&&"bg-primary hover:bg-primary/80 text-primary-foreground","transition-all duration-200"),"aria-pressed":n,children:"Inspiration"}),o.jsx(RE,{generatingImages:e})]})},j0=({onSearch:e,initialQuery:t="",className:r,onSearchOpenChange:n})=>{const[s,i]=p.useState(!!t),[a,l]=p.useState(t);p.useEffect(()=>{t!==a&&(l(t),i(!!t))},[t]),p.useEffect(()=>{n==null||n(s)},[s,n]);const c=h=>{l(h),e(h)},u=()=>{s&&c(""),i(!s)},d=h=>{h.key==="Escape"&&(c(""),i(!1))};return o.jsx("div",{className:k("flex items-center gap-1.5 transition-all duration-200",s?"w-full":"w-8",r),children:s?o.jsxs("div",{className:"flex items-center gap-1.5 w-full animate-in fade-in-0 zoom-in-95 duration-200",children:[o.jsx("div",{className:"relative flex-1",children:o.jsx(li,{placeholder:"Search...",value:a,onChange:h=>c(h.target.value),onKeyDown:d,className:k("h-8 w-full text-sm","bg-muted/5 hover:bg-muted/10 focus:bg-muted/10","border-border/5 focus-visible:border-border/80","rounded-xl transition-all duration-200","placeholder:text-muted-foreground/40"),autoFocus:!0})}),o.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10 flex-shrink-0",onClick:u,children:o.jsx(us,{className:"h-4 w-4 text-foreground/70"})})]}):o.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10",onClick:u,children:o.jsx(C1,{className:"h-4 w-4 text-foreground/70"})})})},k0=({showPrivate:e,onToggle:t})=>o.jsxs(Q,{variant:e?"default":"ghost",size:"sm",onClick:()=>{t(!e)},className:k("h-7 px-3 flex items-center gap-1.5 rounded-lg",e?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),title:e?"Show public images":"Show private images",children:[e?o.jsx(cs,{className:"h-3.5 w-3.5"}):o.jsx(ep,{className:"h-3.5 w-3.5 text-foreground/80"}),o.jsx("span",{className:"hidden md:inline text-xs",children:"Private"})]}),S0=({className:e})=>{const t=We(),n=_t().hash.replace("#",""),s=()=>{t("/inspiration#following")},i=()=>{t("/inspiration#top")},a=()=>{t("/inspiration#latest")};return o.jsxs("div",{className:k("flex gap-1.5",e),children:[o.jsx(Q,{variant:n==="following"?"default":"ghost",size:"sm",onClick:s,className:k("h-7 text-xs px-3 rounded-lg",n==="following"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Following"}),o.jsx(Q,{variant:n==="top"?"default":"ghost",size:"sm",onClick:i,className:k("h-7 text-xs px-3 rounded-lg",n==="top"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Top"}),o.jsx(Q,{variant:n==="latest"?"default":"ghost",size:"sm",onClick:a,className:k("h-7 text-xs px-3 rounded-lg",n==="latest"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Latest"})]})},C0=({user:e,credits:t,bonusCredits:r,generatingImages:n,onSearch:s,showPrivate:i,onTogglePrivate:a,nsfwEnabled:l,setNsfwEnabled:c,showFollowing:u,showTop:d,onFollowingChange:h,onTopChange:f})=>{const m=_t(),g=m.pathname==="/inspiration",y=m.pathname==="/"&&(!m.hash||m.hash==="#myimages");return o.jsx(o.Fragment,{children:o.jsx("div",{className:k("hidden md:block fixed top-0 left-0 right-0 z-10 h-12","bg-background/95 backdrop-blur-[2px]","border-b border-border/50"),children:o.jsx("div",{className:"flex justify-between items-center h-full px-10 max-w-full",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8",children:o.jsx(p0,{user:e,credits:t,bonusCredits:r,nsfwEnabled:l,setNsfwEnabled:c})}),o.jsx("div",{className:"h-8",children:o.jsx(d0,{})}),o.jsx(DE,{generatingImages:n,className:"gap-3",buttonClassName:k("h-8 rounded-lg px-3","bg-transparent hover:bg-muted/10","text-foreground/70 hover:text-foreground","transition-colors duration-200")}),y&&o.jsx(k0,{showPrivate:i,onToggle:a}),g&&o.jsx(S0,{className:"flex-1"}),o.jsx(j0,{onSearch:s})]})})})})},P0=({activeFilters:e,onFilterChange:t,onRemoveFilter:r,onSearch:n,isVisible:s,nsfwEnabled:i,showPrivate:a,onTogglePrivate:l,showFollowing:c,showTop:u,onFollowingChange:d,onTopChange:h})=>{const f=_t(),m=f.pathname==="/inspiration",g=f.pathname==="/"&&(!f.hash||f.hash==="#myimages"),[y,b]=p.useState(!1);return o.jsxs("div",{className:k("md:hidden fixed top-0 left-0 right-0 z-10","bg-background/95 backdrop-blur-[2px]","border-b border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300 ease-in-out",s?"translate-y-0":"-translate-y-full"),children:[o.jsxs("div",{className:"flex items-center gap-1.5 px-2 h-10",children:[!y&&o.jsxs(o.Fragment,{children:[g&&o.jsx(k0,{showPrivate:a,onToggle:l}),m&&o.jsx(S0,{className:"flex-1"})]}),o.jsx(j0,{onSearch:n,onSearchOpenChange:b,className:k("transition-all duration-200",y?"px-2":"ml-auto")})]}),o.jsx("div",{className:"h-1.5 bg-gradient-to-b from-background/50 to-transparent pointer-events-none"})]})},Mo=["Tips: Try Remix an Image you like","Tips: Use FLux.1 Dev model for precise results","Tips: Use different models for different results","Tips: Try click the HD badge to improve quality to HD+","Tips: Use the 'Improve' button to enhance your prompt","Tips: Play with the slider to change the aspect ratio","Tips: Explore Inspiration page for more ideas","Tips: Use Stable Diffusion 3.5 large for more vibrant results"],OE=({prompt:e,onChange:t,onKeyDown:r,onSubmit:n,hasEnoughCredits:s,onClear:i,credits:a,bonusCredits:l,className:c,userId:u,onVisibilityChange:d,activeModel:h,modelConfigs:f})=>{const[m,g]=p.useState(!1),[y,b]=p.useState(0),v=p.useRef(null),w=p.useRef(null),_=(a||0)+(l||0)>=1,{isImproving:C,improveCurrentPrompt:T}=Ca(u);p.useEffect(()=>{const R=setInterval(()=>{b(A=>(A+1)%Mo.length)},1e4);return()=>clearInterval(R)},[]),p.useEffect(()=>{if(!v.current)return;const R=new IntersectionObserver(([A])=>{g(!A.isIntersecting),d==null||d(A.isIntersecting)},{threshold:0,rootMargin:"-64px 0px 0px 0px"});return R.observe(v.current),()=>R.disconnect()},[d]);const N=R=>{typeof t=="function"&&t({target:{value:R.target.value}})},S=async()=>{if(!u){Y.error("Please sign in to improve prompts");return}if(!_){Y.error("Not enough credits for prompt improvement");return}try{let R="",A=!0;await T(e,h,f,(D,O)=>{O?(A&&(t({target:{value:""}}),A=!1),R+=D,t({target:{value:R}})):t({target:{value:D}})})}catch(R){console.error("Error improving prompt:",R),Y.error("Failed to improve prompt")}},P=async()=>{if(!(e!=null&&e.trim())){Y.error("Please enter a prompt");return}i(),await n()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:v,className:k("hidden md:block w-full max-w-[850px] mx-auto px-2 mt-20 transition-all duration-300",c),children:o.jsxs("div",{className:"relative bg-card border border-border/80 rounded-2xl transition-all duration-300",children:[C&&o.jsx(hs,{className:"absolute inset-0 rounded-2xl animate-faster",intensity:"strong",speed:"fast",size:1200}),o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"relative",children:o.jsx("textarea",{ref:w,value:e,onChange:N,onKeyDown:r,placeholder:Mo[y],className:k("w-full min-h-[250px] resize-none bg-transparent text-base focus:outline-none","placeholder:text-muted-foreground/40 overflow-y-auto scrollbar-none","border-y border-border/5 py-6 px-3","transition-colors duration-200",C&&"opacity-80"),style:{caretColor:"currentColor"},disabled:C})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"w-[300px]",children:o.jsx(Wa,{credits:a,bonusCredits:l})}),o.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.length)>0&&o.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-xl hover:bg-background/10",onClick:i,disabled:C,children:o.jsx(us,{className:"h-4 w-4 text-foreground/70"})}),o.jsxs(Q,{size:"sm",variant:"outline",className:"h-8 rounded-xl bg-card hover:bg-background/10 transition-all duration-200",onClick:S,disabled:!(e!=null&&e.length)||C||!_,children:[C?o.jsx(Ir,{className:"h-4 w-4 mr-2 animate-spin text-foreground/70"}):o.jsx(ic,{className:"h-4 w-4 mr-2 text-foreground/70"}),o.jsx("span",{className:"text-sm",children:"Improve"})]}),o.jsxs(Q,{size:"sm",className:"h-8 rounded-xl bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:P,disabled:!(e!=null&&e.length)||!s||C,children:[o.jsx("span",{className:"text-sm",children:"Create"}),o.jsx(Ki,{className:"ml-2 h-4 w-4"})]})]})]})]})]})}),o.jsx("div",{className:k("hidden md:block fixed top-14 left-0 right-0 z-50 transition-all duration-300 ease-in-out",m?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"),children:o.jsx("div",{className:"max-w-[850px] mx-auto px-10 py-2",children:o.jsx("div",{className:"relative bg-card backdrop-blur-[2px] border border-border/80 rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.06)] transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-4 p-1.5",children:[o.jsx("div",{className:"flex-1 px-4 text-muted-foreground/90 truncate cursor-pointer transition-colors duration-200 hover:text-muted-foreground/80",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{var A,D,O;(A=w.current)==null||A.focus();const R=((D=w.current)==null?void 0:D.value.length)||0;(O=w.current)==null||O.setSelectionRange(R,R)},500)},children:e||Mo[y]}),o.jsxs(Q,{size:"sm",className:"h-8 rounded-full bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:P,disabled:!(e!=null&&e.length)||!s,children:[o.jsx("span",{className:"text-sm",children:"Create"}),o.jsx(Ki,{className:"ml-2 h-4 w-4"})]})]})})})})]})},ME=({session:e,credits:t,bonusCredits:r,activeTab:n,setActiveTab:s,generatingImages:i,nsfwEnabled:a,setNsfwEnabled:l,showPrivate:c,setShowPrivate:u,activeFilters:d,onFilterChange:h,onRemoveFilter:f,onSearch:m,isHeaderVisible:g,handleImageClick:y,handleDownload:b,handleDiscard:v,handleRemix:w,handleViewDetails:x,selectedImage:_,detailsDialogOpen:C,setDetailsDialogOpen:T,fullScreenViewOpen:N,setFullScreenViewOpen:S,imageGeneratorProps:P,proMode:R})=>{var z,ce,q,ve;const A=_t(),D=window.innerWidth<768,O=A.pathname==="/inspiration",M=A.hash==="#imagegenerate",V=A.hash==="#notifications",$=D?M:!O,[I,W]=p.useState(!0),[F,X]=p.useState(!1),[Z,ee]=p.useState(!1),[G,ne]=p.useState(!1),[pe,we]=p.useState(!1),{following:J}=ju((z=e==null?void 0:e.user)==null?void 0:z.id),[se,Pe]=p.useState("");p.useEffect(()=>{if(D?M:$&&I&&!O&&!se)ee(!0),requestAnimationFrame(()=>{X(!0)});else{X(!1);const ge=setTimeout(()=>{ee(!1)},300);return()=>clearTimeout(ge)}},[$,I,O,M,D,se]),p.useEffect(()=>{const ye=()=>{window.innerWidth<768!==D&&window.location.reload()};return window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[D]),p.useEffect(()=>{s(M?"input":V?"notifications":"images")},[A.hash,s]);const Se=ye=>{Pe(ye),m(ye)},oe=ye=>{u(ye)};return p.useEffect(()=>{!O&&!A.hash.includes("myimages")&&(Pe(""),m(""))},[A.pathname,A.hash]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-background text-foreground image-generator-content",children:[o.jsx("div",{className:k("flex-grow p-2 md:p-6 overflow-y-auto transition-[padding] duration-300 ease-in-out",M?"hidden md:block":"block",F?"md:pr-[350px]":"md:pr-6","pb-20 md:pb-6"),children:e&&o.jsxs(o.Fragment,{children:[o.jsx(C0,{user:e.user,credits:t,bonusCredits:r,generatingImages:i,activeFilters:d,onFilterChange:h,onRemoveFilter:f,onSearch:Se,nsfwEnabled:a,setNsfwEnabled:l,showPrivate:c,onTogglePrivate:oe,showFollowing:G,showTop:pe,onFollowingChange:ne,onTopChange:we,searchQuery:se}),o.jsx(P0,{activeFilters:d,onFilterChange:h,onRemoveFilter:f,onSearch:Se,isVisible:g,nsfwEnabled:a,showPrivate:c,onTogglePrivate:oe,showFollowing:G,showTop:pe,onFollowingChange:ne,onTopChange:we,searchQuery:se}),!O&&!se&&o.jsx(OE,{prompt:P.prompt,onChange:ye=>P.setPrompt(ye.target.value),onKeyDown:P.handlePromptKeyDown,onSubmit:P.generateImage,hasEnoughCredits:!0,onClear:()=>P.setPrompt(""),credits:t,bonusCredits:r,userId:(ce=e==null?void 0:e.user)==null?void 0:ce.id,onVisibilityChange:W,activeModel:P.model,modelConfigs:P.modelConfigs}),o.jsx("div",{className:"md:mt-16 -mx-2 md:mx-0",children:o.jsx(Ja,{userId:(q=e==null?void 0:e.user)==null?void 0:q.id,onImageClick:y,onDownload:b,onDiscard:v,onRemix:w,onViewDetails:x,generatingImages:i,nsfwEnabled:a,modelConfigs:P.modelConfigs,activeFilters:d,searchQuery:se,showPrivate:c,showFollowing:G,showTop:pe,following:J,className:"px-1"})})]})}),Z&&!se&&o.jsx("div",{className:k("w-full md:w-[350px] bg-background text-card-foreground","md:fixed md:right-0 md:top-12 md:bottom-0",M?"block":"hidden md:block","md:h-[calc(100vh-3rem)] relative","transition-transform duration-300 ease-in-out overflow-visible","z-20",F?"translate-x-0":D?"translate-x-full":"md:translate-x-full"),children:o.jsx("div",{className:"min-h-[calc(100vh-56px)] md:h-full overflow-visible md:scrollbar-none px-4 md:px-6 py-4 md:py-4",children:o.jsx(dN,{...P,hidePromptOnDesktop:!D&&!M,credits:t,bonusCredits:r,session:e,updateCredits:P.updateCredits,proMode:R,nsfwEnabled:a,setNsfwEnabled:l,negativePrompt:P.negativePrompt,setNegativePrompt:P.setNegativePrompt})})})]}),o.jsx(y0,{activeTab:n}),o.jsx(b0,{user:e==null?void 0:e.user,credits:t,bonusCredits:r,activeTab:n,nsfwEnabled:a,setNsfwEnabled:l}),o.jsx(g0,{activeTab:n,setActiveTab:s,session:e,credits:t,bonusCredits:r,generatingImages:i,nsfwEnabled:a,setNsfwEnabled:l}),o.jsx(uu,{open:C,onOpenChange:T,image:_}),o.jsx(vi,{image:_,isOpen:N,onClose:()=>S(!1),onDownload:b,onDiscard:v,onRemix:w,isOwner:(_==null?void 0:_.user_id)===((ve=e==null?void 0:e.user)==null?void 0:ve.id)})]})},IE=()=>{var rr,nr,pr;const[e]=J0(),t=e.get("remix"),{session:r}=it(),[n,s]=p.useState(!1),[i,a]=p.useState("images"),{isImproving:l,improveCurrentPrompt:c}=Ca((rr=r==null?void 0:r.user)==null?void 0:rr.id),[u,d]=p.useState({}),[h,f]=p.useState(""),[m,g]=p.useState(!1),y=up(),{credits:b,bonusCredits:v,updateCredits:w}=lp((nr=r==null?void 0:r.user)==null?void 0:nr.id),{data:x}=Ur((pr=r==null?void 0:r.user)==null?void 0:pr.id),{data:_}=Vt(),C=dt(),{prompt:T,setPrompt:N,seed:S,setSeed:P,randomizeSeed:R,setRandomizeSeed:A,width:D,setWidth:O,height:M,setHeight:V,model:$,setModel:I,aspectRatio:W,setAspectRatio:F,useAspectRatio:X,setUseAspectRatio:Z,quality:ee,setQuality:G,selectedImage:ne,setSelectedImage:pe,detailsDialogOpen:we,setDetailsDialogOpen:J,fullScreenViewOpen:se,setFullScreenViewOpen:Pe,fullScreenImageIndex:Se,setFullScreenImageIndex:oe,generatingImages:z,setGeneratingImages:ce,activeView:q,setActiveView:ve,nsfwEnabled:ye,setNsfwEnabled:ge,imageCount:$e,setImageCount:at}=W_(),[Oe,jt]=p.useState(!1),[er,Me]=p.useState(""),{data:Ve,isLoading:tr}=Ee({queryKey:["remixImage",t],queryFn:async()=>{if(!t)return null;const{data:Ae,error:B}=await L.from("user_images").select("*").eq("id",t).single();if(B)throw B;return Ae},enabled:!!t});p.useEffect(()=>{if(Ve){N(Ve.prompt),P(Ve.seed),A(!1),O(Ve.width),V(Ve.height),I(Ve.model),G(Ve.quality),Ve.aspect_ratio&&(F(Ve.aspect_ratio),Z(!0)),a("input");const Ae=new URLSearchParams(e);Ae.delete("remix"),window.history.replaceState({},"",`${window.location.pathname}${Ae.toString()?"?"+Ae.toString():""}`)}},[Ve]);const{generateImage:zr}=t_({session:r,prompt:T,seed:S,randomizeSeed:R,width:D,height:M,model:$,quality:ee,useAspectRatio:X,aspectRatio:W,updateCredits:w,setGeneratingImages:ce,modelConfigs:_,imageCount:$e,negativePrompt:er}),kt=async()=>{if(!T.trim()){Y.error("Please enter a prompt");return}if(!r){Y.error("Please sign in to generate images");return}s(!0);try{let Ae=T;if(l){const B=await c(T,$,_);if(!B){s(!1);return}Ae=B,N(B)}await zr(m,Ae)}catch(Ae){Y.error("Failed to generate image"),console.error(Ae)}finally{s(!1)}},{handleImageClick:qt,handleModelChange:Dt,handlePromptKeyDown:Qe,handleRemix:Bt,handleDownload:Ze,handleDiscard:St,handleViewDetails:Hr}=G_({generateImage:kt,setSelectedImage:pe,setFullScreenViewOpen:Pe,setModel:I,setWidth:O,setHeight:V,setPrompt:N,setSeed:P,setRandomizeSeed:A,setQuality:G,setAspectRatio:F,setUseAspectRatio:Z,aspectRatios:[],session:r,queryClient:C,activeView:q,setDetailsDialogOpen:J,setActiveView:ve});return p.useEffect(()=>{const Ae=window.location.hash;a(Ae==="#imagegenerate"?"input":Ae==="#notifications"?"notifications":"images")},[window.location.hash]),tr?o.jsx("div",{children:"Loading remix..."}):o.jsx(ME,{session:r,credits:b,bonusCredits:v,activeTab:i,setActiveTab:a,generatingImages:z,nsfwEnabled:ye,setNsfwEnabled:ge,showPrivate:Oe,setShowPrivate:jt,activeFilters:u,onFilterChange:(Ae,B)=>d(he=>({...he,[Ae]:B})),onRemoveFilter:Ae=>{const B={...u};delete B[Ae],d(B)},onSearch:f,isHeaderVisible:y,handleImageClick:qt,handleDownload:Ze,handleDiscard:St,handleRemix:Bt,handleViewDetails:Hr,selectedImage:ne,detailsDialogOpen:we,setDetailsDialogOpen:J,fullScreenViewOpen:se,setFullScreenViewOpen:Pe,proMode:x,imageGeneratorProps:{prompt:T,setPrompt:N,handlePromptKeyDown:Qe,generateImage:kt,model:$,setModel:Dt,seed:S,setSeed:P,randomizeSeed:R,setRandomizeSeed:A,quality:ee,setQuality:G,useAspectRatio:X,setUseAspectRatio:Z,aspectRatio:W,setAspectRatio:F,width:D,setWidth:O,height:M,setHeight:V,imageCount:$e,setImageCount:at,isPrivate:m,setIsPrivate:g,nsfwEnabled:ye,setNsfwEnabled:ge,modelConfigs:_}})},LE=({image:e,isOpen:t,onClose:r,onDownload:n,onDiscard:s,onRemix:i,isOwner:a,isPro:l=!1})=>{var V,$;const{session:c}=it(),{data:u}=Vt(),[d,h]=p.useState("copy"),[f,m]=p.useState("share"),[g,y]=p.useState(!1);p.useState(!1);const b=We();x0(c,i,r);const v=dt(),{userLikes:w,toggleLike:x}=du((V=c==null?void 0:c.user)==null?void 0:V.id),_=bn("(max-width: 768px)");(()=>{if(!(e!=null&&e.storage_path))return null;try{const{data:I}=L.storage.from("user-images").getPublicUrl(e.storage_path);return I==null?void 0:I.publicUrl}catch(I){return console.error("Error getting image URL:",I),null}})();const{data:T}=Ee({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>{const{data:I}=await L.from("profiles").select("*").eq("id",e.user_id).single();return I},enabled:!!(e!=null&&e.user_id)}),{data:N=0}=Ee({queryKey:["likes",e==null?void 0:e.id],queryFn:async()=>{const{count:I}=await L.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);return I},enabled:!!(e!=null&&e.id)}),S=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),h("check"),setTimeout(()=>h("copy"),1500)},P=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),m("check"),setTimeout(()=>m("share"),1500)},R=async()=>{try{await Pa(e,v),r(),s&&s(e.id)}catch(I){console.error("Error in handleDiscard:",I)}},A=()=>{y(!0),setTimeout(()=>{y(!1)},800)},D=I=>{I.preventDefault(),I.stopPropagation(),w!=null&&w.includes(e.id)||(A(),x(e.id))},O=()=>{if(!c){Y.error("Please sign in to remix images");return}b(`/?remix=${e.id}#imagegenerate`,{replace:!0})},M=[{label:"Model",value:(($=u==null?void 0:u[e.model])==null?void 0:$.name)||e.model},{label:"Size",value:`${e.width}x${e.height}`},{label:"Quality",value:e.quality},{label:"Seed",value:e.seed},{label:"Aspect Ratio",value:e.aspect_ratio},{label:"Created",value:yi(new Date(e.created_at),"MMM d, yyyy h:mm a")}];return o.jsxs("div",{className:k("min-h-screen","bg-background/95 backdrop-blur-[2px]","transition-all duration-300"),children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:r,className:k("fixed top-4 left-4 z-50","h-8 w-8 p-0 rounded-lg","bg-background/80 backdrop-blur-[2px]","hover:bg-background/90","transition-all duration-200"),children:o.jsx(ls,{className:"h-5 w-5 text-foreground/70"})}),o.jsx(Ut,{className:_?"h-[100dvh]":"h-screen",children:o.jsxs("div",{className:"space-y-6 pb-6",children:[e&&o.jsxs("div",{className:k("relative flex items-center justify-center","bg-background/95 backdrop-blur-[2px]","transition-all duration-300"),children:[o.jsx("img",{src:L.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl,alt:e.prompt||"Generated image",className:k("w-full h-auto","transition-all duration-300"),onDoubleClick:D,loading:"eager"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx(Xa,{isAnimating:g})})]}),o.jsxs("div",{className:"px-3 space-y-4",children:[c&&o.jsxs(o.Fragment,{children:[o.jsx(_0,{owner:T,image:e,isOwner:a,userLikes:w,toggleLike:x,likeCount:N,onLike:A}),o.jsxs("div",{className:"flex gap-1.5",children:[a&&o.jsxs(Q,{variant:"ghost",size:"sm",onClick:R,className:k("flex-1 h-9 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[o.jsx(Qi,{className:"mr-1.5 h-3.5 w-3.5"}),o.jsx("span",{children:"Discard"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:n,className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(Yi,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Download"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:O,className:k("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[o.jsx(rp,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),o.jsx("span",{children:"Remix"})]})]})]}),o.jsx(iu,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:d,shareIcon:f,onCopyPrompt:S,onShare:P}),o.jsx(au,{detailItems:M})]})]})})]})},FE=()=>{var l,c;const{imageId:e}=Af(),t=We(),{session:r}=it(),n=bn("(max-width: 768px)"),{data:s,isLoading:i}=Ee({queryKey:["singleImage",e],queryFn:async()=>{const{data:u,error:d}=await L.from("user_images").select("*").eq("id",e).single();if(d)throw d;return u}}),a=async()=>{if(!s)return;const u=L.storage.from("user-images").getPublicUrl(s.storage_path).data.publicUrl;await Gy(u,s.prompt)};return i?o.jsx("div",{className:k("min-h-screen p-4","bg-background backdrop-blur-[2px]","transition-all duration-300"),children:o.jsx(rt,{className:k("w-full h-[60vh]","bg-muted/5","animate-pulse")})}):s?n?o.jsx(LE,{image:s,onClose:()=>t(-1),onDownload:a,isOwner:s.user_id===((l=r==null?void 0:r.user)==null?void 0:l.id),setActiveTab:()=>{},setStyle:()=>{},showFullImage:!0}):o.jsx(vi,{image:s,isOpen:!0,onClose:()=>t(-1),onDownload:a,onDiscard:()=>{},isOwner:s.user_id===((c=r==null?void 0:r.user)==null?void 0:c.id),setStyle:()=>{},setActiveTab:()=>{}}):o.jsx("div",{className:k("min-h-screen p-4","bg-background backdrop-blur-[2px]","transition-all duration-300"),children:o.jsx("div",{className:k("flex items-center justify-center","h-[60vh]","bg-muted/5 border border-border/80","text-sm text-muted-foreground/70"),children:"Image not found"})})};var $E="Separator",Kh="horizontal",VE=["horizontal","vertical"],N0=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=Kh,...s}=e,i=UE(n)?n:Kh,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Ge.div,{"data-orientation":i,...l,...s,ref:t})});N0.displayName=$E;function UE(e){return VE.includes(e)}var T0=N0;const qE=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(T0,{ref:s,decorative:r,orientation:t,className:k("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));qE.displayName=T0.displayName;const BE=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(rt,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(rt,{className:"h-4 w-[200px]"}),o.jsx(rt,{className:"h-4 w-[150px]"})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(rt,{className:"h-8 w-[100px]"}),o.jsx(rt,{className:"h-8 w-[100px]"}),o.jsx(rt,{className:"h-8 w-[100px]"})]})]}),zE=()=>{var h;const{userId:e}=Af(),t=We(),{session:r}=it(),n=(h=r==null?void 0:r.user)==null?void 0:h.id,[s,i]=p.useState(null),{data:a,isLoading:l}=Ee({queryKey:["profile",e],queryFn:async()=>{const{data:f,error:m}=await L.from("profiles").select("*, is_pro").eq("id",e).single();if(m)throw m;return f},enabled:!!e}),{data:c,isLoading:u}=Ee({queryKey:["userStats",e],queryFn:async()=>{const[f,m,g,y]=await Promise.all([L.from("user_images").select("*",{count:"exact"}).eq("user_id",e).eq("is_private",!1),L.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e),L.from("user_follows").select("*",{count:"exact"}).eq("following_id",e),L.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e)]);return{totalImages:f.count||0,totalLikes:m.count||0,followers:g.count||0,following:y.count||0}},enabled:!!e}),d=f=>{i(f)};return l||u?o.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:o.jsx(BE,{})}):a?o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:"container  mx-auto py-6 px-1 space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs(Q,{variant:"ghost",className:"group flex items-center gap-2 hover:gap-3 transition-all duration-300",onClick:()=>t(-1),children:[o.jsx(ls,{className:"h-5 w-5 text-primary transition-colors"}),o.jsx("span",{className:"text-2xl font-medium bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Profile"})]})}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(Lr,{className:"rounded-2xl border border-border bg-card text-card-foreground relative overflow-hidden",children:o.jsx("div",{className:"p-4 md:p-6 relative",children:o.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(rs,{user:{user_metadata:{avatar_url:a.avatar_url}},avatarUrl:a.avatar_url,size:"lg",isPro:a.is_pro,className:"w-24 h-24 sm:w-28 sm:h-28 ring-2 ring-border ring-offset-2 ring-offset-background"})}),o.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:a.display_name}),o.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Joined ",a!=null&&a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):""]})]}),n&&n!==e&&o.jsx("div",{className:"pt-2 sm:max-w-[200px]",children:o.jsx(w0,{userId:e})})]})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:k("w-full grid grid-cols-4 gap-2 p-3 rounded-xl","bg-muted/5 hover:bg-muted/10","transition-colors duration-200"),children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.totalImages}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.totalLikes}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.followers}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.following}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]})]})})]})})}),o.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsx(Ja,{userId:n,profileUserId:e,activeView:"myImages",nsfwEnabled:!1,showPrivate:!1,onImageClick:d})})]})]}),o.jsx(Ua,{children:s&&o.jsx(vi,{image:s,isOpen:!!s,onClose:()=>i(null),onDownload:()=>{},onDiscard:()=>{},onRemix:()=>{},isOwner:n===s.user_id})})]}):o.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground/80",children:"User not found"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"The profile you're looking for doesn't exist."}),o.jsx(Q,{variant:"default",className:"mt-4",onClick:()=>t("/"),children:"Return Home"})]})},Za=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const r=setInterval(()=>{t(n=>{const s=n+2;return s>=100?100:s})},30);return()=>clearInterval(r)},[]),o.jsx("div",{className:k("fixed inset-0 z-50","bg-background/95 backdrop-blur-[2px]","flex flex-col items-center justify-center gap-8","transition-all duration-500"),children:o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsx("div",{className:k("w-20 h-20 rounded-xl overflow-hidden","border border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300"),children:o.jsx("img",{src:"/logo2.png",alt:"Ring IG Logo",className:"w-full h-full object-cover"})}),o.jsx("h1",{className:"text-2xl font-medium text-foreground/90",children:"Ring IG"}),o.jsx(tu,{value:e,className:k("w-64 h-1 rounded-full overflow-hidden","bg-muted/5","transition-all duration-300")})]})})};function HE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yh(e){return HE(e)||Array.isArray(e)}function WE(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ku(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(a=>{const l=e[a],c=t[a];return typeof l=="function"?`${l}`==`${c}`:!Yh(l)||!Yh(c)?l===c:ku(l,c)})}function Qh(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function GE(e,t){if(e.length!==t.length)return!1;const r=Qh(e),n=Qh(t);return r.every((s,i)=>{const a=n[i];return ku(s,a)})}function Su(e){return typeof e=="number"}function Ml(e){return typeof e=="string"}function eo(e){return typeof e=="boolean"}function Xh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fe(e){return Math.abs(e)}function Cu(e){return Math.sign(e)}function $s(e,t){return Fe(e-t)}function KE(e,t){if(e===0||t===0||Fe(e)<=Fe(t))return 0;const r=$s(Fe(e),Fe(t));return Fe(r/e)}function YE(e){return Math.round(e*100)/100}function Ks(e){return Ys(e).map(Number)}function Ft(e){return e[bi(e)]}function bi(e){return Math.max(0,e.length-1)}function Pu(e,t){return t===bi(e)}function Jh(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Ys(e){return Object.keys(e)}function E0(e,t){return[e,t].reduce((r,n)=>(Ys(n).forEach(s=>{const i=r[s],a=n[s],l=Xh(i)&&Xh(a);r[s]=l?E0(i,a):a}),r),{})}function Il(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function QE(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function a(c,u){return Ml(e)?r[e](c):e(t,c,u)}return{measure:a}}function Qs(){let e=[];function t(s,i,a,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,a,l),c=()=>s.removeEventListener(i,a,l);else{const u=s;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function XE(e,t,r,n){const s=Qs(),i=1e3/60;let a=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&g()})}function d(){m(),s.clear()}function h(b){if(!c)return;a||(a=b);const v=b-a;for(a=b,l+=v;l>=i;)r(),l-=i;const w=l/i;n(w),c&&(c=t.requestAnimationFrame(h))}function f(){c||(c=t.requestAnimationFrame(h))}function m(){t.cancelAnimationFrame(c),a=null,l=0,c=0}function g(){a=null,l=0}return{init:u,destroy:d,start:f,stop:m,update:r,render:n}}function JE(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",a=!n&&r?-1:1,l=d(),c=h();function u(g){const{height:y,width:b}=g;return n?y:b}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function f(g){return g*a}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:f}}function pn(e=0,t=0){const r=Fe(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function a(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:a,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function A0(e,t,r){const{constrain:n}=pn(0,e),s=e+1;let i=a(t);function a(f){return r?Fe((s+f)%s):n(f)}function l(){return i}function c(f){return i=a(f),h}function u(f){return d().set(l()+f)}function d(){return A0(e,l(),r)}const h={get:l,set:c,add:u,clone:d};return h}function ZE(e,t,r,n,s,i,a,l,c,u,d,h,f,m,g,y,b,v,w){const{cross:x,direction:_}=e,C=["INPUT","SELECT","TEXTAREA"],T={passive:!1},N=Qs(),S=Qs(),P=pn(50,225).constrain(m.measure(20)),R={mouse:300,touch:400},A={mouse:500,touch:600},D=g?43:25;let O=!1,M=0,V=0,$=!1,I=!1,W=!1,F=!1;function X(z){if(!w)return;function ce(ve){(eo(w)||w(z,ve))&&we(ve)}const q=t;N.add(q,"dragstart",ve=>ve.preventDefault(),T).add(q,"touchmove",()=>{},T).add(q,"touchend",()=>{}).add(q,"touchstart",ce).add(q,"mousedown",ce).add(q,"touchcancel",se).add(q,"contextmenu",se).add(q,"click",Pe,!0)}function Z(){N.clear(),S.clear()}function ee(){const z=F?r:t;S.add(z,"touchmove",J,T).add(z,"touchend",se).add(z,"mousemove",J,T).add(z,"mouseup",se)}function G(z){const ce=z.nodeName||"";return C.includes(ce)}function ne(){return(g?A:R)[F?"mouse":"touch"]}function pe(z,ce){const q=h.add(Cu(z)*-1),ve=d.byDistance(z,!g).distance;return g||Fe(z)<P?ve:b&&ce?ve*.5:d.byIndex(q.get(),0).distance}function we(z){const ce=Il(z,n);F=ce,W=g&&ce&&!z.buttons&&O,O=$s(s.get(),a.get())>=2,!(ce&&z.button!==0)&&(G(z.target)||($=!0,i.pointerDown(z),u.useFriction(0).useDuration(0),s.set(a),ee(),M=i.readPoint(z),V=i.readPoint(z,x),f.emit("pointerDown")))}function J(z){if(!Il(z,n)&&z.touches.length>=2)return se(z);const q=i.readPoint(z),ve=i.readPoint(z,x),ye=$s(q,M),ge=$s(ve,V);if(!I&&!F&&(!z.cancelable||(I=ye>ge,!I)))return se(z);const $e=i.pointerMove(z);ye>y&&(W=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(_($e)),z.preventDefault()}function se(z){const q=d.byDistance(0,!1).index!==h.get(),ve=i.pointerUp(z)*ne(),ye=pe(_(ve),q),ge=KE(ve,ye),$e=D-10*ge,at=v+ge/50;I=!1,$=!1,S.clear(),u.useDuration($e).useFriction(at),c.distance(ye,!g),F=!1,f.emit("pointerUp")}function Pe(z){W&&(z.stopPropagation(),z.preventDefault(),W=!1)}function Se(){return $}return{init:X,destroy:Z,pointerDown:Se}}function eA(e,t){let n,s;function i(h){return h.timeStamp}function a(h,f){const g=`client${(f||e.scroll)==="x"?"X":"Y"}`;return(Il(h,t)?h:h.touches[0])[g]}function l(h){return n=h,s=h,a(h)}function c(h){const f=a(h)-a(s),m=i(h)-i(n)>170;return s=h,m&&(n=h),f}function u(h){if(!n||!s)return 0;const f=a(s)-a(n),m=i(h)-i(n),g=i(h)-i(s)>170,y=f/m;return m&&!g&&Fe(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function tA(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:a}=r;return{top:n,right:s+i,bottom:n+a,left:s,width:i,height:a}}return{measure:e}}function rA(e){function t(n){return e*(n/100)}return{measure:t}}function nA(e,t,r,n,s,i,a){const l=[e].concat(n);let c,u,d=[],h=!1;function f(b){return s.measureSize(a.measure(b))}function m(b){if(!i)return;u=f(e),d=n.map(f);function v(w){for(const x of w){if(h)return;const _=x.target===e,C=n.indexOf(x.target),T=_?u:d[C],N=f(_?e:n[C]);if(Fe(N-T)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(w=>{(eo(i)||i(b,w))&&v(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function g(){h=!0,c&&c.disconnect()}return{init:m,destroy:g}}function sA(e,t,r,n,s,i){let a=0,l=0,c=s,u=i,d=e.get(),h=0;function f(){const T=n.get()-e.get(),N=!c;let S=0;return N?(a=0,r.set(n),e.set(n),S=T):(r.set(e),a+=T/c,a*=u,d+=a,e.add(a),S=d-h),l=Cu(S),h=d,C}function m(){const T=n.get()-t.get();return Fe(T)<.001}function g(){return c}function y(){return l}function b(){return a}function v(){return x(s)}function w(){return _(i)}function x(T){return c=T,C}function _(T){return u=T,C}const C={direction:y,duration:g,velocity:b,seek:f,settled:m,useBaseFriction:w,useBaseDuration:v,useFriction:_,useDuration:x};return C}function iA(e,t,r,n,s){const i=s.measure(10),a=s.measure(50),l=pn(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(m){if(!u())return;const g=e.reachedMin(t.get())?"min":"max",y=Fe(e[g]-t.get()),b=r.get()-t.get(),v=l.constrain(y/a);r.subtract(b*v),!m&&Fe(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(m){c=!m}return{shouldConstrain:u,constrain:d,toggleActive:h}}function aA(e,t,r,n,s){const i=pn(-t+e,0),a=h(),l=d(),c=f();function u(g,y){return $s(g,y)<1}function d(){const g=a[0],y=Ft(a),b=a.lastIndexOf(g),v=a.indexOf(y)+1;return pn(b,v)}function h(){return r.map((g,y)=>{const{min:b,max:v}=i,w=i.constrain(g),x=!y,_=Pu(r,y);return x?v:_||u(b,w)?b:u(v,w)?v:w}).map(g=>parseFloat(g.toFixed(3)))}function f(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return a;const{min:g,max:y}=l;return a.slice(g,y)}return{snapsContained:c,scrollContainLimit:l}}function oA(e,t,r){const n=t[0],s=r?n-e:Ft(t);return{limit:pn(s,n)}}function lA(e,t,r,n){const i=t.min+.1,a=t.max+.1,{reachedMin:l,reachedMax:c}=pn(i,a);function u(f){return f===1?c(r.get()):f===-1?l(r.get()):!1}function d(f){if(!u(f))return;const m=e*(f*-1);n.forEach(g=>g.add(m))}return{loop:d}}function cA(e){const{max:t,length:r}=e;function n(i){const a=i-t;return r?a/-r:0}return{get:n}}function uA(e,t,r,n,s){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=s,c=h().map(t.measure),u=f(),d=m();function h(){return l(n).map(y=>Ft(y)[a]-y[0][i]).map(Fe)}function f(){return n.map(y=>r[i]-y[i]).map(y=>-Fe(y))}function m(){return l(u).map(y=>y[0]).map((y,b)=>y+c[b])}return{snaps:u,snapsAligned:d}}function dA(e,t,r,n,s,i){const{groupSlides:a}=s,{min:l,max:c}=n,u=d();function d(){const f=a(i),m=!e||t==="keepSnaps";return r.length===1?[i]:m?f:f.slice(l,c).map((g,y,b)=>{const v=!y,w=Pu(b,y);if(v){const x=Ft(b[0])+1;return Jh(x)}if(w){const x=bi(i)-Ft(b)[0]+1;return Jh(x,Ft(b)[0])}return g})}return{slideRegistry:u}}function hA(e,t,r,n,s){const{reachedAny:i,removeOffset:a,constrain:l}=n;function c(g){return g.concat().sort((y,b)=>Fe(y)-Fe(b))[0]}function u(g){const y=e?a(g):l(g),b=t.map((w,x)=>({diff:d(w-y,0),index:x})).sort((w,x)=>Fe(w.diff)-Fe(x.diff)),{index:v}=b[0];return{index:v,distance:y}}function d(g,y){const b=[g,g+r,g-r];if(!e)return g;if(!y)return c(b);const v=b.filter(w=>Cu(w)===y);return v.length?c(v):Ft(b)-r}function h(g,y){const b=t[g]-s.get(),v=d(b,y);return{index:g,distance:v}}function f(g,y){const b=s.get()+g,{index:v,distance:w}=u(b),x=!e&&i(b);if(!y||x)return{index:v,distance:g};const _=t[v]-w,C=g+d(_,0);return{index:v,distance:C}}return{byDistance:f,byIndex:h,shortcut:d}}function fA(e,t,r,n,s,i,a){function l(h){const f=h.distance,m=h.index!==t.get();i.add(f),f&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(r.set(t.get()),t.set(h.index),a.emit("select"))}function c(h,f){const m=s.byDistance(h,f);l(m)}function u(h,f){const m=t.clone().set(h),g=s.byIndex(m.get(),f);l(g)}return{distance:c,index:u}}function mA(e,t,r,n,s,i,a,l){const c={passive:!0,capture:!0};let u=0;function d(m){if(!l)return;function g(y){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const w=r.findIndex(x=>x.includes(y));Su(w)&&(s.useDuration(0),n.index(w,0),a.emit("slideFocus"))}i.add(document,"keydown",h,!1),t.forEach((y,b)=>{i.add(y,"focus",v=>{(eo(l)||l(m,v))&&g(b)},c)})}function h(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function As(e){let t=e;function r(){return t}function n(c){t=a(c)}function s(c){t+=a(c)}function i(c){t-=a(c)}function a(c){return Su(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function R0(e,t){const r=e.scroll==="x"?a:l,n=t.style;let s=null,i=!1;function a(f){return`translate3d(${f}px,0px,0px)`}function l(f){return`translate3d(0px,${f}px,0px)`}function c(f){if(i)return;const m=YE(e.direction(f));m!==s&&(n.transform=r(m),s=m)}function u(f){i=!f}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function pA(e,t,r,n,s,i,a,l,c){const d=Ks(s),h=Ks(s).reverse(),f=v().concat(w());function m(N,S){return N.reduce((P,R)=>P-s[R],S)}function g(N,S){return N.reduce((P,R)=>m(P,S)>0?P.concat([R]):P,[])}function y(N){return i.map((S,P)=>({start:S-n[P]+.5+N,end:S+t-.5+N}))}function b(N,S,P){const R=y(S);return N.map(A=>{const D=P?0:-r,O=P?r:0,M=P?"end":"start",V=R[A][M];return{index:A,loopPoint:V,slideLocation:As(-1),translate:R0(e,c[A]),target:()=>l.get()>V?D:O}})}function v(){const N=a[0],S=g(h,N);return b(S,r,!1)}function w(){const N=t-a[0]-1,S=g(d,N);return b(S,-r,!0)}function x(){return f.every(({index:N})=>{const S=d.filter(P=>P!==N);return m(S,t)<=.1})}function _(){f.forEach(N=>{const{target:S,translate:P,slideLocation:R}=N,A=S();A!==R.get()&&(P.to(A),R.set(A))})}function C(){f.forEach(N=>N.translate.clear())}return{canLoop:x,clear:C,loop:_,loopPoints:f}}function gA(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(eo(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function a(){n&&n.disconnect(),s=!0}return{init:i,destroy:a}}function yA(e,t,r,n){const s={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(g=>{c||(g.forEach(y=>{const b=t.indexOf(y.target);s[b]=y}),i=null,a=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(g=>l.observe(g))}function d(){l&&l.disconnect(),c=!0}function h(g){return Ys(s).reduce((y,b)=>{const v=parseInt(b),{isIntersecting:w}=s[v];return(g&&w||!g&&!w)&&y.push(v),y},[])}function f(g=!0){if(g&&i)return i;if(!g&&a)return a;const y=h(g);return g&&(i=y),g||(a=y),y}return{init:u,destroy:d,get:f}}function vA(e,t,r,n,s,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=g(),h=y(),f=r.map(a),m=b();function g(){if(!u)return 0;const w=r[0];return Fe(t[l]-w[l])}function y(){if(!u)return 0;const w=i.getComputedStyle(Ft(n));return parseFloat(w.getPropertyValue(`margin-${c}`))}function b(){return r.map((w,x,_)=>{const C=!x,T=Pu(_,x);return C?f[x]+d:T?f[x]+h:_[x+1][l]-w[l]}).map(Fe)}return{slideSizes:f,slideSizesWithGaps:m,startGap:d,endGap:h}}function bA(e,t,r,n,s,i,a,l,c){const{startEdge:u,endEdge:d,direction:h}=e,f=Su(r);function m(v,w){return Ks(v).filter(x=>x%w===0).map(x=>v.slice(x,x+w))}function g(v){return v.length?Ks(v).reduce((w,x,_)=>{const C=Ft(w)||0,T=C===0,N=x===bi(v),S=s[u]-i[C][u],P=s[u]-i[x][d],R=!n&&T?h(a):0,A=!n&&N?h(l):0,D=Fe(P-A-(S+R));return _&&D>t+c&&w.push(x),N&&w.push(v.length),w},[]).map((w,x,_)=>{const C=Math.max(_[x-1]||0);return v.slice(C,w)}):[]}function y(v){return f?m(v,r):g(v)}return{groupSlides:y}}function xA(e,t,r,n,s,i,a){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:f,dragFree:m,dragThreshold:g,inViewThreshold:y,slidesToScroll:b,skipSnaps:v,containScroll:w,watchResize:x,watchSlides:_,watchDrag:C,watchFocus:T}=i,N=2,S=tA(),P=S.measure(t),R=r.map(S.measure),A=JE(c,u),D=A.measureSize(P),O=rA(D),M=QE(l,D),V=!h&&!!w,$=h||!!w,{slideSizes:I,slideSizesWithGaps:W,startGap:F,endGap:X}=vA(A,P,R,r,$,s),Z=bA(A,D,b,h,P,R,F,X,N),{snaps:ee,snapsAligned:G}=uA(A,M,P,R,Z),ne=-Ft(ee)+Ft(W),{snapsContained:pe,scrollContainLimit:we}=aA(D,ne,G,w,N),J=V?pe:G,{limit:se}=oA(ne,J,h),Pe=A0(bi(J),d,h),Se=Pe.clone(),oe=Ks(r),z=({dragHandler:Qe,scrollBody:Bt,scrollBounds:Ze,options:{loop:St}})=>{St||Ze.constrain(Qe.pointerDown()),Bt.seek()},ce=({scrollBody:Qe,translate:Bt,location:Ze,offsetLocation:St,previousLocation:Hr,scrollLooper:rr,slideLooper:nr,dragHandler:pr,animation:Ae,eventHandler:B,scrollBounds:he,options:{loop:U}},K)=>{const ie=Qe.settled(),Ce=!he.shouldConstrain(),_e=U?ie:ie&&Ce;_e&&!pr.pointerDown()&&(Ae.stop(),B.emit("settle")),_e||B.emit("scroll");const ot=Ze.get()*K+Hr.get()*(1-K);St.set(ot),U&&(rr.loop(Qe.direction()),nr.loop()),Bt.to(St.get())},q=XE(n,s,()=>z(Dt),Qe=>ce(Dt,Qe)),ve=.68,ye=J[Pe.get()],ge=As(ye),$e=As(ye),at=As(ye),Oe=As(ye),jt=sA(ge,at,$e,Oe,f,ve),er=hA(h,J,ne,se,Oe),Me=fA(q,Pe,Se,jt,er,Oe,a),Ve=cA(se),tr=Qs(),zr=yA(t,r,a,y),{slideRegistry:kt}=dA(V,w,J,we,Z,oe),qt=mA(e,r,kt,Me,jt,tr,a,T),Dt={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:P,slideRects:R,animation:q,axis:A,dragHandler:ZE(A,e,n,s,Oe,eA(A,s),ge,q,Me,jt,er,Pe,a,O,m,g,v,ve,C),eventStore:tr,percentOfView:O,index:Pe,indexPrevious:Se,limit:se,location:ge,offsetLocation:at,previousLocation:$e,options:i,resizeHandler:nA(t,a,s,r,A,x,S),scrollBody:jt,scrollBounds:iA(se,at,Oe,jt,O),scrollLooper:lA(ne,se,at,[ge,at,$e,Oe]),scrollProgress:Ve,scrollSnapList:J.map(Ve.get),scrollSnaps:J,scrollTarget:er,scrollTo:Me,slideLooper:pA(A,D,ne,I,W,ee,J,at,r),slideFocus:qt,slidesHandler:gA(t,a,_),slidesInView:zr,slideIndexes:oe,slideRegistry:kt,slidesToScroll:Z,target:Oe,translate:R0(A,t)};return Dt}function wA(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function a(u,d){return e[u]=n(u).filter(h=>h!==d),c}function l(){e={}}const c={init:r,emit:s,off:a,on:i,clear:l};return c}const _A={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function jA(e){function t(i,a){return E0(i,a||{})}function r(i){const a=i.breakpoints||{},l=Ys(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(a=>Ys(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function kA(e){let t=[];function r(i,a){return t=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function fa(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=jA(s),a=kA(i),l=Qs(),c=wA(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:f,off:m,emit:g}=c,y=A;let b=!1,v,w=u(_A,fa.globalOptions),x=u(w),_=[],C,T,N;function S(){const{container:oe,slides:z}=x;T=(Ml(oe)?e.querySelector(oe):oe)||e.children[0];const q=Ml(z)?T.querySelectorAll(z):z;N=[].slice.call(q||T.children)}function P(oe){const z=xA(e,T,N,n,s,oe,c);if(oe.loop&&!z.slideLooper.canLoop()){const ce=Object.assign({},oe,{loop:!1});return P(ce)}return z}function R(oe,z){b||(w=u(w,oe),x=d(w),_=z||_,S(),v=P(x),h([w,..._.map(({options:ce})=>ce)]).forEach(ce=>l.add(ce,"change",A)),x.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(Se),v.eventHandler.init(Se),v.resizeHandler.init(Se),v.slidesHandler.init(Se),v.options.loop&&v.slideLooper.loop(),T.offsetParent&&N.length&&v.dragHandler.init(Se),C=a.init(Se,_)))}function A(oe,z){const ce=Z();D(),R(u({startIndex:ce},oe),z),c.emit("reInit")}function D(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),l.clear()}function O(){b||(b=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function M(oe,z,ce){!x.active||b||(v.scrollBody.useBaseFriction().useDuration(z===!0?0:x.duration),v.scrollTo.index(oe,ce||0))}function V(oe){const z=v.index.add(1).get();M(z,oe,-1)}function $(oe){const z=v.index.add(-1).get();M(z,oe,1)}function I(){return v.index.add(1).get()!==Z()}function W(){return v.index.add(-1).get()!==Z()}function F(){return v.scrollSnapList}function X(){return v.scrollProgress.get(v.location.get())}function Z(){return v.index.get()}function ee(){return v.indexPrevious.get()}function G(){return v.slidesInView.get()}function ne(){return v.slidesInView.get(!1)}function pe(){return C}function we(){return v}function J(){return e}function se(){return T}function Pe(){return N}const Se={canScrollNext:I,canScrollPrev:W,containerNode:se,internalEngine:we,destroy:O,off:m,on:f,emit:g,plugins:pe,previousScrollSnap:ee,reInit:y,rootNode:J,scrollNext:V,scrollPrev:$,scrollProgress:X,scrollSnapList:F,scrollTo:M,selectedScrollSnap:Z,slideNodes:Pe,slidesInView:G,slidesNotInView:ne};return R(t,r),setTimeout(()=>c.emit("init"),0),Se}fa.globalOptions=void 0;function Nu(e={},t=[]){const r=p.useRef(e),n=p.useRef(t),[s,i]=p.useState(),[a,l]=p.useState(),c=p.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return p.useEffect(()=>{ku(r.current,e)||(r.current=e,c())},[e,c]),p.useEffect(()=>{GE(n.current,t)||(n.current=t,c())},[t,c]),p.useEffect(()=>{if(WE()&&a){fa.globalOptions=Nu.globalOptions;const u=fa(a,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),[l,s]}Nu.globalOptions=void 0;const D0=p.createContext(null);function to(){const e=p.useContext(D0);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const SA=p.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...a},l)=>{const[c,u]=Nu({...t,axis:e==="horizontal"?"x":"y"},n),[d,h]=p.useState(!1),[f,m]=p.useState(!1),g=p.useCallback(w=>{w&&(h(w.canScrollPrev()),m(w.canScrollNext()))},[]),y=p.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=p.useCallback(()=>{u==null||u.scrollNext()},[u]),v=p.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),y()):w.key==="ArrowRight"&&(w.preventDefault(),b())},[y,b]);return p.useEffect(()=>{!u||!r||r(u)},[u,r]),p.useEffect(()=>{if(u)return g(u),u.on("reInit",g),u.on("select",g),()=>{u==null||u.off("select",g)}},[u,g]),o.jsx(D0.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:d,canScrollNext:f},children:o.jsx("div",{ref:l,onKeyDownCapture:v,className:k("relative",s),role:"region","aria-roledescription":"carousel",...a,children:i})})});SA.displayName="Carousel";const CA=p.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=to();return o.jsx("div",{ref:n,className:"overflow-hidden",children:o.jsx("div",{ref:r,className:k("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});CA.displayName="CarouselContent";const PA=p.forwardRef(({className:e,...t},r)=>{const{orientation:n}=to();return o.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:k("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});PA.displayName="CarouselItem";const NA=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:a,canScrollPrev:l}=to();return o.jsxs(Q,{ref:s,variant:t,size:r,className:k("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(ls,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Previous slide"})]})});NA.displayName="CarouselPrevious";const TA=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:a,canScrollNext:l}=to();return o.jsxs(Q,{ref:s,variant:t,size:r,className:k("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:a,...n,children:[o.jsx(Ki,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Next slide"})]})});TA.displayName="CarouselNext";const Ll=({title:e,children:t,icon:r,isPro:n,rightHeader:s,topLeftText:i})=>o.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card text-card-foreground relative overflow-hidden",children:[o.jsxs("div",{className:"p-4 md:p-6 relative",children:[i&&o.jsx("span",{className:"absolute top-3 md:top-4 left-4 md:left-6 text-xs text-muted-foreground/70",children:i}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(r,{className:"h-5 w-5 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold",children:e})]}),s]})]}),o.jsx("div",{className:"p-4 md:p-6 pt-0 relative",children:t})]}),EA=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(rt,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(rt,{className:"h-4 w-[200px]"}),o.jsx(rt,{className:"h-4 w-[150px]"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(rt,{className:"h-[200px] rounded-xl"}),o.jsx(rt,{className:"h-[200px] rounded-xl"})]})]}),AA=({user:e})=>{var n,s;const t=We(),{data:r}=Ee({queryKey:["userCardStats",e.id],queryFn:async()=>{const[i,a,l]=await Promise.all([L.from("user_images").select("*",{count:"exact"}).eq("user_id",e.id),L.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id),L.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id)]);return{totalImages:i.count||0,totalLikes:a.count||0,followers:l.count||0}}});return o.jsx(Lr,{className:"min-w-[180px] p-2 cursor-pointer bg-muted/5 hover:bg-muted/10 transition-all duration-300 group border-border/50",onClick:()=>t(`/profile/${e.id}`),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xu,{className:"h-7 w-7 rounded-full",children:[o.jsx(wu,{src:e.avatar_url,alt:e.display_name}),o.jsx(_u,{children:(s=(n=e.display_name)==null?void 0:n[0])==null?void 0:s.toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate text-xs group-hover:text-primary transition-colors",children:e.display_name}),o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground",children:[o.jsxs("span",{children:[(r==null?void 0:r.totalImages)||0," images"]}),o.jsx("span",{className:"text-muted-foreground/40",children:""}),o.jsxs("span",{children:[(r==null?void 0:r.followers)||0," followers"]})]})]}),o.jsx(ci,{className:"w-3.5 h-3.5 text-muted-foreground/40 group-hover:text-primary transition-colors"})]})})},Zh=({title:e,users:t=[],icon:r})=>t.length===0?null:o.jsx(Ll,{title:`${e} (${t.length})`,icon:r,children:o.jsx("div",{className:"overflow-x-auto scrollbar-none -mx-6 px-6 -mt-2",children:o.jsx("div",{className:"flex gap-1.5 pb-1",children:t.map(n=>o.jsx(AA,{user:n},n.id))})})}),RA=()=>{var _,C,T,N,S,P,R,A;const{session:e,loading:t,logout:r}=it(),n=We(),[s,i]=p.useState(!1),[a,l]=p.useState(""),[c,u]=p.useState(""),{data:d}=Ur((_=e==null?void 0:e.user)==null?void 0:_.id),{data:h}=v0((C=e==null?void 0:e.user)==null?void 0:C.id),[f,m]=p.useState(null);E.useEffect(()=>{var D,O,M,V;if(e!=null&&e.user){const $=((O=(D=e.user)==null?void 0:D.user_metadata)==null?void 0:O.display_name)||((V=(M=e.user)==null?void 0:M.email)==null?void 0:V.split("@")[0])||"";l($),u($)}},[e]);const{data:g,isLoading:y}=Ee({queryKey:["userStats",(T=e==null?void 0:e.user)==null?void 0:T.id],queryFn:async()=>{var D,O,M,V,$;if(!((D=e==null?void 0:e.user)!=null&&D.id))return null;try{const[I,W,F,X,Z]=await Promise.all([L.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.user.id),L.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.user.id),L.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.user.id),L.from("profiles").select("credit_count, bonus_credits, followers_count, following_count").eq("id",e.user.id).single(),L.from("user_images").select("*",{count:"exact"}).eq("user_id",e.user.id)]);return{followers:((O=X.data)==null?void 0:O.followers_count)||0,following:((M=X.data)==null?void 0:M.following_count)||0,likes:F.count||0,credits:((V=X.data)==null?void 0:V.credit_count)||0,bonusCredits:(($=X.data)==null?void 0:$.bonus_credits)||0,totalImages:Z.count||0}}catch(I){return console.error("Error fetching user stats:",I),{followers:0,following:0,likes:0,credits:0,bonusCredits:0,totalImages:0}}},enabled:!!((N=e==null?void 0:e.user)!=null&&N.id)}),{data:b}=Ee({queryKey:["followData",(S=e==null?void 0:e.user)==null?void 0:S.id],queryFn:async()=>{var M,V,$;if(!((M=e==null?void 0:e.user)!=null&&M.id))return{followers:[],following:[]};const[D,O]=await Promise.all([L.from("user_follows").select("profiles!user_follows_follower_id_fkey(*)").eq("following_id",e.user.id),L.from("user_follows").select("profiles!user_follows_following_id_fkey(*)").eq("follower_id",e.user.id)]);return{followers:((V=D.data)==null?void 0:V.map(I=>I.profiles))||[],following:(($=O.data)==null?void 0:$.map(I=>I.profiles))||[]}},enabled:!!((P=e==null?void 0:e.user)!=null&&P.id)}),v=async()=>{if(c.trim()===a.trim()){i(!1);return}try{const{error:D}=await L.auth.updateUser({data:{display_name:c}});if(D)throw D;await L.from("profiles").update({display_name:c}).eq("id",e.user.id),l(c),Y.success("Display name updated successfully"),i(!1)}catch(D){Y.error("Failed to update display name"),console.error("Error updating display name:",D)}},w=async D=>{var M;const O=(M=D.target.files)==null?void 0:M[0];O&&await bu(O,e.user.id)&&Y.success("Profile picture updated successfully")},{data:x}=Ee({queryKey:["profile",(R=e==null?void 0:e.user)==null?void 0:R.id],queryFn:async()=>{var M;if(!((M=e==null?void 0:e.user)!=null&&M.id))return null;const{data:D,error:O}=await L.from("profiles").select("*").eq("id",e.user.id).single();return O?null:D},enabled:!!((A=e==null?void 0:e.user)!=null&&A.id)});return t||y?o.jsx("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:o.jsx(EA,{})}):e?o.jsx("div",{className:"min-h-screen bg-background text-foreground",children:o.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:"container max-w-5xl mx-auto py-6 px-1 space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4 mb-6",children:o.jsxs(Bl,{to:"/",className:"group flex items-center gap-2 hover:gap-3 transition-all duration-300",children:[o.jsx(ls,{className:"h-5 w-5 text-primary transition-colors"}),o.jsx("span",{className:"text-2xl font-medium bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Settings"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ll,{title:"Basic Information",icon:uo,topLeftText:x!=null&&x.created_at?`Joined ${new Date(x.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})}`:"",rightHeader:o.jsxs("div",{className:"relative",children:[o.jsx(rs,{user:e.user,avatarUrl:x==null?void 0:x.avatar_url,isPro:d,size:"md",showEditOnHover:!1,className:"ring-2 ring-border ring-offset-2 ring-offset-background"}),o.jsxs("label",{className:"absolute -bottom-1 -right-1 p-1.5 rounded-full bg-primary text-primary-foreground cursor-pointer hover:bg-primary/90 transition-colors",children:[o.jsx(np,{className:"w-3.5 h-3.5"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:w})]})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-base",children:"Name"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-base text-muted-foreground",children:a}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i(!0),className:"h-8 w-8 hover:bg-primary/10 hover:text-primary",children:o.jsx(k1,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-base",children:"Email"}),o.jsx("span",{className:"text-base text-muted-foreground",children:e.user.email})]})]})}),o.jsx(Ll,{title:"Stats",icon:Jm,rightHeader:o.jsxs("div",{className:"flex items-center gap-2",children:[d?o.jsx("span",{className:"text-xs bg-gradient-to-r from-orange-500 via-purple-500 to-pink-500 text-white px-2 py-1 rounded-full",children:"Pro"}):h?o.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full",children:"Requested"}):o.jsx(Q,{variant:"outline",size:"sm",className:"h-7 text-xs hover:bg-muted/50",onClick:async()=>{try{await L.from("profiles").update({is_pro_request:!0}).eq("id",e.user.id),Y.success("Pro request submitted")}catch{Y.error("Failed to submit request")}},children:"Upgrade"}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>{r(),n("/")},className:"h-7 text-xs bg-destructive/5 hover:bg-destructive/10 text-destructive/90 hover:text-destructive",children:[o.jsx(sc,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign out"]})]}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.followers)||0}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.following)||0}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.likes)||0}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.totalImages)||0}),o.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]})]}),o.jsx(Wa,{credits:(g==null?void 0:g.credits)||0,bonusCredits:(g==null?void 0:g.bonusCredits)||0})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Zh,{title:"Followers",users:b==null?void 0:b.followers,icon:uo}),o.jsx(Zh,{title:"Following",users:b==null?void 0:b.following,icon:uo})]}),o.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-4",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[o.jsx(cs,{className:"h-5 w-5 text-primary"}),"Your Privates"]}),o.jsx(Ja,{userId:e.user.id,profileUserId:e.user.id,activeView:"myImages",nsfwEnabled:!1,showPrivate:!0,onImageClick:m})]}),o.jsxs(Ua,{children:[s&&o.jsx(ou,{open:s,onOpenChange:i,children:o.jsxs(Qa,{className:"sm:max-w-[425px]",children:[o.jsx(lu,{children:o.jsx(cu,{children:"Edit Profile"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Display Name"}),o.jsx(li,{id:"name",value:c,onChange:D=>u(D.target.value),className:"focus-visible:ring-primary"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(Q,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),o.jsx(Q,{onClick:v,children:"Save Changes"})]})]})]})}),f&&o.jsx(vi,{image:f,isOpen:!!f,onClose:()=>m(null),onDownload:()=>{},onDiscard:()=>{},onRemix:()=>{},isOwner:e.user.id===f.user_id})]})]})}):(n("/"),null)},ef="/ring1/logo2.png",tf=["Create stunning AI art with a single prompt","Transform your imagination into reality","Generate multiple styles with one click","Share and remix creations with the community","Fine-tune your art with advanced controls","Explore endless creative possibilities","Join a community of AI artists"],Io=["https://i.ibb.co.com/TgcCsdf/HDRDC2.webp","https://i.ibb.co.com/hc3dWxr/images-example-zgfn69jth.jpg","https://i.ibb.co.com/rs5g7Xz/3.png","https://i.ibb.co.com/8PnDLkf/1.png","https://i.ibb.co.com/88P57s7/ID2.png","https://i.ibb.co.com/gjrM8R5/out-0-1.webp","https://i.ibb.co.com/DkdtLrG/Comfy-UI-00047.png","https://i.ibb.co.com/NNWjs4d/A3.png","https://i.ibb.co.com/nkxPsYG/images-2.jpg"],DA=8e3,OA=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const r=setInterval(()=>{t(n=>(n+1)%tf.length)},8e3);return()=>clearInterval(r)},[]),o.jsx("div",{className:"relative h-[2rem] flex items-center justify-center overflow-hidden",children:o.jsx(Ua,{mode:"wait",children:o.jsx(be.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{y:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"text-base md:text-lg text-foreground/70 font-normal absolute",children:tf[e]},e)})})},MA=()=>{const{session:e,loading:t}=it(),r=We(),n=_t(),[s,i]=p.useState(()=>Math.floor(Math.random()*Io.length)),[a,l]=p.useState(!0),[c,u]=p.useState(!1);return p.useEffect(()=>{try{const d=window.self!==window.top,h=navigator.userAgent.includes("puppeteer");u(d||h)}catch{u(!0)}},[]),p.useEffect(()=>{var d,h;if(e){const f=((h=(d=n.state)==null?void 0:d.from)==null?void 0:h.pathname)||"/";r(f,{replace:!0})}},[e,t,r,n]),p.useEffect(()=>{const d=setInterval(()=>{i(h=>(h+1)%Io.length),l(!0)},DA);return()=>clearInterval(d)},[]),p.useEffect(()=>{const d=document.createElement("link");return d.rel="preload",d.as="image",d.href=ef,document.head.appendChild(d),()=>{document.head.removeChild(d)}},[]),t?o.jsx(Za,{}):o.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-background backdrop-blur-sm relative overflow-hidden",children:[o.jsx(hs,{intensity:"medium",speed:"fast",size:800,className:"z-0",className2:"bg-background/5 backdrop-blur-[1px]"}),o.jsx(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,ease:"easeOut"},className:"w-full h-[50vh] md:h-auto md:w-3/5 relative overflow-hidden z-10",children:o.jsx("div",{className:"relative w-full h-full",children:o.jsx("div",{className:"absolute inset-0",children:o.jsx(Ua,{mode:"wait",children:o.jsx(be.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"},className:"absolute inset-0",children:o.jsx("img",{src:Io[s],alt:"Feature showcase",onLoad:()=>l(!1),className:k("w-full h-full object-cover transition-all duration-500",a?"opacity-0":"opacity-100"),style:{imageRendering:"high-quality",WebkitImageSmoothing:"high"}})},s)})})})}),o.jsx(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2,ease:"easeOut"},className:"w-full md:h-auto md:w-3/5 flex items-center justify-center p-2 mt-10 md:mt-0 relative z-10",children:o.jsxs("div",{className:"w-full space-y-4 relative",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"space-y-2 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("h1",{className:"text-3xl md:text-3xl font-medium tracking-tight",children:"Welcome to"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:ef,alt:"Ring Logo",className:"w-8 h-8 object-contain",loading:"eager",fetchPriority:"high"}),o.jsx("span",{className:"text-3xl md:text-3xl font-medium tracking-tight",children:"ing"})]})]}),o.jsx(OA,{})]}),o.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"space-y-4",children:[o.jsx(B1,{buttonText:"Continue with Google"}),o.jsx("p",{className:"text-center text-sm text-muted-foreground/60",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}),c&&o.jsx("div",{className:"fixed top-4 right-4 bg-red-500/20 border border-red-500/60 backdrop-blur-sm rounded-xl p-3 z-50",children:o.jsx("p",{className:"text-red-500 text-sm font-medium",children:"Please Open Preview in new Tab To Be able to Continue"})})]})},IA=()=>{var V,$,I,W;const{session:e}=it(),t=We(),r=_t(),[n,s]=p.useState(null),[i,a]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(""),[h,f]=p.useState({}),[m,g]=p.useState(!1),[y,b]=p.useState(!1),[v,w]=p.useState(!0),[x,_]=p.useState(!1),{credits:C,bonusCredits:T}=lp((V=e==null?void 0:e.user)==null?void 0:V.id),{following:N}=ju(($=e==null?void 0:e.user)==null?void 0:$.id),S=up(),[P,R]=p.useState("images");Ur(),p.useEffect(()=>{const F=r.hash.replace("#","");switch(F){case"notifications":R("notifications");break;case"following":b(!0),w(!1),_(!1);break;case"top":b(!1),w(!0),_(!1);break;case"latest":b(!1),w(!1),_(!0);break;default:R("images"),F||(b(!1),w(!0),_(!1),t("/inspiration#top",{replace:!0}))}},[r.hash]);const A=F=>{s(F),c(!0)},D=F=>{s(F),a(!0)},O=async F=>{t(`/remix/${F.id}`)},M=async F=>{const Z=await(await fetch(F.image_url)).blob(),ee=window.URL.createObjectURL(Z),G=document.createElement("a");G.href=ee,G.download=`${F.id}.png`,document.body.appendChild(G),G.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(G)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(C0,{user:e==null?void 0:e.user,credits:C,bonusCredits:T,onSearch:d,nsfwEnabled:m,setNsfwEnabled:g,activeFilters:h,onFilterChange:(F,X)=>f(Z=>({...Z,[F]:X})),onRemoveFilter:F=>{const X={...h};delete X[F],f(X)},showFollowing:y,showTop:v,showLatest:x,onFollowingChange:b,onTopChange:w,onLatestChange:_}),o.jsx(P0,{activeFilters:h,onFilterChange:(F,X)=>f(Z=>({...Z,[F]:X})),onRemoveFilter:F=>{const X={...h};delete X[F],f(X)},onSearch:d,isVisible:S,nsfwEnabled:m,onToggleNsfw:()=>g(!m),showFollowing:y,showTop:v,showLatest:x,onFollowingChange:b,onTopChange:w,onLatestChange:_}),o.jsx("main",{className:"pt-16 md:pt-20 px-1 md:px-6 pb-20 md:pb-6",children:o.jsx(Ja,{userId:(I=e==null?void 0:e.user)==null?void 0:I.id,onImageClick:A,onDownload:M,onRemix:O,onViewDetails:D,nsfwEnabled:m,activeFilters:h,searchQuery:u,showPrivate:!1,showFollowing:y,showTop:v,showLatest:x,following:N,className:"px-0"})}),o.jsx(g0,{activeTab:P,setActiveTab:R,session:e,credits:C,bonusCredits:T,generatingImages:[],nsfwEnabled:m,setNsfwEnabled:g}),o.jsx(y0,{activeTab:P}),o.jsx(b0,{user:e==null?void 0:e.user,credits:C,bonusCredits:T,activeTab:P,nsfwEnabled:m,setNsfwEnabled:g}),o.jsx(uu,{open:i,onOpenChange:a,image:n}),o.jsx(vi,{image:n,isOpen:l,onClose:()=>c(!1),onDownload:M,onRemix:O,isOwner:(n==null?void 0:n.user_id)===((W=e==null?void 0:e.user)==null?void 0:W.id)})]})},Qt={heroGlow:"after:absolute after:inset-0 after:bg-[radial-gradient(ellipse_at_center,rgba(var(--primary-rgb),0.15),transparent_50%)] after:animate-mesh after:-z-10",cardGlow:"after:absolute after:inset-0 after:bg-[radial-gradient(ellipse_at_center,rgba(var(--primary-rgb),0.1),transparent_50%)] after:animate-mesh after:-z-10",textGlow:"text-shadow-glow",cardHover:"hover:shadow-lg hover:shadow-primary/10 hover:border-primary/20 transition-all duration-300",gradientBg:"bg-gradient-to-br from-background/95 via-background/98 to-primary/5",gradientText:"bg-gradient-to-r from-primary via-primary/80 to-foreground bg-clip-text text-transparent",buttonGradient:"bg-gradient-to-r from-primary/90 to-primary/80 hover:from-primary/80 hover:to-primary/70"},Lo=({title:e})=>o.jsxs(be.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},whileHover:{scale:1.02},className:k("relative aspect-video rounded-2xl overflow-hidden group cursor-pointer",Qt.gradientBg),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center backdrop-blur-[2px]",children:o.jsx(be.div,{whileHover:{scale:1.1},className:"p-4 rounded-full bg-primary/20 group-hover:bg-primary/30 transition-all duration-300 border border-primary/20",children:o.jsx(tp,{className:"h-8 w-8 text-primary"})})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background/95 to-transparent backdrop-blur-[1px]",children:o.jsx("p",{className:"text-sm font-medium group-hover:text-primary transition-colors duration-300",children:e})})]}),LA=()=>{const[e,t]=p.useState("A mountain landscape"),[r,n]=p.useState(!1),s=()=>{n(!0),t("A majestic mountain landscape at sunset, dramatic lighting, snow-capped peaks, volumetric clouds, ultra detailed, 8k resolution")};return o.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-4",children:[o.jsxs("div",{className:k("bg-muted/30 p-4 rounded-lg relative overflow-hidden",Qt.cardHover),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsxs("div",{className:"flex justify-between items-center mb-2 relative",children:[o.jsx("p",{className:"text-sm font-medium",children:"Your Prompt"}),o.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"text-xs hover:text-primary transition-colors",children:"Reset"})]}),o.jsx(be.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-muted-foreground",children:e},e)]}),!r&&o.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:o.jsxs(Q,{variant:"outline",size:"sm",onClick:s,className:k("w-full group relative overflow-hidden",Qt.cardHover),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsx(dl,{className:"w-4 h-4 mr-2 text-primary"}),o.jsx("span",{className:"relative",children:"Enhance Prompt"})]})})]})},rf=["/hero-1.jpg","/hero-2.jpg","/hero-3.jpg","/hero-4.jpg"],FA=()=>{const{data:e}=Vt(),[t,r]=p.useState(0),n=Object.entries(e||{}).filter(([i,a])=>a.category!=="NSFW").map(([i,a])=>({id:i,...a,description:$A(i)}));p.useEffect(()=>{const i=setInterval(()=>{r(a=>(a+1)%n.length)},5e3);return()=>clearInterval(i)},[n.length]);const s=n[t];return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center relative",children:[o.jsxs(be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:1,ease:"easeInOut"},className:"space-y-6 relative",children:[o.jsxs("div",{className:Qt.cardGlow,children:[o.jsx(ut,{variant:"outline",className:"mb-2 bg-gradient-to-r from-primary/30 via-primary/20 to-transparent border-primary/30 backdrop-blur-sm",children:"Model"}),o.jsx("h3",{className:k("text-2xl font-bold mb-2",Qt.gradientText,Qt.textGlow),children:s==null?void 0:s.name}),o.jsx("p",{className:"text-muted-foreground backdrop-blur-sm",children:s==null?void 0:s.description})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ut,{variant:"secondary",className:"bg-gradient-to-r from-secondary/50 via-secondary/30 to-transparent backdrop-blur-sm",children:s==null?void 0:s.category}),(s==null?void 0:s.isPremium)&&o.jsx(ut,{variant:"default",className:"bg-gradient-to-r from-orange-500 via-purple-500 to-pink-500 animate-gradient-x backdrop-blur-sm",children:"Premium"})]})]},s==null?void 0:s.id),o.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},transition:{duration:1,ease:"easeInOut"},className:"relative aspect-square rounded-lg overflow-hidden shadow-2xl shadow-primary/20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background/80"}),o.jsx("img",{src:`/model-examples/${s==null?void 0:s.id}.jpg`,alt:s==null?void 0:s.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.1),transparent_70%)] animate-mesh"})]},`image-${s==null?void 0:s.id}`)]})]})},$A=e=>({turbo:"Lightning-fast generation optimized for speed while maintaining quality. Perfect for rapid prototyping and quick iterations.",flux:"Our balanced model offering great quality and reasonable speed. The go-to choice for most creative projects.",fluxDev:"Premium high-fidelity model with enhanced detail and coherence. Ideal for professional-grade creations.",ultra:"The ultimate in image quality, pushing the boundaries of what's possible with AI generation."})[e]||"",VA=()=>{const[e,t]=p.useState("");p.useState(!1);const[r,n]=p.useState(0);return p.useEffect(()=>{const s=()=>{const i=document.querySelectorAll("section[id]");let a="";i.forEach(l=>{const c=l.offsetTop;window.scrollY>=c-100&&(a=l.getAttribute("id"))}),t(a)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),p.useEffect(()=>{const s=setInterval(()=>{n(i=>(i+1)%rf.length)},5e3);return()=>clearInterval(s)},[]),o.jsxs("div",{className:"min-h-screen bg-background/95 backdrop-blur-sm",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 via-background/98 to-background border-b border-border/80",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh pointer-events-none"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh pointer-events-none"}),o.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-8 md:py-16 lg:py-24 relative",children:[o.jsxs(Bl,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-primary/10 hover:bg-primary/20 transition-colors relative z-10 group",children:[o.jsx(ls,{className:"w-4 h-4 group-hover:text-primary transition-colors duration-300"}),o.jsx("span",{className:"group-hover:text-primary transition-colors duration-300",children:"Back to App"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center mt-8",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative z-10 space-y-6",children:[o.jsx(ut,{className:"mb-4 bg-gradient-to-r from-primary/20 via-primary/30 to-primary/10 backdrop-blur-sm border-primary/20",variant:"secondary",children:"Documentation"}),o.jsx("h1",{className:k("text-3xl md:text-4xl lg:text-5xl font-medium tracking-tight",Qt.gradientText,Qt.textGlow),children:"Create Amazing AI Art"}),o.jsx("p",{className:"text-lg md:text-xl text-foreground/70 backdrop-blur-sm",children:"Learn how to use our powerful AI image generation platform to bring your creative vision to life."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[o.jsxs(Q,{size:"lg",className:k(Qt.buttonGradient,"rounded-xl"),onClick:()=>window.open("https://www.youtube.com/watch?v=your-tutorial-id","_blank"),children:[o.jsx(tp,{className:"w-4 h-4 mr-2"}),"Watch Tutorial"]}),o.jsxs(Q,{variant:"outline",size:"lg",className:"rounded-xl border-primary/20 hover:bg-primary/10",onClick:()=>{const s=document.getElementById("features");s&&s.scrollIntoView({behavior:"smooth"})},children:[o.jsx(d1,{className:"w-4 h-4 mr-2"}),"Read Docs"]})]})]}),o.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:k("relative aspect-square rounded-2xl overflow-hidden shadow-2xl shadow-primary/20",Qt.heroGlow,"hidden md:block"),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background/90"}),o.jsx("img",{src:rf[r],alt:"AI Art Example",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.1),transparent_70%)] animate-mesh"})]},r)]})]}),o.jsx("div",{className:"absolute -top-24 right-0 w-96 h-96 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.2),transparent_70%)] rounded-full blur-3xl animate-mesh pointer-events-none"}),o.jsx("div",{className:"absolute -bottom-24 right-48 w-64 h-64 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.25),transparent_70%)] rounded-full blur-2xl animate-mesh pointer-events-none"})]}),o.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-8 md:py-16",children:[o.jsxs("section",{id:"models",className:"mb-24 scroll-mt-16",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-2 bg-gradient-to-r from-primary/20 to-primary/10 border-primary/20",children:"Models"}),o.jsx("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Powerful AI Models"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose from our suite of specialized models, each optimized for different use cases."})]}),o.jsx(FA,{})]}),o.jsx("section",{className:"py-16 md:py-24",id:"features",children:o.jsx("div",{className:"container max-w-6xl",children:o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-4",children:"Features"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Advanced Features Made Simple"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our platform handles the complexity of AI image generation, so you can focus on your creative vision. No technical expertise required - just pure creativity."})]})})}),o.jsxs("section",{id:"getting-started",className:"mb-24 scroll-mt-16",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-2",children:"Getting Started"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Start Creating in Minutes"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Follow our simple guide to begin generating amazing AI art."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsx(Lo,{title:"Quick Start Tutorial"}),o.jsx("div",{className:"space-y-6",children:[{step:1,title:"Enter Your Prompt",description:"Describe your desired image in detail. The more specific you are, the better the results will be."},{step:2,title:"Choose Your Settings",description:"Select your preferred model and adjust settings like size, quality, and style to match your vision."},{step:3,title:"Generate & Share",description:"Click generate and watch your idea come to life. Save your favorites and share them with the community."}].map(({step:s,title:i,description:a})=>o.jsxs(be.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:s*.2},className:"flex gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:i}),o.jsx("p",{className:"text-muted-foreground",children:a})]})]},s))})]})]}),o.jsxs("section",{id:"advanced-techniques",className:"mb-24 scroll-mt-16",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-2",children:"Advanced Techniques"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Master AI Art Creation"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Take your generations to the next level with advanced techniques."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Lr,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(g1,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Prompt Engineering"}),o.jsx("p",{className:"text-muted-foreground",children:"Learn the art of crafting effective prompts that consistently produce amazing results."})]})]}),o.jsx(LA,{})]}),o.jsxs(Lr,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(w1,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Style Keywords"}),o.jsx("p",{className:"text-muted-foreground",children:"Use these powerful keywords to influence the style of your generations."})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["cinematic","photorealistic","anime","digital art","oil painting","watercolor","concept art","illustration","3D render","studio lighting"].map((s,i)=>o.jsx(cc,{children:o.jsxs(uc,{children:[o.jsx(dc,{children:o.jsx(ut,{variant:"secondary",className:"text-sm cursor-help",children:s})}),o.jsx(Ra,{children:o.jsx("p",{children:"Click to copy this style keyword"})})]})},i))})]})]})]}),o.jsxs("section",{id:"tips",className:"mb-24 scroll-mt-16",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-2",children:"Tips & Tricks"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pro Tips for Better Results"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Expert advice to help you create better images."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:_1,title:"Be Specific",tips:["Use detailed descriptions","Specify lighting conditions","Include style references","Mention camera angles"]},{icon:P1,title:"Optimize Settings",tips:["Higher steps for detail","Use seed for consistency","Match aspect ratio to need","Balance quality vs speed"]},{icon:j1,title:"Style Mastery",tips:["Combine multiple styles","Use artistic references","Experiment with models","Save successful prompts"]}].map((s,i)=>o.jsx(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},children:o.jsxs(Lr,{className:"p-6 h-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(s.icon,{className:"h-5 w-5 text-primary"})}),o.jsx("h3",{className:"text-xl font-semibold",children:s.title})]}),o.jsx("ul",{className:"space-y-2",children:s.tips.map((a,l)=>o.jsxs(be.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:i*.2+l*.1},className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(ci,{className:"h-4 w-4 text-primary"}),a]},l))})]})},i))})]}),o.jsxs("section",{id:"resources",className:"scroll-mt-16",children:[o.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[o.jsx(ut,{variant:"outline",className:"mb-2",children:"Resources"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Additional Resources"}),o.jsx("p",{className:"text-xl text-muted-foreground",children:"Helpful resources to expand your knowledge."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx(Lo,{title:"Advanced Prompt Engineering Tutorial"}),o.jsx(Lo,{title:"Creating Consistent Character Designs"})]})]})]})]})},UA=new bv({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),Li=({children:e})=>{const{session:t,loading:r}=it(),n=_t(),[s,i]=p.useState(!0);return p.useEffect(()=>{r||i(!1)},[r]),r||s?o.jsx(Za,{}):!t&&!s?o.jsx(zl,{to:"/login",state:{from:n},replace:!0}):e},qA=({children:e})=>{var a,l;const{session:t,loading:r}=it(),n=_t(),[s,i]=p.useState(!0);if(p.useEffect(()=>{r||i(!1)},[r]),r||s)return o.jsx(Za,{});if(t&&!s){const c=((l=(a=n.state)==null?void 0:a.from)==null?void 0:l.pathname)||"/";return o.jsx(zl,{to:c,replace:!0})}return e};function BA(){const[e,t]=p.useState(!0);return p.useEffect(()=>{const r=setTimeout(()=>{t(!1)},2500);return()=>clearTimeout(r)},[]),o.jsx(kv,{client:UA,children:o.jsx(Z0,{children:o.jsx(yw,{children:o.jsx(Lv,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:o.jsxs(z1,{children:[o.jsxs(ev,{children:[o.jsx(sr,{path:"/image/:imageId",element:o.jsx(FE,{})}),o.jsx(sr,{path:"/docs",element:o.jsx(VA,{})}),o.jsx(sr,{path:"/auth/callback",element:o.jsx(zA,{})}),o.jsx(sr,{path:"/login",element:o.jsx(qA,{children:o.jsx(MA,{})})}),o.jsx(sr,{path:"/",element:o.jsx(Li,{children:o.jsx(IE,{})})}),o.jsx(sr,{path:"/profile/:userId",element:o.jsx(Li,{children:o.jsx(zE,{})})}),o.jsx(sr,{path:"/userprofile",element:o.jsx(Li,{children:o.jsx(RA,{})})}),o.jsx(sr,{path:"/inspiration",element:o.jsx(Li,{children:o.jsx(IA,{})})}),o.jsx(sr,{path:"*",element:o.jsx(zl,{to:"/",replace:!0})})]}),o.jsx(nm,{})]})})})})})}const zA=()=>{const e=We(),[t,r]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const{error:s}=await L.auth.getSession();if(s)throw s;e("/",{replace:!0})}catch(s){console.error("Error handling auth callback:",s),r(s.message)}})()},[e]),t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"Authentication Error"}),o.jsx("p",{className:"text-gray-600",children:t}),o.jsx(Q,{onClick:()=>e("/login",{replace:!0}),children:"Back to Login"})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(Za,{})})};Fo.createRoot(document.getElementById("root")).render(o.jsxs(E.StrictMode,{children:[o.jsx(nm,{theme:"dark",position:"top-center",closeButton:!0,richColors:!0,style:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"1px solid hsl(var(--border))"}}),o.jsx(BA,{})]}));
