const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-DwyaOaOz.js","assets/vendor-BVJavxGW.js","assets/ui-BA32w1ww.js"])))=>i.map(i=>d[i]);
var Ff=Object.defineProperty;var Vf=(e,t,r)=>t in e?Ff(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qn=(e,t,r)=>Vf(e,typeof t!="symbol"?t+"":t,r);import{r as p,j as i,R as k,a as Uf,g as qf,c as at,u as Ze,b as et,d as Se,S as Bf,e as qc,L as Bc,T as zc,C as Hc,f as Lt,F as zf,h as me,i as Tr,k as Wc,l as Hf,m as Wf,n as Gf,o as Or,p as Gc,P as Kf,q as Yf,s as Jf,t as Xf,v as Qf,w as Kc,x as Zf,y as em,z as Yc,V as tm,A as rm,B as Jc,D as sm,O as ws,E as _s,G as Xc,H as ui,I as js,J as ks,K as hi,M as fi,N as Ns,Q as it,X as Ir,U as mi,W as nn,Y as Qc,Z as nm,_ as Io,$ as am,a0 as im,a1 as Zc,a2 as ed,a3 as om,a4 as td,a5 as rd,a6 as sd,a7 as nd,a8 as ad,a9 as lm,aa as id,ab as od,ac as cm,ad as dm,ae as ld,af as cd,ag as dd,ah as Mo,ai as an,aj as on,ak as Ea,al as um,am as hm,an as Zn,ao as Da,ap as fm,aq as mm,ar as Ra,as as ud,at as hd,au as fd,av as md,aw as pd,ax as gd,ay as pm,az as gm,aA as yd,aB as vd,aC as xd,aD as bd,aE as pi,aF as gi,aG as ym,aH as vm,aI as xm,aJ as bm,aK as wm,aL as _m,aM as jm,aN as wd,aO as _d,aP as Mr,aQ as jd,aR as km,aS as Nm,aT as kd,aU as Nd,aV as Sm,aW as ea,aX as Tm,aY as Sd,aZ as Cm,a_ as Pm,a$ as Am,b0 as Em,b1 as Dm,b2 as Rm,b3 as Om,b4 as Im,b5 as Mm,b6 as Lm,b7 as vt,b8 as yi,b9 as $m}from"./vendor-BVJavxGW.js";import"./ui-BA32w1ww.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const Fm=p.createContext();function Vm({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[s,n]=p.useState(()=>localStorage.getItem(r)||t);p.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(l);return}o.classList.add(s)},[s]);const a={theme:s,setTheme:o=>{localStorage.setItem(r,o),n(o)}};return i.jsx(Fm.Provider,{value:a,children:e})}var Um=e=>{switch(e){case"success":return zm;case"info":return Wm;case"warning":return Hm;case"error":return Gm;default:return null}},qm=Array(12).fill(0),Bm=({visible:e,className:t})=>k.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},k.createElement("div",{className:"sonner-spinner"},qm.map((r,s)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),zm=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hm=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wm=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gm=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Km=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ym=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Oa=1,Jm=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,n=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Oa++,a=this.toasts.find(l=>l.id===n),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:r}),{...l,...e,id:n,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:n}),n},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),n=r!==void 0,a,o=s.then(async c=>{if(a=["resolve",c],k.isValidElement(c))n=!1,this.create({id:r,type:"default",message:c});else if(Qm(c)&&!c.ok){n=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){n=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){n=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Oa++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Je=new Jm,Xm=(e,t)=>{let r=(t==null?void 0:t.id)||Oa++;return Je.addToast({title:e,...t,id:r}),r},Qm=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Zm=Xm,ep=()=>Je.toasts,q=Object.assign(Zm,{success:Je.success,info:Je.info,warning:Je.warning,error:Je.error,custom:Je.custom,message:Je.message,promise:Je.promise,dismiss:Je.dismiss,loading:Je.loading},{getHistory:ep});function tp(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}tp(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fs(e){return e.label!==void 0}var rp=3,sp="32px",Lo=4e3,np=356,ap=14,ip=20,op=200;function lp(...e){return e.filter(Boolean).join(" ")}var cp=e=>{var t,r,s,n,a,o,l,c,d,u,h;let{invert:f,toast:m,unstyled:g,interacting:y,setHeights:b,visibleToasts:v,heights:w,index:x,toasts:j,expanded:N,removeToast:T,defaultRichColors:P,closeButton:S,style:C,cancelButtonStyle:M,actionButtonStyle:O,className:A="",descriptionClassName:E="",duration:D,position:F,gap:$,loadingIcon:I,expandByDefault:G,classNames:L,icons:W,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:X,cn:H}=e,[re,ce]=k.useState(!1),[ye,Q]=k.useState(!1),[ne,De]=k.useState(!1),[Fe,Ae]=k.useState(!1),[tt,We]=k.useState(!1),[K,qe]=k.useState(0),[je,ve]=k.useState(0),Be=k.useRef(m.duration||D||Lo),cr=k.useRef(null),Ve=k.useRef(null),dr=x===0,Br=x+1<=v,Te=m.type,Ce=m.dismissible!==!1,ur=m.className||"",zr=m.descriptionClassName||"",yt=k.useMemo(()=>w.findIndex(V=>V.toastId===m.id)||0,[w,m.id]),St=k.useMemo(()=>{var V;return(V=m.closeButton)!=null?V:S},[m.closeButton,S]);k.useMemo(()=>m.duration||D||Lo,[m.duration,D]);let Bt=k.useRef(0),ot=k.useRef(0),hr=k.useRef(0),rt=k.useRef(null),[zt,Hr]=F.split("-"),Ht=k.useMemo(()=>w.reduce((V,z,J)=>J>=yt?V:V+z.height,0),[w,yt]),Wt=Ym(),fr=m.invert||f,xe=Te==="loading";ot.current=k.useMemo(()=>yt*$+Ht,[yt,Ht]),k.useEffect(()=>{ce(!0)},[]),k.useEffect(()=>{let V=Ve.current;if(V){let z=V.getBoundingClientRect().height;return ve(z),b(J=>[{toastId:m.id,height:z,position:m.position},...J]),()=>b(J=>J.filter(ue=>ue.toastId!==m.id))}},[b,m.id]),k.useLayoutEffect(()=>{if(!re)return;let V=Ve.current,z=V.style.height;V.style.height="auto";let J=V.getBoundingClientRect().height;V.style.height=z,ve(J),b(ue=>ue.find(he=>he.toastId===m.id)?ue.map(he=>he.toastId===m.id?{...he,height:J}:he):[{toastId:m.id,height:J,position:m.position},...ue])},[re,m.title,m.description,b,m.id]);let U=k.useCallback(()=>{Q(!0),qe(ot.current),b(V=>V.filter(z=>z.toastId!==m.id)),setTimeout(()=>{T(m)},op)},[m,T,b,ot]);k.useEffect(()=>{if(m.promise&&Te==="loading"||m.duration===1/0||m.type==="loading")return;let V;return N||y||X&&Wt?(()=>{if(hr.current<Bt.current){let z=new Date().getTime()-Bt.current;Be.current=Be.current-z}hr.current=new Date().getTime()})():Be.current!==1/0&&(Bt.current=new Date().getTime(),V=setTimeout(()=>{var z;(z=m.onAutoClose)==null||z.call(m,m),U()},Be.current)),()=>clearTimeout(V)},[N,y,m,Te,X,Wt,U]),k.useEffect(()=>{m.delete&&U()},[U,m.delete]);function ae(){var V,z,J;return W!=null&&W.loading?k.createElement("div",{className:H(L==null?void 0:L.loader,(V=m==null?void 0:m.classNames)==null?void 0:V.loader,"sonner-loader"),"data-visible":Te==="loading"},W.loading):I?k.createElement("div",{className:H(L==null?void 0:L.loader,(z=m==null?void 0:m.classNames)==null?void 0:z.loader,"sonner-loader"),"data-visible":Te==="loading"},I):k.createElement(Bm,{className:H(L==null?void 0:L.loader,(J=m==null?void 0:m.classNames)==null?void 0:J.loader),visible:Te==="loading"})}return k.createElement("li",{tabIndex:0,ref:Ve,className:H(A,ur,L==null?void 0:L.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Te],(r=m==null?void 0:m.classNames)==null?void 0:r[Te]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:P,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":re,"data-promise":!!m.promise,"data-swiped":tt,"data-removed":ye,"data-visible":Br,"data-y-position":zt,"data-x-position":Hr,"data-index":x,"data-front":dr,"data-swiping":ne,"data-dismissible":Ce,"data-type":Te,"data-invert":fr,"data-swipe-out":Fe,"data-expanded":!!(N||G&&re),style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${ye?K:ot.current}px`,"--initial-height":G?"auto":`${je}px`,...C,...m.style},onPointerDown:V=>{xe||!Ce||(cr.current=new Date,qe(ot.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(De(!0),rt.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,z,J,ue;if(Fe||!Ce)return;rt.current=null;let he=Number(((V=Ve.current)==null?void 0:V.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ge=new Date().getTime()-((z=cr.current)==null?void 0:z.getTime()),Ke=Math.abs(he)/Ge;if(Math.abs(he)>=ip||Ke>.11){qe(ot.current),(J=m.onDismiss)==null||J.call(m,m),U(),Ae(!0),We(!1);return}(ue=Ve.current)==null||ue.style.setProperty("--swipe-amount","0px"),De(!1)},onPointerMove:V=>{var z,J;if(!rt.current||!Ce)return;let ue=V.clientY-rt.current.y,he=((z=window.getSelection())==null?void 0:z.toString().length)>0,Ge=zt==="top"?Math.min(0,ue):Math.max(0,ue);Math.abs(Ge)>0&&We(!0),!he&&((J=Ve.current)==null||J.style.setProperty("--swipe-amount",`${Ge}px`))}},St&&!m.jsx?k.createElement("button",{"aria-label":Z,"data-disabled":xe,"data-close-button":!0,onClick:xe||!Ce?()=>{}:()=>{var V;U(),(V=m.onDismiss)==null||V.call(m,m)},className:H(L==null?void 0:L.closeButton,(n=m==null?void 0:m.classNames)==null?void 0:n.closeButton)},(a=W==null?void 0:W.close)!=null?a:Km):null,m.jsx||k.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:k.createElement(k.Fragment,null,Te||m.icon||m.promise?k.createElement("div",{"data-icon":"",className:H(L==null?void 0:L.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ae():null,m.type!=="loading"?m.icon||(W==null?void 0:W[Te])||Um(Te):null):null,k.createElement("div",{"data-content":"",className:H(L==null?void 0:L.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},k.createElement("div",{"data-title":"",className:H(L==null?void 0:L.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?k.createElement("div",{"data-description":"",className:H(E,zr,L==null?void 0:L.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),k.isValidElement(m.cancel)?m.cancel:m.cancel&&Fs(m.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:V=>{var z,J;Fs(m.cancel)&&Ce&&((J=(z=m.cancel).onClick)==null||J.call(z,V),U())},className:H(L==null?void 0:L.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,k.isValidElement(m.action)?m.action:m.action&&Fs(m.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:V=>{var z,J;Fs(m.action)&&((J=(z=m.action).onClick)==null||J.call(z,V),!V.defaultPrevented&&U())},className:H(L==null?void 0:L.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function $o(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Td=p.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,theme:d="light",richColors:u,duration:h,style:f,visibleToasts:m=rp,toastOptions:g,dir:y=$o(),gap:b=ap,loadingIcon:v,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:j,cn:N=lp}=e,[T,P]=k.useState([]),S=k.useMemo(()=>Array.from(new Set([s].concat(T.filter(X=>X.position).map(X=>X.position)))),[T,s]),[C,M]=k.useState([]),[O,A]=k.useState(!1),[E,D]=k.useState(!1),[F,$]=k.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=k.useRef(null),G=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=k.useRef(null),W=k.useRef(!1),Z=k.useCallback(X=>{P(H=>{var re;return(re=H.find(ce=>ce.id===X.id))!=null&&re.delete||Je.dismiss(X.id),H.filter(({id:ce})=>ce!==X.id)})},[]);return k.useEffect(()=>Je.subscribe(X=>{if(X.dismiss){P(H=>H.map(re=>re.id===X.id?{...re,delete:!0}:re));return}setTimeout(()=>{Uf.flushSync(()=>{P(H=>{let re=H.findIndex(ce=>ce.id===X.id);return re!==-1?[...H.slice(0,re),{...H[re],...X},...H.slice(re+1)]:[X,...H]})})})}),[]),k.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:H})=>{$(H?"dark":"light")})}catch{X.addListener(({matches:re})=>{try{$(re?"dark":"light")}catch(ce){console.error(ce)}})}},[d]),k.useEffect(()=>{T.length<=1&&A(!1)},[T]),k.useEffect(()=>{let X=H=>{var re,ce;n.every(ye=>H[ye]||H.code===ye)&&(A(!0),(re=I.current)==null||re.focus()),H.code==="Escape"&&(document.activeElement===I.current||(ce=I.current)!=null&&ce.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[n]),k.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[I.current]),k.createElement("section",{"aria-label":`${x} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},S.map((X,H)=>{var re;let[ce,ye]=X.split("-");return T.length?k.createElement("ol",{key:X,dir:y==="auto"?$o():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ce,"data-lifted":O&&T.length>1&&!a,"data-x-position":ye,style:{"--front-toast-height":`${((re=C[0])==null?void 0:re.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||sp,"--width":`${np}px`,"--gap":`${b}px`,...f},onBlur:Q=>{W.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=Q.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{E||A(!1)},onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},T.filter(Q=>!Q.position&&H===0||Q.position===X).map((Q,ne)=>{var De,Fe;return k.createElement(cp,{key:Q.id,icons:w,index:ne,toast:Q,defaultRichColors:u,duration:(De=g==null?void 0:g.duration)!=null?De:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:(Fe=g==null?void 0:g.closeButton)!=null?Fe:o,interacting:E,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:T.filter(Ae=>Ae.position==Q.position),heights:C.filter(Ae=>Ae.position==Q.position),setHeights:M,expandByDefault:a,gap:b,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:j,cn:N})})):null}))});const dp="modulepreload",up=function(e){return"/ring1/"+e},Fo={},Cr=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=up(c),c in Fo)return;Fo[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":dp,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},hp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Lr);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class vi extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class fp extends vi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mp extends vi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pp extends vi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ia;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ia||(Ia={}));var gp=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class yp{constructor(t,{headers:r={},customFetch:s,region:n=Ia.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=hp(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return gp(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:d}).catch(g=>{throw new fp(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new mp(u);if(!u.ok)throw new pp(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(n){return{data:null,error:n}}})}}var He={},xi={},xn={},Ss={},bn={},wn={},vp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pr=vp();const xp=Pr.fetch,Cd=Pr.fetch.bind(Pr),Pd=Pr.Headers,bp=Pr.Request,wp=Pr.Response,Lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pd,Request:bp,Response:wp,default:Cd,fetch:xp},Symbol.toStringTag,{value:"Module"})),_p=qf(Lr);var _n={};Object.defineProperty(_n,"__esModule",{value:!0});let jp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_n.default=jp;var Ad=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});const kp=Ad(_p),Np=Ad(_n);let Sp=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(u=[],d=null,f=200,m="OK")}catch{a.status===404&&y===""?(f=204,m="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new Np.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(n=n.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,r)}};wn.default=Sp;var Tp=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});const Cp=Tp(wn);let Pp=class extends Cp.default{select(t){let r=!1;const s=(t??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:n=s}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bn.default=Pp;var Ap=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ss,"__esModule",{value:!0});const Ep=Ap(bn);let Dp=class extends Ep.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};Ss.default=Dp;var Rp=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xn,"__esModule",{value:!0});const Wr=Rp(Ss);let Op=class{constructor(t,{headers:r={},schema:s,fetch:n}){this.url=t,this.headers=r,this.schema=s,this.fetch=n}select(t,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Wr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const n="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Wr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Wr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Wr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xn.default=Op;var jn={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.version=void 0;kn.version="0.0.0-automated";Object.defineProperty(jn,"__esModule",{value:!0});jn.DEFAULT_HEADERS=void 0;const Ip=kn;jn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ip.version}`};var Ed=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const Mp=Ed(xn),Lp=Ed(Ss),$p=jn;let Fp=class Dd{constructor(t,{headers:r={},schema:s,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},$p.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(t){const r=new URL(`${this.url}/${t}`);return new Mp.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dd(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:n=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||n?(o=s?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new Lp.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};xi.default=Fp;var $r=at&&at.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(He,"__esModule",{value:!0});He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const Rd=$r(xi);He.PostgrestClient=Rd.default;const Od=$r(xn);He.PostgrestQueryBuilder=Od.default;const Id=$r(Ss);He.PostgrestFilterBuilder=Id.default;const Md=$r(bn);He.PostgrestTransformBuilder=Md.default;const Ld=$r(wn);He.PostgrestBuilder=Ld.default;const $d=$r(_n);He.PostgrestError=$d.default;var Vp=He.default={PostgrestClient:Rd.default,PostgrestQueryBuilder:Od.default,PostgrestFilterBuilder:Id.default,PostgrestTransformBuilder:Md.default,PostgrestBuilder:Ld.default,PostgrestError:$d.default};const{PostgrestClient:Up,PostgrestQueryBuilder:kN,PostgrestFilterBuilder:NN,PostgrestTransformBuilder:SN,PostgrestBuilder:TN,PostgrestError:CN}=Vp,qp="2.11.2",Bp={"X-Client-Info":`realtime-js/${qp}`},zp="1.0.0",Fd=1e4,Hp=1e3;var Nr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nr||(Nr={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var Ma;(function(e){e.websocket="websocket"})(Ma||(Ma={}));var tr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tr||(tr={}));class Wp{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const n=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+n));o=o+n;const c=s.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Vd{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const Vo=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,o)=>(a[o]=Gp(o,e,t,n),a),{})},Gp=(e,t,r,s)=>{const n=t.find(l=>l.name===e),a=n==null?void 0:n.type,o=r[e];return a&&!s.includes(a)?Ud(a,o):La(o)},Ud=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xp(t,r)}switch(e){case fe.bool:return Kp(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return Yp(t);case fe.json:case fe.jsonb:return Jp(t);case fe.timestamp:return Qp(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return La(t);default:return La(t)}},La=e=>e,Kp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yp=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Jp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xp=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Ud(t,l))}return e},Qp=e=>typeof e=="string"?e.replace(" ","T"):e,qd=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ta{constructor(t,r,s={},n=Fd){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Uo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uo||(Uo={}));class os{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=os.syncState(this.state,n,a,o),this.pendingDiffs.forEach(c=>{this.state=os.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=os.syncDiff(this.state,n,a,o),l())}),this.onJoin((n,a,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:o})}),this.onLeave((n,a,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const f=u.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),g=u.filter(b=>m.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(l[d]=g),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},s,n)}static syncDiff(t,r,s,n){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,n(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qo||(qo={}));var Bo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bo||(Bo={}));var bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class bi{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ta(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Vd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new os(this),this.broadcastEndpointURL=qd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(bt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(bt.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(bt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<m;y++){const b=f[y],{filter:{event:v,schema:w,table:x,filter:j}}=b,N=u&&u[y];if(N&&N.event===v&&N.schema===w&&N.table===x&&N.filter===j)g.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),t==null||t(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bt.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new ta(this,ct.leave,{},t);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,r,s){const n=new AbortController,a=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(a),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ta(this,t,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ct;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var g,y,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,s)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,y,b,v,w,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:b,commit_timestamp:v,type:w,errors:x}=g;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(g))}m.callback(f,s)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),a={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&bi.isEqual(n.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vo(t.columns,t.old_record)),r}}const Zp=()=>{},eg=typeof WebSocket<"u",tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rg{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Bp,this.params={},this.timeout=Fd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zp,this.conn=null,this.sendBuffer=[],this.serializer=new Wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Cr(async()=>{const{default:c}=await Promise.resolve().then(()=>Lr);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ma.websocket}`,this.httpEndpoint=qd(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Cr(async()=>{const{default:t}=await import("./browser-DwyaOaOz.js").then(r=>r.b);return{default:t}},__vite__mapDeps([0,1,2])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zp}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return tr.Connecting;case Nr.open:return tr.Open;case Nr.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}channel(t,r={config:{}}){const s=new bi(`realtime:${t}`,r,this);return this.channels.push(s),s}push(t){const{topic:r,event:s,payload:n,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${a})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r}),n.joinedOnce&&n._isJoined()&&n._push(ct.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Hp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:n,payload:a,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(n,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([tg],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class sg{constructor(t,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class wi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ng extends wi{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $a extends wi{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ag=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Bd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Lr);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},ig=()=>ag(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cr(()=>Promise.resolve().then(()=>Lr),void 0)).Response:Response}),Fa=e=>{if(Array.isArray(e))return e.map(r=>Fa(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[n]=Fa(s)}),t};var ar=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),og=(e,t,r)=>ar(void 0,void 0,void 0,function*(){const s=yield ig();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{t(new ng(ra(n),e.status||500))}).catch(n=>{t(new $a(ra(n),n))}):t(new $a(ra(e),e))}),lg=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function Ts(e,t,r,s,n,a){return ar(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,lg(t,s,n,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>og(c,l,s))})})}function ln(e,t,r,s){return ar(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,s)})}function It(e,t,r,s,n){return ar(this,void 0,void 0,function*(){return Ts(e,"POST",t,s,n,r)})}function cg(e,t,r,s,n){return ar(this,void 0,void 0,function*(){return Ts(e,"PUT",t,s,n,r)})}function dg(e,t,r,s){return ar(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function zd(e,t,r,s,n){return ar(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,s,n,r)})}var ze=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hg{constructor(t,r={},s,n){this.url=t,this.headers=r,this.bucketId=s,this.fetch=Bd(n)}uploadOrUpdate(t,r,s,n){return ze(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},zo),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}upload(t,r,s){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,n){return ze(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:zo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ee(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const a=yield It(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new wi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}update(t,r,s){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return ze(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}copy(t,r,s){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,s){return ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),a=yield It(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,s){return ze(this,void 0,void 0,function*(){try{const n=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}download(t,r){return ze(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ln(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ee(l))return{data:null,error:l};throw l}})}info(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield ln(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fa(s),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}exists(t){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield dg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ee(s)&&s instanceof $a){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),n=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&n.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return ze(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}list(t,r,s){return ze(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ug),r),{prefix:t||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fg="2.7.1",mg={"X-Client-Info":`storage-js/${fg}`};var mr=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class pg{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},mg),r),this.fetch=Bd(s)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}getBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return mr(this,void 0,void 0,function*(){try{return{data:yield cg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}emptyBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}deleteBucket(t){return mr(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}}class gg extends pg{constructor(t,r={},s){super(t,r,s)}from(t){return new hg(this.url,this.headers,t,this.fetch)}}const yg="2.47.10";let ss="";typeof Deno<"u"?ss="deno":typeof document<"u"?ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ss="react-native":ss="node";const vg={"X-Client-Info":`supabase-js-${ss}/${yg}`},xg={headers:vg},bg={schema:"public"},wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_g={};var jg=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const kg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Cd:t=fetch,(...r)=>t(...r)},Ng=()=>typeof Headers>"u"?Pd:Headers,Sg=(e,t,r)=>{const s=kg(r),n=Ng();return(a,o)=>jg(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new n(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:d}))})};var Tg=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function Cg(e){return e.replace(/\/$/,"")}function Pg(e,t){const{db:r,auth:s,realtime:n,global:a}=e,{db:o,auth:l,realtime:c,global:d}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},d),a),accessToken:()=>Tg(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Hd="2.67.3",Ag="http://localhost:9999",Eg="supabase.auth.token",Dg={"X-Client-Info":`gotrue-js/${Hd}`},Ho=10,Va="X-Supabase-Api-Version",Wd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Rg(e){return Math.round(Date.now()/1e3)+e}function Og(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},ls=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Ig(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,a)=>{t[a]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const Gd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cr(async()=>{const{default:s}=await Promise.resolve().then(()=>Lr);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Mg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Us=async(e,t)=>{await e.removeItem(t)};function Lg(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",s,n,a,o,l,c,d,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),d=t.indexOf(e.charAt(u++)),s=o<<2|l>>4,n=(l&15)<<4|c>>2,a=(c&3)<<6|d,r=r+String.fromCharCode(s),c!=64&&n!=0&&(r=r+String.fromCharCode(n)),d!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class Nn{constructor(){this.promise=new Nn.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nn.promiseConstructor=Promise;function Wo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=r[1];return JSON.parse(Lg(s))}async function $g(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Fg(e,t){return new Promise((s,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){n(o);return}}})()})}function Vg(e){return("0"+e.toString(16)).substr(-2)}function Ug(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let a=0;a<56;a++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,Vg).join("")}async function qg(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}function Bg(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qg(e);return Bg(r)}async function pr(e,t,r=!1){const s=Ug();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Kd(e,`${t}-code-verifier`,n);const a=await zg(s);return[a,s===a?"plain":"s256"]}const Hg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wg(e){const t=e.headers.get(Va);if(!t||!t.match(Hg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class _i extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gg extends _i{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Kg(e){return te(e)&&e.name==="AuthApiError"}class Yd extends _i{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ir extends _i{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class Dt extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yg(e){return te(e)&&e.name==="AuthSessionMissingError"}class sa extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bs extends ir{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jg(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Go extends ir{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ua extends ir{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function na(e){return te(e)&&e.name==="AuthRetryableFetchError"}class Ko extends ir{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}var Xg=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r};const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qg=[502,503,504];async function Yo(e){var t;if(!Mg(e))throw new Ua(Xt(e),0);if(Qg.includes(e.status))throw new Ua(Xt(e),e.status);let r;try{r=await e.json()}catch(a){throw new Yd(Xt(a),a)}let s;const n=Wg(e);if(n&&n.getTime()>=Wd["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ko(Xt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Ko(Xt(r),e.status,r.weak_password.reasons);throw new Gg(Xt(r),e.status||500,s)}const Zg=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function se(e,t,r,s){var n;const a=Object.assign({},s==null?void 0:s.headers);a[Va]||(a[Va]=Wd["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ey(e,t,r+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function ey(e,t,r,s,n,a){const o=Zg(t,s,n,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Ua(Xt(c),0)}if(l.ok||await Yo(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Yo(c)}}function Rt(e){var t;let r=null;ny(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Rg(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Jo(e){const t=Rt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ty(e){return{data:e,error:null}}function ry(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a}=e,o=Xg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sy(e){return e}function ny(e){return e.access_token&&e.refresh_token&&e.expires_in}var ay=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r};class iy{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=Gd(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=ay(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ry,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:sy});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);d[`${b}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:r,error:s}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}const oy={getItem:e=>ls()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ls()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ls()&&globalThis.localStorage.removeItem(e)}};function Xo(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ly(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gr={debug:!!(globalThis&&ls()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jd extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cy extends Jd{}async function dy(e,t,r){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ly();const uy={url:Ag,storageKey:Eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gr=30*1e3,Qo=3;async function Zo(e,t,r){return await r()}class ms{constructor(t){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ms.nextInstanceID,ms.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},uy),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new iy({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Gd(n.fetch),this.lock=n.lock||Zo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dy:this.lock=Zo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ls()?this.storage=oy:(this.memoryStorage={},this.storage=Xo(this.memoryStorage)):(this.memoryStorage={},this.storage=Xo(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hd}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Ig(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Jg(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?{error:r}:{error:new Yd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Rt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,s,n;try{let a;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await pr(this.storage,this.storageKey)),a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Rt})}else if("phone"in t){const{phone:u,password:h,options:f}=t;a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rt})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jo})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jo})}else throw new qs("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new sa}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,n,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:a,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Rt});if(await Us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:o})}catch(a){if(te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:a,nonce:o}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Rt}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,n,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await pr(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new qs("You must provide either an email or phone number.")}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,s;try{let n,a;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var r,s,n;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await pr(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:ty})}catch(a){if(te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Dt;const{error:n}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:a}=t,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:n,options:a}=t,{data:o,error:l}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async r=>{var s,n,a;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:Mt})})}catch(r){if(te(r))return Yg(r)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:a}=s;if(a)throw a;if(!n.session)throw new Dt;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await pr(this.storage,this.storageKey));const{data:d,error:u}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Mt});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return Wo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const r=Date.now()/1e3;let s=r,n=!0,a=null;const o=Wo(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ft())throw new Bs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Go("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Go("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Bs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:s,provider_refresh_token:n,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(s){if(te(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:a}=r;if(a)return{error:a};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Kg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Og(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:a},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await pr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:n}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(te(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:a,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Fg(async n=>(n>0&&await $g(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rt})),(n,a)=>{const o=200*Math.pow(2,n);return a&&na(a)&&Date.now()+o-s<Gr})}catch(s){if(this._debug(r,"error",s),te(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),ft()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vs(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<n+Ho;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ho}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),na(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Nn;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Dt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),te(a)){const o={session:null,error:a};return na(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Kd(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Gr}ms, refresh threshold is ${Qo} ticks`),n<=Qo&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jd)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);n.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;return a?{data:null,error:a}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;return a?{data:null,error:a}:await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:n},error:a}=t;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}ms.nextInstanceID=0;const hy=ms;class fy extends hy{constructor(t){super(t)}}var my=function(e,t,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):n(u.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class py{constructor(t,r,s){var n,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Cg(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:bg,realtime:_g,auth:Object.assign(Object.assign({},wg),{storageKey:c}),global:xg},u=Pg(s??{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Sg(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Up(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new yp(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return my(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:a,flowType:o,lock:l,debug:c},d,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fy({url:this.authUrl,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new rg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gy=(e,t,r)=>new py(e,t,r),yy="https://axrooawblvsspndfmvan.supabase.co",vy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4cm9vYXdibHZzc3BuZGZtdmFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc4MzYwODUsImV4cCI6MjA0MzQxMjA4NX0.d4bRJe2bq2dKcBFUfttm5UFLyfVT3gdT3LkJSKE2JZU",xy={getItem:e=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("Error retrieving from storage:",t),null}},setItem:(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Error setting storage:",r)}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(t){console.error("Error removing from storage:",t)}}},R=gy(yy,vy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:xy,storageKey:"sb-auth-token",flowType:"pkce",debug:!1}}),Xd=p.createContext(),by=({children:e})=>{const[t,r]=p.useState(null),[s,n]=p.useState(!0),a=Ze();et(),Se();const o=(c=!1)=>{if(r(null),a.invalidateQueries("user"),c)try{R.auth.storage.removeItem("sb-auth-token"),Object.keys(localStorage).forEach(d=>{d.startsWith("supabase.auth.")&&localStorage.removeItem(d)})}catch(d){console.error("Error clearing auth data:",d)}};p.useEffect(()=>{let c=!0,d=null;return(async()=>{try{const{data:{session:h},error:f}=await R.auth.getSession();if(f){console.error("Session error:",f),c&&(o(!1),n(!1));return}if(c){h?(console.log("Initial session found:",h),r(h),a.invalidateQueries("user")):(console.log("No initial session found"),o(!1));const{data:{subscription:m}}=R.auth.onAuthStateChange(async(g,y)=>{if(console.log("Auth state change:",g,y),!!c)switch(g){case"SIGNED_IN":console.log("User signed in:",y),r(y),a.invalidateQueries("user");break;case"SIGNED_OUT":console.log("User signed out"),o(!1);break;case"TOKEN_REFRESHED":console.log("Token refreshed:",y),r(y),a.invalidateQueries("user");break;case"USER_UPDATED":console.log("User updated:",y),r(y),a.invalidateQueries("user");break;case"USER_DELETED":console.log("User deleted"),o(!0);break}});d=m,n(!1)}}catch(h){console.error("Error initializing auth:",h),c&&(o(!1),n(!1))}})(),()=>{c=!1,d&&d.unsubscribe()}},[a]);const l=async()=>{try{await R.auth.signOut(),o(!0)}catch(c){console.error("Error signing out:",c)}n(!1)};return i.jsx(Xd.Provider,{value:{session:t,loading:s,logout:l},children:e})};function Qd(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Qd(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Zd(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Qd(e))&&(s&&(s+=" "),s+=t);return s}const el=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tl=Zd,Cs=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return tl(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:a}=t,o=Object.keys(n).map(d=>{const u=r==null?void 0:r[d],h=a==null?void 0:a[d];if(u===null)return null;const f=el(u)||el(h);return n[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[y,b]=g;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...d,h,f]:d},[]);return tl(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ji="-",wy=e=>{const t=jy(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(ji);return l[0]===""&&l.length!==1&&l.shift(),eu(l,t)||_y(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},eu=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?eu(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(ji);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},rl=/^\[(.+)\]$/,_y=e=>{if(rl.test(e)){const t=rl.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jy=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Ny(Object.entries(e.classGroups),r).forEach(([a,o])=>{qa(o,s,a,t)}),s},qa=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:sl(t,n);a.classGroupId=r;return}if(typeof n=="function"){if(ky(n)){qa(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,o])=>{qa(o,sl(t,a),r,s)})})},sl=(e,t)=>{let r=e;return t.split(ji).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},ky=e=>e.isThemeGetter,Ny=(e,t)=>t?e.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,n]}):e,Sy=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return n(a,o),o},set(a,o){r.has(a)?r.set(a,o):n(a,o)}}},tu="!",Ty=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,n=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(d===0){if(v===n&&(s||l.slice(b,b+a)===t)){c.push(l.slice(u,b)),u=b+a;continue}if(v==="/"){h=b;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(tu),g=m?f.substring(1):f,y=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},Cy=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Py=e=>({cache:Sy(e.cacheSize),parseClassName:Ty(e),...wy(e)}),Ay=/\s+/,Ey=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=t,a=[],o=e.trim().split(Ay);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let g=!!m,y=s(g?f.substring(0,m):f);if(!y){if(!g){l=d+(l.length>0?" "+l:l);continue}if(y=s(f),!y){l=d+(l.length>0?" "+l:l);continue}g=!1}const b=Cy(u).join(":"),v=h?b+tu:b,w=v+y;if(a.includes(w))continue;a.push(w);const x=n(y,g);for(let j=0;j<x.length;++j){const N=x[j];a.push(v+N)}l=d+(l.length>0?" "+l:l)}return l};function Dy(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ru(t))&&(s&&(s+=" "),s+=r);return s}const ru=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=ru(e[s]))&&(r&&(r+=" "),r+=t);return r};function Ry(e,...t){let r,s,n,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=Py(d),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Ey(c,r);return n(c,u),u}return function(){return a(Dy.apply(null,arguments))}}const pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},su=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oy=/^\d+\/\d+$/,Iy=new Set(["px","full","screen"]),My=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ly=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$y=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xt=e=>Sr(e)||Iy.has(e)||Oy.test(e),Ct=e=>Fr(e,"length",Ky),Sr=e=>!!e&&!Number.isNaN(Number(e)),aa=e=>Fr(e,"number",Sr),Kr=e=>!!e&&Number.isInteger(Number(e)),Uy=e=>e.endsWith("%")&&Sr(e.slice(0,-1)),ee=e=>su.test(e),Pt=e=>My.test(e),qy=new Set(["length","size","percentage"]),By=e=>Fr(e,qy,nu),zy=e=>Fr(e,"position",nu),Hy=new Set(["image","url"]),Wy=e=>Fr(e,Hy,Jy),Gy=e=>Fr(e,"",Yy),Yr=()=>!0,Fr=(e,t,r)=>{const s=su.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},Ky=e=>Ly.test(e)&&!$y.test(e),nu=()=>!1,Yy=e=>Fy.test(e),Jy=e=>Vy.test(e),Xy=()=>{const e=pe("colors"),t=pe("spacing"),r=pe("blur"),s=pe("brightness"),n=pe("borderColor"),a=pe("borderRadius"),o=pe("borderSpacing"),l=pe("borderWidth"),c=pe("contrast"),d=pe("grayscale"),u=pe("hueRotate"),h=pe("invert"),f=pe("gap"),m=pe("gradientColorStops"),g=pe("gradientColorStopPositions"),y=pe("inset"),b=pe("margin"),v=pe("opacity"),w=pe("padding"),x=pe("saturate"),j=pe("scale"),N=pe("sepia"),T=pe("skew"),P=pe("space"),S=pe("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ee,t],A=()=>[ee,t],E=()=>["",xt,Ct],D=()=>["auto",Sr,ee],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ee],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Sr,ee];return{cacheSize:500,separator:":",theme:{colors:[Yr],spacing:[xt,Ct],blur:["none","",Pt,ee],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Pt,ee],borderSpacing:A(),borderWidth:E(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[Uy,Ct],inset:O(),margin:O(),opacity:Z(),padding:A(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[Pt]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ee]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kr,ee]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Kr,ee]}],"grid-cols":[{"grid-cols":[Yr]}],"col-start-end":[{col:["auto",{span:["full",Kr,ee]},ee]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Yr]}],"row-start-end":[{row:["auto",{span:[Kr,ee]},ee]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[Pt]},Pt]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pt,Ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",aa]}],"font-family":[{font:[Yr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Sr,aa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xt,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xt,Ct]}],"underline-offset":[{"underline-offset":["auto",xt,ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),zy]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",By]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[xt,ee]}],"outline-w":[{outline:[xt,Ct]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xt,Ct]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pt,Gy]}],"shadow-color":[{shadow:[Yr]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pt,ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Kr,ee]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xt,Ct,aa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qy=Ry(Xy);function _(...e){return Qy(Zd(e))}const ki=Cs("inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary/90 text-primary-foreground hover:bg-primary/80 shadow-sm",destructive:"bg-destructive/80 text-destructive-foreground hover:bg-destructive/70 shadow-sm",outline:"bg-background/50 hover:bg-accent/10 hover:text-accent-foreground",secondary:"bg-secondary/60 text-secondary-foreground hover:bg-secondary/50",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline decoration-primary/30"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-lg px-3",lg:"h-10 rounded-xl px-6",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),B=p.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},a)=>{const o=s?Bf:"button";return i.jsx(o,{className:_(ki({variant:t,size:r,className:e})),ref:a,...n})});B.displayName="Button";const Ps=p.forwardRef(({className:e,type:t,error:r,...s},n)=>i.jsx("input",{type:t,className:_("flex h-10 w-full rounded-xl px-4 py-2 text-sm","bg-muted/10 hover:bg-muted/20","border border-border/80 hover:border-border/100","transition-all duration-200","placeholder:text-muted-foreground/50","focus-visible:outline-none focus-visible:bg-muted/30","focus-visible:border-primary/20","disabled:cursor-not-allowed disabled:opacity-50",r&&["border-destructive/50","focus-visible:ring-destructive/40","hover:border-destructive/60","bg-destructive/10 hover:bg-destructive/20","focus-visible:bg-destructive/20"],e),ref:n,...s}));Ps.displayName="Input";const Zy=Cs("text-sm font-medium leading-none text-foreground/80 transition-colors peer-disabled:cursor-not-allowed peer-disabled:opacity-40"),au=p.forwardRef(({className:e,...t},r)=>i.jsx(qc,{ref:r,className:_(Zy(),e),...t}));au.displayName=qc.displayName;const e0=Cs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),t0=p.forwardRef(({className:e,variant:t,...r},s)=>i.jsx("div",{ref:s,role:"alert",className:_(e0({variant:t}),e),...r}));t0.displayName="Alert";const r0=p.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:_("mb-1 font-medium leading-none tracking-tight",e),...t}));r0.displayName="AlertTitle";const s0=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("text-sm [&_p]:leading-relaxed",e),...t}));s0.displayName="AlertDescription";const n0=p.forwardRef(({className:e,...t},r)=>i.jsx(Bc,{ref:r,className:_("inline-flex h-9 items-center justify-center rounded-xl p-1 text-muted-background",e),...t}));n0.displayName=Bc.displayName;const a0=p.forwardRef(({className:e,...t},r)=>i.jsx(zc,{ref:r,className:_("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-4 py-2 text-foreground text-sm font-medium","ring-offset-primary transition-all duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-40","data-[state=active]:bg-primary/60 data-[state=active]:text-background",e),...t}));a0.displayName=zc.displayName;const i0=p.forwardRef(({className:e,...t},r)=>i.jsx(Hc,{ref:r,className:_("mt-3 ring-offset-primary transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));i0.displayName=Hc.displayName;const o0=({buttonText:e})=>{const[t,r]=p.useState(!1),[s,n]=p.useState(""),a=async()=>{n(""),r(!0);try{const{data:o,error:l}=await R.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(l)throw l}catch(o){console.error("Error signing in with Google:",o.message),n(o.message||"Failed to sign in with Google"),q.error(o.message||"Failed to sign in with Google")}finally{r(!1)}};return i.jsxs("div",{className:"w-full space-y-3 flex flex-col items-center",children:[i.jsxs(B,{className:_("w-auto h-8 md:h-10","rounded-full text-sm md:text-base","bg-primary hover:bg-zinc-50 text-black","border border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","backdrop-blur-[2px]","transition-all duration-300","hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","hover:border-border/20","disabled:opacity-70"),onClick:a,disabled:t,children:[t?i.jsx(Lt,{className:_("mr-2 h-4 w-4 md:h-5 md:w-5","animate-spin text-foreground/70")}):i.jsx(zf,{className:"mr-2 h-5 w-5 md:h-6 md:w-6"}),e||"Continue with Google"]}),s&&i.jsx("div",{className:_("p-3 rounded-lg","bg-destructive/5 text-destructive/90","text-xs md:text-sm text-center","border border-destructive/10","transition-all duration-200"),children:s})]})},$e=()=>{const e=p.useContext(Xd);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},iu=p.createContext(),As=()=>{const e=p.useContext(iu);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},l0=({children:e})=>{var c;const[t,r]=p.useState([]),[s,n]=p.useState(0),{session:a}=$e();p.useEffect(()=>{var h;if(!((h=a==null?void 0:a.user)!=null&&h.id))return;const d=async()=>{const{data:f}=await R.from("notifications").select("*").eq("user_id",a.user.id).order("created_at",{ascending:!1});r(f||[]);const m=(f||[]).filter(g=>!g.is_read).length;n(m)};d();const u=R.channel("notifications_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${a.user.id}`},()=>{d()}).subscribe();return()=>{R.removeChannel(u)}},[(c=a==null?void 0:a.user)==null?void 0:c.id]);const o=async d=>{const{error:u}=await R.from("notifications").update({is_read:!0}).eq("id",d);u||(r(h=>h.map(f=>f.id===d?{...f,is_read:!0}:f)),n(h=>Math.max(0,h-1)))},l=async d=>{const{error:u}=await R.from("notifications").delete().eq("id",d);if(!u){const h=t.find(f=>f.id===d);r(f=>f.filter(m=>m.id!==d)),h&&!h.is_read&&n(f=>Math.max(0,f-1))}};return i.jsx(iu.Provider,{value:{notifications:t,unreadCount:s,markAsRead:o,deleteNotification:l},children:e})},ou=e=>{const t=Ze(),r=async()=>{if(!e)return{credit_count:0,bonus_credits:0,last_refill_time:null};const{data:u,error:h}=await R.from("profiles").select("credit_count, bonus_credits, last_refill_time").eq("id",e).single();if(h)throw h;return u},s=async({quality:u,imageCount:h=1})=>{let f;if(typeof u=="string"?f={HD:1,"HD+":2,"4K":3}[u]*h:f=u,!f)throw new Error("Invalid credit cost");const{data:m}=await R.from("profiles").select("credit_count, bonus_credits").eq("id",e).single();if(!m)throw new Error("Profile not found");if(m.credit_count+m.bonus_credits<f)return-1;let y=m.credit_count,b=m.bonus_credits;if(m.credit_count>=f)y-=f;else{const w=f-m.credit_count;y=0,b-=w}const{error:v}=await R.from("profiles").update({credit_count:y,bonus_credits:b}).eq("id",e);if(v)throw v;return y+b},n=async u=>{const{data:h,error:f}=await R.from("profiles").update({bonus_credits:R.raw(`bonus_credits + ${u}`)}).eq("id",e).select("bonus_credits").single();if(f)throw f;return h.bonus_credits},{data:a,isLoading:o,error:l}=me({queryKey:["userCredits",e],queryFn:r,enabled:!!e,refetchInterval:6e4,initialData:{credit_count:0,bonus_credits:0,last_refill_time:null}}),c=Tr({mutationFn:s,onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}}),d=Tr({mutationFn:n,onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}});return{credits:(a==null?void 0:a.credit_count)??0,bonusCredits:(a==null?void 0:a.bonus_credits)??0,totalCredits:((a==null?void 0:a.credit_count)??0)+((a==null?void 0:a.bonus_credits)??0),lastRefillTime:a==null?void 0:a.last_refill_time,isLoading:o,error:l,updateCredits:c.mutate,addBonusCredits:d.mutate}},Ba={"9:21":{width:439,height:1024},"9:16":{width:576,height:1024},"2:3":{width:683,height:1024},"3:4":{width:768,height:1024},"4:5":{width:819,height:1024},"10:16":{width:640,height:1024},"1:2":{width:512,height:1024},"1:1":{width:1024,height:1024},"5:4":{width:1024,height:819},"4:3":{width:1024,height:768},"3:2":{width:1024,height:683},"16:10":{width:1024,height:640},"16:9":{width:1024,height:576},"2:1":{width:1024,height:512},"21:9":{width:1024,height:439}},c0={HD:1024,"HD+":1536},d0=(e,t)=>{const r=e/t;let s="1:1",n=1/0;return Object.entries(Ba).forEach(([a,o])=>{const l=o.width/o.height,c=Math.abs(l-r);c<n&&(n=c,s=a)}),s},nl=e=>Math.floor(e/16)*16,u0=(e,t,r,s,n)=>{let a,o;if(e&&Ba[t]){const{width:l,height:c}=Ba[t],d=l/c;d>1?(a=n,o=Math.round(a/d)):(o=n,a=Math.round(o*d))}else a=Math.min(n,r),o=Math.min(n,s);return a=nl(a),o=nl(o),{width:a,height:o,aspectRatio:e?t:d0(a,o)}},h0=async(e,t,r)=>{if(!r)return e;const s=r[t];return e+((s==null?void 0:s.promptSuffix)||"")},lu=5,ps=new Map,f0=e=>{ps.set(e,0)},m0=e=>{const t=ps.get(e)||0;return ps.set(e,t+1),t+1},p0=e=>ps.get(e)||0,al=e=>{ps.delete(e)},g0=e=>{switch(e){case 504:return 3e4;case 503:return 12e4;case 500:return 1e4;case 429:return 2e3;default:return 5e3}},y0=(e,t)=>{const r=p0(t);return[500,503,504,429].includes(e)&&r<lu},v0=async(e,t,r)=>{if(!e.ok){let s;try{const n=await e.json();s=n.error||e.statusText,console.error("API response error:",n)}catch{s=e.statusText}if(y0(e.status,t)){const n=m0(t),a=g0(e.status);return console.log(`Retrying image generation in ${a/1e3} seconds. Attempt ${n} of ${lu}`),e.status===429?(console.log("Rate limit reached, retrying with a different API key"),new Promise(o=>setTimeout(o,a)).then(()=>r(!0))):new Promise(o=>setTimeout(o,a)).then(()=>r())}throw al(t),new Error(`API error: ${s}`)}return al(t),await e.blob()},x0=({session:e,prompt:t,seed:r,randomizeSeed:s,width:n,height:a,model:o,quality:l,useAspectRatio:c,aspectRatio:d,updateCredits:u,setGeneratingImages:h,modelConfigs:f,imageCount:m=1,negativePrompt:g})=>{const y=p.useRef([]),[b,v]=p.useState(!1),w=p.useCallback(async()=>{if(b||y.current.length===0)return;v(!0);const j=y.current[0];try{const{generationId:N,model:T,quality:P,finalWidth:S,finalHeight:C,modifiedPrompt:M,actualSeed:O,isPrivate:A,negativePrompt:E,modelConfig:D}=j;h($=>$.map(I=>I.id===N?{...I,status:"processing"}:I));const F=async($=!1)=>{try{f0(N);const{data:I,error:G}=await R.from("huggingface_api_keys").select("api_key").eq("is_active",!0).order("last_used_at",{ascending:!0}).limit(1).single();if(G)throw h(Q=>Q.filter(ne=>ne.id!==N)),q.error("Failed to get API key"),new Error(`Failed to get API key: ${G.message}`);if(!I)throw h(Q=>Q.filter(ne=>ne.id!==N)),q.error("No active API key available"),new Error("No active API key available");await R.from("huggingface_api_keys").update({last_used_at:new Date().toISOString()}).eq("api_key",I.api_key);const L={seed:O,width:S,height:C,...D.steps&&{num_inference_steps:parseInt(D.steps)},...D.use_guidance&&{guidance_scale:D.defaultguidance},...D.use_negative_prompt&&E&&{negative_prompt:E}},W=await fetch(D==null?void 0:D.apiUrl,{headers:{Authorization:`Bearer ${I.api_key}`,"Content-Type":"application/json","x-wait-for-model":"true"},method:"POST",body:JSON.stringify({inputs:M,parameters:L})}),Z=await v0(W,N,()=>F(W.status===429));if(!Z){h(Q=>Q.filter(ne=>ne.id!==N)),q.error("Failed to generate image");return}if(!Z||Z.size===0)throw h(Q=>Q.filter(ne=>ne.id!==N)),q.error("Generated image is invalid"),new Error("Generated image is empty or invalid");const X=Date.now(),H=`${e.user.id}/${X}.png`,{error:re}=await R.storage.from("user-images").upload(H,Z);if(re)throw re;const{data:ce,error:ye}=await R.from("user_images").insert([{user_id:e.user.id,storage_path:H,prompt:M,seed:O,width:S,height:C,model:T,quality:P,aspect_ratio:j.finalAspectRatio,is_private:A}]).select().single();if(ye)throw console.error("Error inserting image record:",ye),ye;h(Q=>Q.map(ne=>ne.id===N?{...ne,status:"completed"}:ne)),q.success(`Image generated successfully! (${A?"Private":"Public"})`)}catch(I){console.error("Error generating image:",I),q.error("Failed to generate image"),h(G=>G.filter(L=>L.id!==N))}};await F()}catch(N){console.error("Error in generation:",N)}finally{y.current.shift(),v(!1),y.current.length>0&&w()}},[b,e,h,u]);return{generateImage:async(j=!1,N=null)=>{var M;if(!e||!t||!f){!e&&q.error("Please sign in to generate images"),!t&&q.error("Please enter a prompt"),!f&&console.error("Model configs not loaded");return}const T={model:o,quality:l,useAspectRatio:c,aspectRatio:d,width:n,height:a,negativePrompt:g,modelConfig:f[o],maxDimension:c0[l]};if(!T.modelConfig){q.error("Invalid model selected");return}if((M=T.modelConfig)!=null&&M.qualityLimits&&!T.modelConfig.qualityLimits.includes(T.quality)){q.error(`Quality ${l} not supported for model ${o}`);return}try{if(await u({quality:T.quality,imageCount:m})===-1){q.error("Insufficient credits");return}}catch(O){console.error("Error updating credits:",O),q.error("Failed to process credits");return}const{width:P,height:S,aspectRatio:C}=u0(T.useAspectRatio,T.aspectRatio,T.width,T.height,T.maxDimension);for(let O=0;O<m;O++){const A=s?Math.floor(Math.random()*1e6):r+O,E=Date.now().toString()+O,D=await h0(N||t,T.model,f),F={generationId:E,model:T.model,quality:T.quality,finalWidth:P,finalHeight:S,finalAspectRatio:C,modifiedPrompt:D,actualSeed:A,isPrivate:j,negativePrompt:T.negativePrompt,modelConfig:T.modelConfig};y.current.push(F),h($=>[...$,{id:E,prompt:D,seed:A,width:P,height:S,status:"pending",isPrivate:j,model:T.model,quality:T.quality}])}b||w()},isProcessing:b}},cu=()=>{const[e,t]=p.useState(!0),[r,s]=p.useState(0);return p.useEffect(()=>{const n=()=>{const a=window.scrollY;a<r?t(!0):a>50&&a>r&&t(!1),s(a)};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[r]),e};var b0=Object.defineProperty,w0=(e,t)=>{for(var r in t)b0(e,r,{get:t[r],enumerable:!0})},Ni={};w0(Ni,{audioClassification:()=>A0,audioToAudio:()=>R0,automaticSpeechRecognition:()=>E0,chatCompletion:()=>Z0,chatCompletionStream:()=>ev,documentQuestionAnswering:()=>tv,featureExtraction:()=>U0,fillMask:()=>q0,imageClassification:()=>O0,imageSegmentation:()=>I0,imageToImage:()=>F0,imageToText:()=>M0,objectDetection:()=>L0,questionAnswering:()=>B0,request:()=>le,sentenceSimilarity:()=>z0,streamingRequest:()=>Sn,summarization:()=>H0,tableQuestionAnswering:()=>W0,tabularClassification:()=>nv,tabularRegression:()=>sv,textClassification:()=>G0,textGeneration:()=>K0,textGenerationStream:()=>Y0,textToImage:()=>$0,textToSpeech:()=>D0,tokenClassification:()=>J0,translation:()=>X0,visualQuestionAnswering:()=>rv,zeroShotClassification:()=>Q0,zeroShotImageClassification:()=>V0});function _0(e,t){return Object.assign({},...t.map(r=>{if(e[r]!==void 0)return{[r]:e[r]}}))}function j0(e,t){return e.includes(t)}function k0(e,t){const r=Array.isArray(t)?t:[t],s=Object.keys(e).filter(n=>!j0(r,n));return _0(e,s)}function en(e){return/^http(s?):/.test(e)||e.startsWith("/")}var yr=new Map,N0=10*60*1e3,S0=1e3,du="https://huggingface.co";async function uu(e,t,r){if(en(e))return null;const s=`${e}:${t}`;let n=yr.get(s);if(n&&n.date<new Date(Date.now()-N0)&&(yr.delete(s),n=void 0),n===void 0){const a=await((r==null?void 0:r.fetch)??fetch)(`${du}/api/models/${e}?expand[]=pipeline_tag`,{headers:t?{Authorization:`Bearer ${t}`}:{}}).then(o=>o.json()).then(o=>o.pipeline_tag).catch(()=>null);if(!a)return null;n={task:a,date:new Date},yr.set(s,{task:a,date:new Date}),yr.size>S0&&yr.delete(yr.keys().next().value)}return n.task}var il="https://api-inference.huggingface.co",zs=null;async function hu(e,t){const{accessToken:r,endpointUrl:s,...n}=e;let{model:a}=e;const{forceTask:o,includeCredentials:l,taskHint:c,wait_for_model:d,use_cache:u,dont_load_model:h,chatCompletion:f}=t??{},m={};if(r&&(m.Authorization=`Bearer ${r}`),!a&&!zs&&c){const w=await fetch(`${du}/api/tasks`);w.ok&&(zs=await w.json())}if(!a&&zs&&c){const w=zs[c];w&&(a=w.models[0].id)}if(!a)throw new Error("No model provided, and no default model found for this task");const g="data"in e&&!!e.data;g||(m["Content-Type"]="application/json"),d&&(m["X-Wait-For-Model"]="true"),u===!1&&(m["X-Use-Cache"]="false"),h&&(m["X-Load-Model"]="0");let y=(()=>{if(s&&en(a))throw new TypeError("Both model and endpointUrl cannot be URLs");return en(a)?(console.warn("Using a model URL is deprecated, please use the `endpointUrl` parameter instead"),a):s||(o?`${il}/pipeline/${o}/${a}`:`${il}/models/${a}`)})();f&&!y.endsWith("/chat/completions")&&(y+="/v1/chat/completions");let b;typeof l=="string"?b=l:l===!0&&(b="include");const v={headers:m,method:"POST",body:g?e.data:JSON.stringify({...n.model&&en(n.model)?k0(n,"model"):n}),...b&&{credentials:b},signal:t==null?void 0:t.signal};return{url:y,info:v}}async function le(e,t){var a,o;const{url:r,info:s}=await hu(e,t),n=await((t==null?void 0:t.fetch)??fetch)(r,s);if((t==null?void 0:t.retry_on_error)!==!1&&n.status===503&&!(t!=null&&t.wait_for_model))return le(e,{...t,wait_for_model:!0});if(!n.ok){if((a=n.headers.get("Content-Type"))!=null&&a.startsWith("application/json")){const l=await n.json();if([400,422,404,500].includes(n.status)&&(t!=null&&t.chatCompletion))throw new Error(`Server ${e.model} does not seem to support chat completion. Error: ${l.error}`);if(l.error)throw new Error(JSON.stringify(l.error))}throw new Error("An error occurred while fetching the blob")}return(o=n.headers.get("Content-Type"))!=null&&o.startsWith("application/json")?await n.json():await n.blob()}function T0(e){let t,r,s,n=!1;return function(o){t===void 0?(t=o,r=0,s=-1):t=P0(t,o);const l=t.length;let c=0;for(;r<l;){n&&(t[r]===10&&(c=++r),n=!1);let d=-1;for(;r<l&&d===-1;++r)switch(t[r]){case 58:s===-1&&(s=r-c);break;case 13:n=!0;case 10:d=r;break}if(d===-1)break;e(t.subarray(c,d),s),c=r,s=-1}c===l?t=void 0:c!==0&&(t=t.subarray(c),r-=c)}}function C0(e,t,r){let s=ol();const n=new TextDecoder;return function(o,l){if(o.length===0)r==null||r(s),s=ol();else if(l>0){const c=n.decode(o.subarray(0,l)),d=l+(o[l+1]===32?2:1),u=n.decode(o.subarray(d));switch(c){case"data":s.data=s.data?s.data+`
`+u:u;break;case"event":s.event=u;break;case"id":e(s.id=u);break;case"retry":const h=parseInt(u,10);isNaN(h)||t(s.retry=h);break}}}}function P0(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function ol(){return{data:"",event:"",id:"",retry:void 0}}async function*Sn(e,t){var d,u;const{url:r,info:s}=await hu({...e,stream:!0},t),n=await((t==null?void 0:t.fetch)??fetch)(r,s);if((t==null?void 0:t.retry_on_error)!==!1&&n.status===503&&!(t!=null&&t.wait_for_model))return yield*Sn(e,{...t,wait_for_model:!0});if(!n.ok){if((d=n.headers.get("Content-Type"))!=null&&d.startsWith("application/json")){const h=await n.json();if([400,422,404,500].includes(n.status)&&(t!=null&&t.chatCompletion))throw new Error(`Server ${e.model} does not seem to support chat completion. Error: ${h.error}`);if(h.error)throw new Error(h.error)}throw new Error(`Server response contains error: ${n.status}`)}if(!((u=n.headers.get("content-type"))!=null&&u.startsWith("text/event-stream")))throw new Error("Server does not support event stream content type, it returned "+n.headers.get("content-type"));if(!n.body)return;const a=n.body.getReader();let o=[];const c=T0(C0(()=>{},()=>{},h=>{o.push(h)}));try{for(;;){const{done:h,value:f}=await a.read();if(h)return;c(f);for(const m of o)if(m.data.length>0){if(m.data==="[DONE]")return;const g=JSON.parse(m.data);if(typeof g=="object"&&g!==null&&"error"in g)throw new Error(g.error);yield g}o=[]}}finally{a.releaseLock()}}var de=class extends TypeError{constructor(e){super(`Invalid inference output: ${e}. Use the 'request' method with the same parameters to do a custom call with no type checking.`),this.name="InferenceOutputError"}};async function A0(e,t){const r=await le(e,{...t,taskHint:"audio-classification"});if(!(Array.isArray(r)&&r.every(n=>typeof n.label=="string"&&typeof n.score=="number")))throw new de("Expected Array<{label: string, score: number}>");return r}async function E0(e,t){const r=await le(e,{...t,taskHint:"automatic-speech-recognition"});if(!(typeof(r==null?void 0:r.text)=="string"))throw new de("Expected {text: string}");return r}async function D0(e,t){const r=await le(e,{...t,taskHint:"text-to-speech"});if(!(r&&r instanceof Blob))throw new de("Expected Blob");return r}async function R0(e,t){const r=await le(e,{...t,taskHint:"audio-to-audio"});if(!(Array.isArray(r)&&r.every(n=>typeof n.label=="string"&&typeof n.blob=="string"&&typeof n["content-type"]=="string")))throw new de("Expected Array<{label: string, blob: string, content-type: string}>");return r}async function O0(e,t){const r=await le(e,{...t,taskHint:"image-classification"});if(!(Array.isArray(r)&&r.every(n=>typeof n.label=="string"&&typeof n.score=="number")))throw new de("Expected Array<{label: string, score: number}>");return r}async function I0(e,t){const r=await le(e,{...t,taskHint:"image-segmentation"});if(!(Array.isArray(r)&&r.every(n=>typeof n.label=="string"&&typeof n.mask=="string"&&typeof n.score=="number")))throw new de("Expected Array<{label: string, mask: string, score: number}>");return r}async function M0(e,t){var s;const r=(s=await le(e,{...t,taskHint:"image-to-text"}))==null?void 0:s[0];if(typeof(r==null?void 0:r.generated_text)!="string")throw new de("Expected {generated_text: string}");return r}async function L0(e,t){const r=await le(e,{...t,taskHint:"object-detection"});if(!(Array.isArray(r)&&r.every(n=>typeof n.label=="string"&&typeof n.score=="number"&&typeof n.box.xmin=="number"&&typeof n.box.ymin=="number"&&typeof n.box.xmax=="number"&&typeof n.box.ymax=="number")))throw new de("Expected Array<{label:string; score:number; box:{xmin:number; ymin:number; xmax:number; ymax:number}}>");return r}async function $0(e,t){const r=await le(e,{...t,taskHint:"text-to-image"});if(!(r&&r instanceof Blob))throw new de("Expected Blob");return r}function Tn(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach(r=>{t.push(String.fromCharCode(r))}),globalThis.btoa(t.join(""))}}async function F0(e,t){let r;e.parameters?r={...e,inputs:Tn(new Uint8Array(e.inputs instanceof ArrayBuffer?e.inputs:await e.inputs.arrayBuffer()))}:r={accessToken:e.accessToken,model:e.model,data:e.inputs};const s=await le(r,{...t,taskHint:"image-to-image"});if(!(s&&s instanceof Blob))throw new de("Expected Blob");return s}async function V0(e,t){const r={...e,inputs:{image:Tn(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},s=await le(r,{...t,taskHint:"zero-shot-image-classification"});if(!(Array.isArray(s)&&s.every(a=>typeof a.label=="string"&&typeof a.score=="number")))throw new de("Expected Array<{label: string, score: number}>");return s}async function U0(e,t){const r=e.model?await uu(e.model,e.accessToken,t):void 0,s=await le(e,{...t,taskHint:"feature-extraction",...r==="sentence-similarity"&&{forceTask:"feature-extraction"}});let n=!0;const a=(o,l,c=0)=>c>l?!1:o.every(d=>Array.isArray(d))?o.every(d=>a(d,l,c+1)):o.every(d=>typeof d=="number");if(n=Array.isArray(s)&&a(s,3,0),!n)throw new de("Expected Array<number[][][] | number[][] | number[] | number>");return s}async function q0(e,t){const r=await le(e,{...t,taskHint:"fill-mask"});if(!(Array.isArray(r)&&r.every(n=>typeof n.score=="number"&&typeof n.sequence=="string"&&typeof n.token=="number"&&typeof n.token_str=="string")))throw new de("Expected Array<{score: number, sequence: string, token: number, token_str: string}>");return r}async function B0(e,t){const r=await le(e,{...t,taskHint:"question-answering"});if(!(typeof r=="object"&&!!r&&typeof r.answer=="string"&&typeof r.end=="number"&&typeof r.score=="number"&&typeof r.start=="number"))throw new de("Expected {answer: string, end: number, score: number, start: number}");return r}async function z0(e,t){const r=e.model?await uu(e.model,e.accessToken,t):void 0,s=await le(e,{...t,taskHint:"sentence-similarity",...r==="feature-extraction"&&{forceTask:"sentence-similarity"}});if(!(Array.isArray(s)&&s.every(a=>typeof a=="number")))throw new de("Expected number[]");return s}async function H0(e,t){const r=await le(e,{...t,taskHint:"summarization"});if(!(Array.isArray(r)&&r.every(n=>typeof(n==null?void 0:n.summary_text)=="string")))throw new de("Expected Array<{summary_text: string}>");return r==null?void 0:r[0]}async function W0(e,t){const r=await le(e,{...t,taskHint:"table-question-answering"});if(!(typeof(r==null?void 0:r.aggregator)=="string"&&typeof r.answer=="string"&&Array.isArray(r.cells)&&r.cells.every(n=>typeof n=="string")&&Array.isArray(r.coordinates)&&r.coordinates.every(n=>Array.isArray(n)&&n.every(a=>typeof a=="number"))))throw new de("Expected {aggregator: string, answer: string, cells: string[], coordinates: number[][]}");return r}async function G0(e,t){var n;const r=(n=await le(e,{...t,taskHint:"text-classification"}))==null?void 0:n[0];if(!(Array.isArray(r)&&r.every(a=>typeof(a==null?void 0:a.label)=="string"&&typeof a.score=="number")))throw new de("Expected Array<{label: string, score: number}>");return r}function Cn(e){return Array.isArray(e)?e:[e]}async function K0(e,t){const r=Cn(await le(e,{...t,taskHint:"text-generation"}));if(!(Array.isArray(r)&&r.every(n=>typeof(n==null?void 0:n.generated_text)=="string")))throw new de("Expected Array<{generated_text: string}>");return r==null?void 0:r[0]}async function*Y0(e,t){yield*Sn(e,{...t,taskHint:"text-generation"})}async function J0(e,t){const r=Cn(await le(e,{...t,taskHint:"token-classification"}));if(!(Array.isArray(r)&&r.every(n=>typeof n.end=="number"&&typeof n.entity_group=="string"&&typeof n.score=="number"&&typeof n.start=="number"&&typeof n.word=="string")))throw new de("Expected Array<{end: number, entity_group: string, score: number, start: number, word: string}>");return r}async function X0(e,t){const r=await le(e,{...t,taskHint:"translation"});if(!(Array.isArray(r)&&r.every(n=>typeof(n==null?void 0:n.translation_text)=="string")))throw new de("Expected type Array<{translation_text: string}>");return(r==null?void 0:r.length)===1?r==null?void 0:r[0]:r}async function Q0(e,t){const r=Cn(await le(e,{...t,taskHint:"zero-shot-classification"}));if(!(Array.isArray(r)&&r.every(n=>Array.isArray(n.labels)&&n.labels.every(a=>typeof a=="string")&&Array.isArray(n.scores)&&n.scores.every(a=>typeof a=="number")&&typeof n.sequence=="string")))throw new de("Expected Array<{labels: string[], scores: number[], sequence: string}>");return r}async function Z0(e,t){const r=await le(e,{...t,taskHint:"text-generation",chatCompletion:!0});if(!(typeof r=="object"&&Array.isArray(r==null?void 0:r.choices)&&typeof(r==null?void 0:r.created)=="number"&&typeof(r==null?void 0:r.id)=="string"&&typeof(r==null?void 0:r.model)=="string"&&typeof(r==null?void 0:r.system_fingerprint)=="string"&&typeof(r==null?void 0:r.usage)=="object"))throw new de("Expected ChatCompletionOutput");return r}async function*ev(e,t){yield*Sn(e,{...t,taskHint:"text-generation",chatCompletion:!0})}async function tv(e,t){var a;const r={...e,inputs:{question:e.inputs.question,image:Tn(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},s=(a=Cn(await le(r,{...t,taskHint:"document-question-answering"})))==null?void 0:a[0];if(!(typeof(s==null?void 0:s.answer)=="string"&&(typeof s.end=="number"||typeof s.end>"u")&&(typeof s.score=="number"||typeof s.score>"u")&&(typeof s.start=="number"||typeof s.start>"u")))throw new de("Expected Array<{answer: string, end?: number, score?: number, start?: number}>");return s}async function rv(e,t){var a;const r={...e,inputs:{question:e.inputs.question,image:Tn(new Uint8Array(e.inputs.image instanceof ArrayBuffer?e.inputs.image:await e.inputs.image.arrayBuffer()))}},s=(a=await le(r,{...t,taskHint:"visual-question-answering"}))==null?void 0:a[0];if(!(typeof(s==null?void 0:s.answer)=="string"&&typeof s.score=="number"))throw new de("Expected Array<{answer: string, score: number}>");return s}async function sv(e,t){const r=await le(e,{...t,taskHint:"tabular-regression"});if(!(Array.isArray(r)&&r.every(n=>typeof n=="number")))throw new de("Expected number[]");return r}async function nv(e,t){const r=await le(e,{...t,taskHint:"tabular-classification"});if(!(Array.isArray(r)&&r.every(n=>typeof n=="number")))throw new de("Expected number[]");return r}var av=class{constructor(e="",t={}){Qn(this,"accessToken");Qn(this,"defaultOptions");this.accessToken=e,this.defaultOptions=t;for(const[r,s]of Object.entries(Ni))Object.defineProperty(this,r,{enumerable:!1,value:(n,a)=>s({...n,accessToken:e},{...t,...a})})}endpoint(e){return new iv(e,this.accessToken,this.defaultOptions)}},iv=class{constructor(e,t="",r={}){for(const[s,n]of Object.entries(Ni))Object.defineProperty(this,s,{enumerable:!1,value:(a,o)=>n({...a,accessToken:t,endpointUrl:e},{...r,...o})})}};const ov=async(e,t,r,s)=>{var n;try{const{data:a,error:o}=await R.from("huggingface_api_keys").select("api_key").eq("is_active",!0).order("last_used_at",{ascending:!0}).limit(1).single();if(o)throw new Error(`Failed to get API key: ${o.message}`);if(!a)throw new Error("No active API key available");await R.from("huggingface_api_keys").update({last_used_at:new Date().toISOString()}).eq("api_key",a.api_key);const l=new av(a.api_key),c=((n=r==null?void 0:r[t])==null?void 0:n.example)||"a photo of a cat, high quality, detailed";let d="";const u=await l.chatCompletionStream({model:"Qwen/Qwen2.5-Coder-32B-Instruct",messages:[{role:"system",content:`You are an expert AI image prompt engineer specializing in enhancing prompts for high-quality image generation. Your task is to improve the given prompt while maintaining its core concept and artistic intent but if the prompt is lacking and too short add more details to it making it better and more detailed, Just return the improved prompt saying nothing else. stongly follow these Guidelines: ${c}`},{role:"user",content:e}],max_tokens:2048,temperature:.7});for await(const h of u)if(h.choices&&h.choices.length>0){const f=h.choices[0].delta.content;f&&(d+=f,s(f))}return d.trim()}catch(a){throw console.error("Error improving prompt:",a),a}},lv=e=>{const t=Ze(),s=Tr({mutationKey:["deductPromptCredits",e],mutationFn:async()=>{if(!e)throw new Error("User ID is required");const n=1,{data:a}=await R.from("profiles").select("credit_count, bonus_credits").eq("id",e).single();if(!a)throw new Error("Profile not found");if(a.credit_count+a.bonus_credits<n)return-1;let l=a.credit_count,c=a.bonus_credits;if(a.credit_count>=n)l-=n;else{const u=n-a.credit_count;l=0,c-=u}const{error:d}=await R.from("profiles").update({credit_count:l,bonus_credits:c}).eq("id",e);if(d)throw d;return{newCreditCount:l,newBonusCredits:c}},onSuccess:()=>{t.invalidateQueries({queryKey:["userCredits",e]})}});return{deductCredits:()=>{if(!e)throw new Error("User ID is required");return s.mutate()},isDeducting:s.isPending,error:s.error}},Pn=e=>{const[t,r]=p.useState(!1),{deductCredits:s,isDeducting:n}=lv(e);return{isImproving:t||n,improveCurrentPrompt:async(o,l,c,d)=>{if(!(o!=null&&o.trim())){q.error("Please enter a prompt");return}r(!0);const u=q.loading("Improving prompt...",{position:"top-center"});try{const h=await ov(o,l,c,m=>{d(m,!0)});if(!h){q.error("Failed to improve prompt",{id:u,position:"top-center"});return}if(await s()===-1){q.error("Not enough credits for prompt improvement",{id:u,position:"top-center"});return}return d(h),q.success("Prompt improved!",{id:u,position:"top-center"}),h}catch(h){console.error("Error improving prompt:",h),q.error("Failed to improve prompt",{id:u,position:"top-center"}),d(o)}finally{r(!1)}}}},cv={flux:{name:"Flux.1 Schnell",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-schnell",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Balanced speed and quality",image:"https://i.ibb.co.com/51P0fS0/out-0.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1},turbo:{name:"SD-3.5Large-turbo",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-3.5-large-turbo",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Fast generation with good quality",image:"https://i.ibb.co.com/3C2N2LJ/1734417062623.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},sd35l:{name:"SD-3.5Large",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-3.5-large",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Latest Stable diffusion model",image:"https://i.ibb.co.com/XDLVk6m/R8-sd3-5-L-00001.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:40,use_guidance:!0,defaultguidance:4.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fluxDev:{name:"FLx.1 Dev",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-dev",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Flux dev by black forest labs",image:"https://i.ibb.co.com/gjrM8R5/out-0-1.webp",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:28,use_guidance:!1,use_negative_prompt:!1},ultra:{name:"Flux.1 Pro",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Ultimate-LoRA-Collection",qualityLimits:null,isPremium:!0,promptSuffix:null,tagline:"A merge of multiple models",image:"https://i.ibb.co.com/Tqb5Pgk/sample.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:30,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},midjourney:{name:"Midjourney-V6",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Midjourney-Mix2-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", MJ v6",tagline:"Latest version of Midjourney for free",image:"https://i.ibb.co.com/8PnDLkf/1.png",example:"Start with 'MJ v6,'. Make high quality flawless prompts that will go well wth Midjourney, use quality and style tags like: high quality, studio lighting, professional portrait, e.t.c keep it short yet detailed, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c. End with '--ar 47:64 --v 6.0 --style raw' if making a portrait, else not add this is an example: 'MJ v6, A photo of an attractive man in his thirties, wearing a black coat and yellow scarf with a brown pattern inside a building talking on a phone standing near a modern glass skyscraper in London, shot from below looking up at him in the style of street photography, cinematic.  --ar 85:128 --v 6.0 --style raw'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},logodesign:{name:"Logo Design",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Logo-Design",qualityLimits:null,isPremium:!1,promptSuffix:", wablogo, logo, Minimalist",tagline:"Make your brand Identity",image:"https://i.ibb.co.com/277njvK/03.png",example:"Start with 'wablogo, logo, Minimalist' Then describe the logo to appear in the image, heres an example: 'logo,Minimalist,A pair of chopsticks and a bowl of rice with the word Lee', Usage suggestion: Dual Combination: something and something, e.g., cat and coffee, Font Combination: a shape plus a letter, e.g., a book with the word 'M', or The fingerprint pattern consists of the letters 'hp', Text Below Graphic: Below the graphic is the word 'coffee', directly using with the word 'XX' is also feasible",steps:28,use_guidance:!0,defaultguidance:5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},logodesign2:{name:"Logo Design 2",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Logo",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Make your brand Identity 2",image:"https://i.ibb.co.com/H4cRCjY/458ae986-877f-4928-997e-e80349b4fc13.jpg",example:"Start with 'Logo' Then describe the logo to appear in the image",steps:28,use_guidance:!0,defaultguidance:5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},dalle:{name:"Dall-E 3",category:"General",group:"Base Models",apiUrl:"https://api-inference.huggingface.co/models/Nercy/flux-dalle",qualityLimits:null,isPremium:!1,promptSuffix:", dalle",tagline:"Open AI Dall-E 3",image:"https://i.ibb.co.com/18gFNNS/images-example-kz79mj1mz.jpg",example:"Make high quality prompts with clear and concise details, in the prompt describe everything in detail while keeping it in medium length",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},surreal:{name:"Surreal Dream",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/markury/surrealidescent",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Create surreal Images",image:"https://i.ibb.co.com/H7CQmNk/892a4a71-0657-4c7d-b224-bfa8c91354dd.jpg",example:"tailor prompt to be surreal with adding extra surreal elements",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fastReal:{name:"Realism",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Canopus-LoRA-Flux-FaceRealism",qualityLimits:null,isPremium:!1,promptSuffix:", photography, photorealistic, realism",tagline:"make realistic images fast",image:"https://i.ibb.co.com/JrYsbmT/SD3.webp",example:"Start with 'A photorealistic portrait of' .Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, professional portrait. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fastReal2:{name:"Realism 2",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Flux_Realism_Super_Lora",qualityLimits:null,isPremium:!1,promptSuffix:", photography, photorealistic",tagline:"make realistic images fast",image:"https://i.ibb.co.com/hWtLp3S/ip-realism.png",example:"Start with 'A photorealistic portrait of' .Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, professional portrait. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},darkfantasy:{name:"Dark Fantasy",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Dark-Fantasy",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Make Dark fantsy images",image:"https://i.ibb.co.com/Tqs8PQD/c2215bd73da9f14fcd63cc93350e66e2901bdafa6fb8abaaa2c32a1b.jpg",example:"tailer prompt to make fantasy images and use a few unnecessary tags from this: heavily influenced by Klee, Odilon Redon, Eyvind Earle, Roberto Venosa, Sidney Simes, Jan Toorop cinematic still, forced perspective 3/4 angle, bird's eye viewpoint, looking down at main character, dynamic pose of elegant ethereal female Archangel, extraordinarily detailed wings crystalline velvety wings wrapped around her, graceful contrapost chiasm, chiaroscuro, stylised masterpiece award-winning, luscious colour palette, perfect colour grading, perfect balance between lineart, colour, light and volume, delicate, sophisticated, exquisite, Cinematic, Photography, Shot on 70mm, Depth of Field, F/5.6, soft shadows, 8K, genius, award-winning , rim lighting, polygonal statue, VRay tracing style, greek goddess, pop art illustration, etruscan art, fragment icon, neoclassicism, future technology, white textured greek god sculpture, young woman, beauty, coated sunglasses, glowing gold jewelry, greek robe, full body shot, angel wings, serious expression, surrealism, primary color high quality white, background color pure glowing high quality yellow, realistic graphics, photo-realistic, ultra-detailed, fantasy style, 32k",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},Illustturbo:{name:"Illustration turbo",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Simple-Doodle-SD3.5-Turbo",qualityLimits:["HD"],isPremium:!1,promptSuffix:", Simple Doodle",tagline:"make simple illustrations fast",image:"https://i.ibb.co.com/Mhk3M6v/SD1.webp",example:"Start with 'Simple Doodle, A cartoon drawing of' then describe a simple illustration image",steps:4,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},render3d:{name:"3D Render XL",category:"General",group:"3D",apiUrl:"https://api-inference.huggingface.co/models/goofyai/3D_Render_for_Flux",qualityLimits:null,isPremium:!1,promptSuffix:", 3D render",tagline:"render 3D images",image:"https://i.ibb.co.com/sbmM5mp/3d-style-2.jpg",example:"Start with 'a 3D rendered scene of'. Make high quality flawless prompt, use quality and style tags like: high quality, studio lighting, 3D style, blender style, 3D rendered. make it not too long not too short, provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c. End with ', blender style'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},anime:{name:"Anime XL",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/LoRa-Flux-Anime-Style",qualityLimits:null,isPremium:!1,promptSuffix:", ANMCH",tagline:"Flwaless Anime style images",image:"https://i.ibb.co.com/c1kPmWg/Euv-INv-Bs-CKZQusp-ZHN-u-F.png",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},anime2xl:{name:"Anime XL 2",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/AnimeXL",qualityLimits:null,isPremium:!1,promptSuffix:", animexl",tagline:"Anime style images make fast",image:"https://i.ibb.co.com/hc3dWxr/images-example-zgfn69jth.jpg",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},modernanime:{name:"Modern Anime",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/flux-Anime",qualityLimits:null,isPremium:!1,promptSuffix:", Anime",tagline:"Modern Anime style images make",image:"https://i.ibb.co.com/X4JJxK2/dca8752b-083c-4f5f-9289-caae3e89196b.jpg",example:"Make high quality flawless prompt,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},ghiblianime:{name:"Ghibli Anime",category:"General",group:"Anime",apiUrl:"https://api-inference.huggingface.co/models/Nishitbaria/ghibli-stlye-lora",qualityLimits:null,isPremium:!1,promptSuffix:", Anime",tagline:"Modern Anime style images make",image:"https://i.ibb.co.com/BGW8Lxh/example-p3ytf8bpd.jpg",example:"Make high quality flawless prompt for ghibli style anime images,  provide fine details like environment, lighting, colors, visual elements, if included charachters then styling, clothings, appearance, activity e.t.c",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},dreamscape:{name:"Dreamscape",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/bingbangboom/flux_dreamscape",qualityLimits:null,isPremium:!1,promptSuffix:", in the style of BSstyle004",tagline:"Dream up",image:"https://i.ibb.co.com/nkxPsYG/images-2.jpg",example:"Start with 'in the style of BSstyle004,'. follow this example: 'white-haired young man, extremely simple, large-scale blue, brightly colored board, dark white and light blue'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},cinestill:{name:"CineStill",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/adirik/flux-cinestill",qualityLimits:null,isPremium:!1,promptSuffix:", CNSTLL",tagline:"make distilled Cinematic scenes",image:"https://i.ibb.co.com/rs5g7Xz/3.png",example:"Start with 'CNSTLL,'. Best suited for generating night and dusk time photograph-like images with a distinctive slight halation effect. Keywords that result in better generations 'cinestill 800t', 'night time', 'dusk', '4k', 'high resolution', 'analog film'. Example: 'in the style of CNSTLL , urban landscape, people fishing on Galata  bridge in Istanbul at night'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},asianbeauty:{name:"Asian Beauty",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/TDN-M/East-asian-beauty",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"make distilled Cinematic scenes",image:"https://i.ibb.co.com/ZWYt9Vz/ea2.webp",example:"make prompts for asian beauty images",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},pencilSketch:{name:"Pencil Sketch",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/Datou1111/shou_xin",qualityLimits:null,isPremium:!1,promptSuffix:", shou_xin, pencil sketch",tagline:"sketch art pencil and colors",image:"https://i.ibb.co.com/P4xLs4W/img-00282.png",example:"Start with 'shou_xin A color pencil sketch of' then describe a minimal sketch image subject and End with ', close up, minimalist, impressionism, negative space' heres an example: 'shou_xin, a monochromatic pencil sketch of a crow, minimalist, impressionism, negative space', heres another example: 'shou_xin, A pencil sketch of steve jobs, minimalist, impressionism, negative space'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},vertorArt:{name:"Vector Art",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/lichorosario/flux-lora-simple-vector",qualityLimits:null,isPremium:!1,promptSuffix:", v3ct0r, vector",tagline:"Create Vector arts",image:"https://i.ibb.co.com/wKszPV2/images-example-ylmvpzdqk.jpg",example:"Start with 'v3ct0r style, simple flat vector art, isolated on white bg,' Then describe the Vector Graphics element that should show in the image. Heres an example: 'v3ct0r style, simple flat vector art, isolated on white bg, rocket' heres another example: 'v3ct0r style, simple flat vector art, isolated on white bg, kawaii bread slice wearing black frame eyeglasses. Small smile. There is a blue flower pink center placed at the top right corner of the bread slice.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},undraw:{name:"Undraw Illustration",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/AlloReview/flux-lora-undraw",qualityLimits:null,isPremium:!1,promptSuffix:" in the style of UndrawPurple",tagline:"Create Undraw illustrations",image:"https://i.ibb.co.com/KX7cFBC/4b22ca52-c8ad-43e3-8690-4961570020b4.jpg",example:"Start with 'in the style of UndrawPurple' Then describe the Vector Graphics element inspired by Undraw style that should show in the image.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},graphic:{name:"Graphic Arts",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/securemepro/ai_graphic",qualityLimits:null,isPremium:!1,promptSuffix:" AI_GRAPHIC",tagline:"Create minimal graphic designs",image:"https://i.ibb.co.com/njB3kD2/3335a4b8-c787-43ef-81fa-8f2b27568740.jpg",example:"Start with 'AI_GRAPHIC' Then describe the Graphics element inspired that should show in the image.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},Isometric:{name:"Isometric",category:"General",group:"3D",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Isometric-3D-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Isometric 3D",tagline:"Isometric style, build your world",image:"https://i.ibb.co.com/88P57s7/ID2.png",example:"Start with 'Isometric 3D, a 3D model of' Then describe the things to appear in the image, heres an example: 'Isometric 3D, a 3D model of a tropical island is displayed on a light blue backdrop. The island features a small body of water, surrounded by gray rocks and green grass. There are palm trees and small bushes scattered throughout the island, adding a pop of color to the scene.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},mixreality:{name:"Mix Reality",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Shakker-Labs/FLUX.1-dev-LoRA-Logo-Design",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Cross the boudary",image:"https://i.ibb.co.com/gw2DNvN/images-3.jpg",example:"Make prompt for making images where reality and anime or illustration mixes, example: 'A vivid photo of a 2D illustrated anime girl riding a bicycle, busy street, road signs. The photo is a blend of illustration and reality, in the style of HLFILSTHLFPHTO'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},fashion:{name:"Fashion Photography",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/imagepipeline/Fashion",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Create Fashion Models",image:"https://i.ibb.co.com/n8SLF9M/1d7def8c-d9a7-47c3-aabd-4e1a718aad89.jpg",example:"Make prompt for making images of Fashion photography, example: 'A fashion model in a red dress, standing in front of a white background. The model has long brown hair and is wearing a red dress with a plunging neckline. The dress has a fitted bodice and a full skirt. The model is wearing red lipstick and has her hair styled in loose waves. She is looking directly at the camera with a serious expression.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},sticker:{name:"Sticker",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Ton618-Only-Stickers-Flux-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Only Sticker",tagline:"Make your brand Identity",image:"https://i.ibb.co.com/Ryx6b4B/111.png",example:"Start with 'Only Sticker, An animated image of a' Then describe the sticker to appear in the image, heres an example: 'Only Sticker, An animated illustration of a sloth in a mug with the words 'Sloth Fuel' written on it. The sloth is holding the mug with its left hand and its right hand resting on the mug. The mug is filled with coffee and there is a brown liquid dripping from the bottom of the cup. There is a white background behind the sloth with a smoke coming out of it. There are three coffee beans on the bottom left corner of the image.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},handwriting:{name:"Handwriting",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/fofr/flux-handwriting",qualityLimits:null,isPremium:!1,promptSuffix:", HWRIT handwriting",tagline:"Real lookin handwriting images",image:"https://i.ibb.co.com/mFPgMkj/0041358a-ee46-4cab-85f5-108c4f09b729.jpg",example:"make prompt like this: HWRIT very neat handwriting saying 'this is a handwriting model'(replace this with the text to write in the image), black(replace with suitable color) ink on white_paper(replace with on what to write)",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},teenoutfitGenerator:{name:"Teen Outfit",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Teen-Outfit",qualityLimits:null,isPremium:!1,promptSuffix:", Teen Outfit",tagline:"Make cool outfits and cloths",image:"https://i.ibb.co.com/MCWQZBN/TO3.png",example:"Start with 'Teen Outfit,' Then describe the outfit in very details, Example: 'Teen Outfit, a teal and white jacket is adorned with a white hoodie. The jacket has a white stripe down the left side of the jacket, and two white stripes on the right and left side. On the left sleeve, there is a text written in a cursive font that is in black ink that reads X and X. The jacket is positioned against a stark white backdrop, creating a striking contrast.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},colorChaos:{name:"Color Chaos",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Digital-Chaos-Flux-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Digital Chaos",tagline:"Chaos of Colors to make modern art",image:"https://i.ibb.co.com/TgcCsdf/HDRDC2.webp",example:"Start with 'Digital Chaos,' in the end describe background colors like this: 'The background is a mix of blue, purple, orange, and yellow, and white.' heres an example: 'Digital Chaos, An abstract painting of a womans face, the womans head is covered in black hair. The womans eyes are closed, and her lips are slightly parted. The background is a mix of blue, purple, orange, and yellow, and white. The painting has splashes of white, red, and blue, and black, creating a vibrant and colorful effect.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},pixelArt:{name:"Pixel Art",category:"General",group:"Art",apiUrl:"https://api-inference.huggingface.co/models/mindlywork/pixel_art_style_v1.0",qualityLimits:null,isPremium:!1,promptSuffix:", pixel_art_style_v1.0",tagline:"Modern Pixel art",image:"https://i.ibb.co.com/DkdtLrG/Comfy-UI-00047.png",example:"Tailor prompt to make Pixel art images and start with 'pixel_art_style_v1.0'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},iconkit:{name:"Icon Kit",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/strangerzonehf/Flux-Icon-Kit-LoRA",qualityLimits:null,isPremium:!1,promptSuffix:", Icon kit",tagline:"3d Icons",image:"https://i.ibb.co.com/cxqCCnf/1-1.png",example:"Start with 'Icon Kit, An animated image of' then describe a minimal element as icon for the image and at the end describe a suitable calm background color, heres an example: 'Icon Kit, An animated image of a red canister with a black cap on the top. The canister has a black stripe on the side and a yellow hose attached to the cap. The background is a bright blue color.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},aura:{name:"Aura 9999+",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/Aura-9999",qualityLimits:null,isPremium:!1,promptSuffix:", Aura 9999",tagline:"gives your creations some aura",image:"https://i.ibb.co.com/NNWjs4d/A3.png",example:"Start with 'Aura 9999,' then describe the image and add aura elements to the image suitably to generte an image that showcases Aura on the subject of the image. here an example: 'Aura 9999, a hamburger is captured in a vibrant blue-green glow. The hamburger bun is adorned with sesame seeds, adding a pop of color to the otherwise monochromatic scene. The burger is situated in the center of the frame, with a layer of lettuce surrounding it. The lettuce is a vibrant shade of green, while the tomato slices are a vibrant red. The sandwich is positioned in front of a backdrop of smoke, creating a stark contrast to the burger. The lighting is subdued in the foreground, adding depth to the composition.'",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},blacked:{name:"Minimal blacked",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/prithivMLmods/SD3.5-Large-Minimal-Blacked-LoRA",qualityLimits:["HD"],isPremium:!1,promptSuffix:", blacked",tagline:"minimal black background",image:"https://i.ibb.co.com/qskQPqT/q4.webp",example:"Describe a minimal graphics element then use 'depicted against a dark blacked background' example: A bright green leaf logo is depicted against a dark blacked background. The leaf has smooth, organic lines with subtle veins running through it, giving it a natural and lifelike appearance. A soft glow surrounds the leaf, adding a gentle illumination that contrasts beautifully with the dark background. This contrast between the vibrant green and deep black creates a fresh and eco-friendly feel, making the logo appear both vibrant and serene.",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},gameassets:{name:"Game assets",category:"General",group:"Design",apiUrl:"https://api-inference.huggingface.co/models/gokaygokay/Flux-Game-Assets-LoRA-v2",qualityLimits:null,isPremium:!1,promptSuffix:", wbgmsst",tagline:"Create game assets",image:"https://i.ibb.co.com/vdMRPnn/images-example-c6ery92u6.jpg",example:"Start with 'wbgmsst', Tailor prompt to make Game assets images with white background, example: ",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},disney:{name:"Disney",category:"General",group:"Style Models",apiUrl:"https://api-inference.huggingface.co/models/Keltezaa/all-disney-princess-xl-lora-model-from-ralph-breaks-the-internet",qualityLimits:["HD"],isPremium:!1,promptSuffix:null,tagline:"Disney princes, use name",image:"https://i.ibb.co.com/54bxzMk/4058459.jpg",example:"You have to make amazing disney style images prompt of disney princesses, if princess name not mentioned in original prompt then add suitable name like Elsa or Anna, heres an example: 'cinematic photo casual anna, ,   . 35mm photograph, film, bokeh, professional, 4k, highly detailed'",steps:25,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},nsfwMaster:{name:"Real",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/aifeifei798/sldr_flux_nsfw_v2-studio",qualityLimits:null,isPremium:!1,promptSuffix:", Nsfw, naked,",tagline:"NSFW generation",image:"https://i.ibb.co.com/qm9ZjV4/b36e71ed-c142-49c4-8ba5-4f3a57bd6ae9.jpg",example:"craft high quality prompts to make images of naked girls in nudity related things",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},animeNsfw:{name:"Anime",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/John6666/mala-anime-mix-nsfw-pony-xl-v5-sdxl",qualityLimits:null,isPremium:!1,promptSuffix:null,tagline:"Anime-style NSFW generation",image:"https://i.ibb.co.com/Tt1gwLG/1730283256633.jpg",example:"craft high quality prompts to make images of naked girls in nudity or sex related things",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"},nudephotography:{name:"Nude Photography",category:"NSFW",group:"NSFW",apiUrl:"https://api-inference.huggingface.co/models/Keltezaa/Prof_Nude_photography_v3_flux",qualityLimits:null,isPremium:!1,promptSuffix:", Nude photograpy, naked",tagline:"Nude models for Photoshoot",image:"https://i.ibb.co.com/GW2LDP1/example-20kld8mba.jpg",example:"craft high quality prompts to make images of naked porn models girls",steps:28,use_guidance:!1,defaultguidance:7.5,use_negative_prompt:!1,default_negative_prompt:"ugly, bad anatomy, blurry, pixelated, poor quality, watermark, signature, text"}},dt=()=>({data:p.useMemo(()=>cv,[]),isLoading:!1}),dv=()=>{dt();const[e,t]=p.useState({prompt:"",seed:0,randomizeSeed:!0,width:1024,height:1024,model:"fluxDev",activeTab:"images",aspectRatio:"1:1",useAspectRatio:!0,quality:"HD",modelSidebarOpen:!1,selectedImage:null,detailsDialogOpen:!1,fullScreenViewOpen:!1,fullScreenImageIndex:0,generatingImages:[],activeView:"myImages",nsfwEnabled:!1,style:null,imageCount:1,isPrivate:!1});return p.useEffect(()=>{const n=e.generatingImages.filter(a=>a.status==="completed");if(n.length>0){const a=n.map(o=>setTimeout(()=>{t(l=>({...l,generatingImages:l.generatingImages.filter(c=>c.id!==o.id)}))},1e4));return()=>{a.forEach(o=>clearTimeout(o))}}},[e.generatingImages]),{...e,...{setPrompt:n=>t(a=>({...a,prompt:n})),setSeed:n=>t(a=>({...a,seed:n})),setRandomizeSeed:n=>t(a=>({...a,randomizeSeed:n})),setWidth:n=>t(a=>({...a,width:n})),setHeight:n=>t(a=>({...a,height:n})),setModel:n=>t(a=>({...a,model:n})),setActiveTab:n=>t(a=>({...a,activeTab:n})),setAspectRatio:n=>t(a=>({...a,aspectRatio:n})),setUseAspectRatio:n=>t(a=>({...a,useAspectRatio:n})),setQuality:n=>t(a=>({...a,quality:n})),setModelSidebarOpen:n=>t(a=>({...a,modelSidebarOpen:n})),setSelectedImage:n=>t(a=>({...a,selectedImage:n})),setDetailsDialogOpen:n=>t(a=>({...a,detailsDialogOpen:n})),setFullScreenViewOpen:n=>t(a=>({...a,fullScreenViewOpen:n})),setFullScreenImageIndex:n=>t(a=>({...a,fullScreenImageIndex:n})),setGeneratingImages:n=>{t(a=>({...a,generatingImages:Array.isArray(n)?n:typeof n=="function"?n(a.generatingImages):[]}))},setActiveView:n=>t(a=>({...a,activeView:n})),setNsfwEnabled:n=>t(a=>({...a,nsfwEnabled:n})),setStyle:n=>t(a=>({...a,style:n})),setImageCount:n=>t(a=>({...a,imageCount:n})),setIsPrivate:n=>t(a=>({...a,isPrivate:n}))}}},Ut=e=>me({queryKey:["proUser",e],queryFn:async()=>{if(!e)return!1;try{const{data:t,error:r}=await R.from("profiles").select("is_pro").eq("id",e).single();return r?(console.error("Error fetching pro status:",r),!1):(t==null?void 0:t.is_pro)||!1}catch(t){return console.error("Error in useProUser:",t),!1}},enabled:!!e,staleTime:1e3*60*5,cacheTime:1e3*60*30,retry:2}),An=async(e,t)=>{if(!(e!=null&&e.id)){q.error("Invalid image data");return}try{const{data:r,error:s}=await R.from("user_images").select("storage_path").eq("id",e.id).maybeSingle();if(s){console.error("Error fetching image:",s),q.error("Failed to verify image");return}if(!r){console.log("Image not found in database, might have been already deleted"),t&&t.invalidateQueries({queryKey:["galleryImages"]});return}if(!r.storage_path){console.error("No storage path found for image"),q.error("Image file not found");return}console.log("Full storage path:",r.storage_path);let n=r.storage_path;if(n.includes("user-images/")&&(n=n.split("user-images/")[1]),console.log("Extracted relative path:",n),!n){console.error("Invalid storage path format"),q.error("Invalid file path");return}const{error:a}=await R.storage.from("user-images").remove([n]);if(a){console.error("Error deleting from storage:",a),q.error("Failed to delete image file");return}const{error:o}=await R.from("user_images").delete().eq("id",e.id);if(o){console.error("Error deleting from database:",o);try{q.error("Failed to delete image record. Please try again.")}catch(l){console.error("Error in cleanup after failed deletion:",l)}return}t&&t.invalidateQueries({queryKey:["galleryImages"]}),q.success("Image deleted successfully")}catch(r){console.error("Error in handleImageDiscard:",r),q.error("Failed to delete image")}},uv=({generateImage:e,setSelectedImage:t,setFullScreenViewOpen:r,setModel:s,setPrompt:n,setSeed:a,setRandomizeSeed:o,setWidth:l,setHeight:c,setQuality:d,quality:u,setAspectRatio:h,setUseAspectRatio:f,aspectRatios:m=[],session:g,queryClient:y,activeView:b,setDetailsDialogOpen:v,setActiveView:w})=>{var E;const x=Se(),{data:j}=dt();Ut((E=g==null?void 0:g.user)==null?void 0:E.id);const N=async()=>{await e()};return{handleImageClick:D=>{t(D),r(!0)},handleModelChange:D=>{const F=j==null?void 0:j[D];F!=null&&F.qualityLimits&&(F.qualityLimits.includes(u)||d("HD")),s(D)},handlePromptKeyDown:async D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),await N())},handleRemix:D=>{if(!g)return;n(D.prompt),a(D.seed),o(!1),l(D.width),c(D.height),s(D.model);const F=j==null?void 0:j[D.model];F!=null&&F.qualityLimits?F.qualityLimits.includes(D.quality)?d(D.quality):d("HD"):d(D.quality),D.aspect_ratio&&(h(D.aspect_ratio),f(!0)),w("input"),x("/#imagegenerate")},handleDownload:async(D,F)=>{const $=document.createElement("a");$.href=D,$.download=`${F}.png`,document.body.appendChild($),$.click(),document.body.removeChild($)},handleDiscard:async D=>{if(D)try{await An({id:D},y)}catch(F){console.error("Error deleting image:",F)}},handleViewDetails:D=>{t(D),v(!0)}}},fu=p.forwardRef(({className:e,...t},r)=>i.jsx(Wc,{className:_("peer inline-flex h-6 w-12 shrink-0 cursor-pointer items-center rounded-full","bg-accent/60 hover:bg-muted/70","transition-all duration-300","focus-visible:outline-none","focus-visible:ring-2 focus-visible:ring-primary/90","focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary/90 data-[state=checked]:hover:bg-primary/90",e),...t,ref:r,children:i.jsx(Hf,{className:_("pointer-events-none block rounded-full w-4 h-4","bg-background shadow-md","ring-1 ring-border/20 ring-offset-1 ring-offset-background","transition-all duration-300 ease-in-out","data-[state=checked]:translate-x-7 data-[state=unchecked]:translate-x-1")})}));fu.displayName=Wc.displayName;const hv=Cs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:e,variant:t,...r}){return i.jsx("div",{className:_(hv({variant:t}),e),...r})}const fv=e=>{const[t,r]=p.useState(!1);return p.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&r(s.matches);const n=()=>r(s.matches);return s.addListener(n),()=>s.removeListener(n)},[t,e]),t},mv=({ratio:e="1:1",isPremium:t,quality:r,onQualityToggle:s,qualityLimits:n})=>{const[a,o]=(e||"1:1").split(":").map(Number),c=fv("(max-width: 768px)")?300:250;let d,u;a===o?(d=c,u=c):a>o?(d=c,u=c*(o/a)):(u=c,d=c*(a/o));const h=(n==null?void 0:n.length)===1&&n[0]==="HD";return i.jsx("div",{className:"flex flex-col items-center space-y-1",children:i.jsx("div",{className:"relative w-full h-auto aspect-square",children:i.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{role:h?void 0:"button",tabIndex:h?void 0:0,onClick:h?void 0:s,onKeyDown:h?void 0:f=>f.key==="Enter"&&s(),className:_("absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2 z-10",!h&&"cursor-pointer"),children:i.jsxs("span",{className:_("inline-flex items-center rounded-full text-xs font-semibold","border-transparent bg-primary text-primary-foreground",!h&&"hover:bg-primary/90","flex items-center gap-1 px-5 py-0.5"),children:[r,!h&&(r==="HD"?i.jsx(Wf,{className:"h-2.5 w-2.5"}):i.jsx(Gf,{className:"h-2.5 w-2.5"}))]})}),i.jsxs("div",{className:_("relative overflow-hidden","rounded-lg","flex items-center justify-center","transition-all duration-200 ease-in-out","border-2 border-border/80"),style:{width:`${d}px`,height:`${u}px`},children:[i.jsx("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3",children:[...Array(9)].map((f,m)=>i.jsx("div",{className:"border border-border/60 hover:border-border/60 transition-colors duration-200"},m))}),i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[i.jsx("div",{className:"w-full h-[2px] bg-border/60"}),i.jsx("div",{className:"absolute h-full w-[2px] bg-border/60"})]}),i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-0 left-1/3 w-[2px] h-2 border-border/60"}),i.jsx("div",{className:"absolute top-0 right-1/3 w-[2px] h-2 border-border/60"}),i.jsx("div",{className:"absolute bottom-0 left-1/3 w-[2px] h-2 border-border/60"}),i.jsx("div",{className:"absolute bottom-0 right-1/3 w-[2px] h-2 border-border/60"}),i.jsx("div",{className:"absolute left-0 top-1/3 h-[2px] w-2 border-border/60"}),i.jsx("div",{className:"absolute left-0 bottom-1/3 h-[2px] w-2 border-border/60"}),i.jsx("div",{className:"absolute right-0 top-1/3 h-[2px] w-2 border-border/60"}),i.jsx("div",{className:"absolute right-0 bottom-1/3 h-[2px] w-2 border-border/60"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:_("flex items-center gap-2"),children:[i.jsx("span",{className:"text-sm font-medium",children:e}),t&&i.jsx(Or,{className:"h-3.5 w-3.5 text-primary opacity-80 group-hover:opacity-100 transition-opacity duration-200"})]})})]})]})})})})},pv=({value:e,onChange:t,min:r,max:s})=>{const n=p.useRef(null),a=p.useRef(null),o=c=>{if(!n.current||!a.current)return;const d=(s+r)/2,u=a.current;if(c<d){const h=(c-r)/(d-r)*50;u.style.left=`${h}%`,u.style.right="50%"}else{const h=(c-d)/(s-d)*50;u.style.left="50%",u.style.right=`${50-h}%`}};p.useEffect(()=>{o(e)},[e]);const l=c=>{const d=parseFloat(c.target.value);t(d),o(d)};return i.jsxs("div",{className:"relative w-full h-8 flex items-center",children:[i.jsx("div",{className:"absolute w-full h-2 bg-muted rounded-full",children:i.jsx("div",{ref:a,className:"absolute h-full bg-primary rounded-full transition-all duration-150",style:{left:"50%",right:"50%"}})}),i.jsx("input",{ref:n,type:"range",min:r,max:s,value:e,onChange:l,className:_("absolute w-full h-2","appearance-none bg-transparent cursor-pointer","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4","[&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary","[&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-background","[&::-webkit-slider-thumb]:shadow-sm [&::-webkit-slider-thumb]:transition-all","[&::-webkit-slider-thumb]:hover:bg-primary/90","[&::-moz-range-thumb]:appearance-none","[&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4","[&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary","[&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-background","[&::-moz-range-thumb]:shadow-sm [&::-moz-range-thumb]:transition-all","[&::-moz-range-thumb]:hover:bg-primary/90")})]})},gv=({aspectRatio:e="1:1",setAspectRatio:t,quality:r="HD",setQuality:s,proMode:n,qualityLimits:a=null})=>{const o=["9:21","21:9","3:2","2:3","4:5","5:4","10:16","16:10"],l=["9:21","1:2","9:16","2:3","3:4","4:5","1:1","5:4","4:3","3:2","16:9","2:1","21:9"].filter(h=>n||!o.includes(h));p.useEffect(()=>{!n&&o.includes(e)&&t("1:1")},[e,n,t]),p.useEffect(()=>{(a==null?void 0:a.length)===1&&a[0]==="HD"&&r!=="HD"&&s("HD")},[a,r,s]);const c=()=>{(a==null?void 0:a.length)===1&&a[0]==="HD"||s(r==="HD"?"HD+":"HD")},d=h=>{const f=l.indexOf("1:1");if(Math.abs(h)<1){t("1:1");return}let m;if(h<0){const g=f,y=(h+50)/50*g;m=Math.round(y)}else{const g=l.length-1-f,y=h/50*g;m=f+Math.round(y)}t(l[Math.max(0,Math.min(l.length-1,m))]||"1:1")},u=()=>{const h=l.indexOf("1:1"),f=l.indexOf(e);if(f===h||!l.includes(e))return 0;if(f<h)return-50*(1-f/h);{const m=f-h,g=l.length-1-h;return m/g*50}};return i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(mv,{ratio:e,isPremium:!n&&o.includes(e),quality:r,onQualityToggle:c,qualityLimits:a}),i.jsx("div",{className:"relative",children:i.jsx(pv,{value:u(),onChange:d,min:-50,max:50})})]})},Si=Kf,Ti=Yf,Ci=Jf,En=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>i.jsx(Gc,{ref:s,sideOffset:t,className:_("z-100 overflow-hidden rounded-xl border border-border/80 bg-popover/95 px-4 py-2 text-sm text-popover-foreground/90 shadow-[0_8px_30px_rgb(0,0,0,0.06)] backdrop-blur-[2px] transition-all duration-200 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));En.displayName=Gc.displayName;const cs=({label:e,tooltip:t,children:r})=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-medium",children:e}),t&&i.jsx(Si,{children:i.jsxs(Ti,{children:[i.jsx(Ci,{asChild:!0,children:i.jsx(Xf,{className:"w-2.5 h-2.5 text-muted-foreground cursor-help"})}),i.jsx(En,{className:"max-w-[300px]",children:i.jsx("p",{className:"text-xs",children:t})})]})})]}),r]}),yv=Zf,vv=em,mu=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},n)=>i.jsx(Qf,{children:i.jsx(Kc,{ref:n,align:t,sideOffset:r,className:_("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));mu.displayName=Kc.displayName;const ut=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(Yc,{ref:s,className:_("relative overflow-hidden",e),...r,children:[i.jsx(tm,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(pu,{}),i.jsx(rm,{})]}));ut.displayName=Yc.displayName;const pu=p.forwardRef(({className:e,orientation:t="vertical",...r},s)=>i.jsx(Jc,{ref:s,orientation:t,className:_("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(sm,{className:"relative flex-1 rounded-full bg-border"})}));pu.displayName=Jc.displayName;function xv(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...s)=>e(...s);return new Proxy(r,{get:(s,n)=>n==="create"?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function Dn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const za=e=>Array.isArray(e);function gu(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function gs(e){return typeof e=="string"||Array.isArray(e)}function ll(e){const t=[{},{}];return e==null||e.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function Pi(e,t,r,s){if(typeof t=="function"){const[n,a]=ll(s);t=t(r!==void 0?r:e.custom,n,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,a]=ll(s);t=t(r!==void 0?r:e.custom,n,a)}return t}function Rn(e,t,r){const s=e.getProps();return Pi(s,t,r!==void 0?r:s.custom,e)}const Ai=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ei=["initial",...Ai],Es=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],or=new Set(Es),wt=e=>e*1e3,_t=e=>e/1e3,bv={type:"spring",stiffness:500,damping:25,restSpeed:10},wv=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_v={type:"keyframes",duration:.8},jv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kv=(e,{keyframes:t})=>t.length>2?_v:or.has(e)?e.startsWith("scale")?wv(t[1]):bv:jv;function Di(e,t){return e?e[t]||e.default||e:void 0}const Nv={skipAnimations:!1,useManualTiming:!1},Sv=e=>e!==null;function On(e,{repeat:t,repeatType:r="loop"},s){const n=e.filter(Sv),a=t&&r!=="loop"&&t%2===1?0:n.length-1;return!a||s===void 0?n[a]:s}const Xe=e=>e;let Ha=Xe;function Tv(e){let t=new Set,r=new Set,s=!1,n=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const m=h&&s?t:r;return u&&a.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){n=!0;return}s=!0,[t,r]=[r,t],t.forEach(l),t.clear(),s=!1,n&&(n=!1,c.process(d))}};return c}const Hs=["read","resolveKeyframes","update","preRender","render","postRender"],Cv=40;function yu(e,t){let r=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Hs.reduce((v,w)=>(v[w]=Tv(a),v),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,m=()=>{const v=performance.now();r=!1,n.delta=s?1e3/60:Math.max(Math.min(v-n.timestamp,Cv),1),n.timestamp=v,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),f.process(n),n.isProcessing=!1,r&&t&&(s=!1,e(m))},g=()=>{r=!0,s=!0,n.isProcessing||e(m)};return{schedule:Hs.reduce((v,w)=>{const x=o[w];return v[w]=(j,N=!1,T=!1)=>(r||g(),x.schedule(j,N,T)),v},{}),cancel:v=>{for(let w=0;w<Hs.length;w++)o[Hs[w]].cancel(v)},state:n,steps:o}}const{schedule:ge,cancel:Ft,state:Re,steps:ia}=yu(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),vu=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Pv=1e-7,Av=12;function Ev(e,t,r,s,n){let a,o,l=0;do o=t+(r-t)/2,a=vu(o,s,n)-e,a>0?r=o:t=o;while(Math.abs(a)>Pv&&++l<Av);return o}function Ds(e,t,r,s){if(e===t&&r===s)return Xe;const n=a=>Ev(a,0,1,e,r);return a=>a===0||a===1?a:vu(n(a),t,s)}const xu=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bu=e=>t=>1-e(1-t),wu=Ds(.33,1.53,.69,.99),Ri=bu(wu),_u=xu(Ri),ju=e=>(e*=2)<1?.5*Ri(e):.5*(2-Math.pow(2,-10*(e-1))),Oi=e=>1-Math.sin(Math.acos(e)),ku=bu(Oi),Nu=xu(Oi),Su=e=>/^0[^.\s]+$/u.test(e);function Dv(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Su(e):!0}const Tu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cu=e=>t=>typeof t=="string"&&t.startsWith(e),Pu=Cu("--"),Rv=Cu("var(--"),Ii=e=>Rv(e)?Ov.test(e.split("/*")[0].trim()):!1,Ov=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mv(e){const t=Iv.exec(e);if(!t)return[,];const[,r,s,n]=t;return[`--${r??s}`,n]}function Au(e,t,r=1){const[s,n]=Mv(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return Tu(o)?parseFloat(o):o}return Ii(n)?Au(n,t,r+1):n}const jt=(e,t,r)=>r>t?t:r<e?e:r,Vr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ys={...Vr,transform:e=>jt(0,1,e)},Ws={...Vr,default:1},Rs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ot=Rs("deg"),pt=Rs("%"),Y=Rs("px"),Lv=Rs("vh"),$v=Rs("vw"),cl={...pt,parse:e=>pt.parse(e)/100,transform:e=>pt.transform(e*100)},Fv=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dl=e=>e===Vr||e===Y,ul=(e,t)=>parseFloat(e.split(", ")[t]),hl=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const n=s.match(/^matrix3d\((.+)\)$/u);if(n)return ul(n[1],t);{const a=s.match(/^matrix\((.+)\)$/u);return a?ul(a[1],e):0}},Vv=new Set(["x","y","z"]),Uv=Es.filter(e=>!Vv.has(e));function qv(e){const t=[];return Uv.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const Ar={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hl(4,13),y:hl(5,14)};Ar.translateX=Ar.x;Ar.translateY=Ar.y;const Eu=e=>t=>t.test(e),Bv={test:e=>e==="auto",parse:e=>e},Du=[Vr,Y,pt,Ot,$v,Lv,Bv],fl=e=>Du.find(Eu(e)),sr=new Set;let Wa=!1,Ga=!1;function Ru(){if(Ga){const e=Array.from(sr).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const n=qv(s);n.length&&(r.set(s,n),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const n=r.get(s);n&&n.forEach(([a,o])=>{var l;(l=s.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ga=!1,Wa=!1,sr.forEach(e=>e.complete()),sr.clear()}function Ou(){sr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ga=!0)})}function zv(){Ou(),Ru()}class Mi{constructor(t,r,s,n,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sr.add(this),Wa||(Wa=!0,ge.read(Ou),ge.resolveKeyframes(Ru))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:n}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=n==null?void 0:n.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&r){const c=s.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),n&&o===void 0&&n.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ds=e=>Math.round(e*1e5)/1e5,Li=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hv(e){return e==null}const Wv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$i=(e,t)=>r=>!!(typeof r=="string"&&Wv.test(r)&&r.startsWith(e)||t&&!Hv(r)&&Object.prototype.hasOwnProperty.call(r,t)),Iu=(e,t,r)=>s=>{if(typeof s!="string")return s;const[n,a,o,l]=s.match(Li);return{[e]:parseFloat(n),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Gv=e=>jt(0,255,e),oa={...Vr,transform:e=>Math.round(Gv(e))},rr={test:$i("rgb","red"),parse:Iu("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+oa.transform(e)+", "+oa.transform(t)+", "+oa.transform(r)+", "+ds(ys.transform(s))+")"};function Kv(e){let t="",r="",s="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,s+=s,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const Ka={test:$i("#"),parse:Kv,transform:rr.transform},xr={test:$i("hsl","hue"),parse:Iu("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+pt.transform(ds(t))+", "+pt.transform(ds(r))+", "+ds(ys.transform(s))+")"},Oe={test:e=>rr.test(e)||Ka.test(e)||xr.test(e),parse:e=>rr.test(e)?rr.parse(e):xr.test(e)?xr.parse(e):Ka.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rr.transform(e):xr.transform(e)},Yv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jv(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Li))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Yv))===null||r===void 0?void 0:r.length)||0)>0}const Mu="number",Lu="color",Xv="var",Qv="var(",ml="${}",Zv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vs(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},n=[];let a=0;const l=t.replace(Zv,c=>(Oe.test(c)?(s.color.push(a),n.push(Lu),r.push(Oe.parse(c))):c.startsWith(Qv)?(s.var.push(a),n.push(Xv),r.push(c)):(s.number.push(a),n.push(Mu),r.push(parseFloat(c))),++a,ml)).split(ml);return{values:r,split:l,indexes:s,types:n}}function $u(e){return vs(e).values}function Fu(e){const{split:t,types:r}=vs(e),s=t.length;return n=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],n[o]!==void 0){const l=r[o];l===Mu?a+=ds(n[o]):l===Lu?a+=Oe.transform(n[o]):a+=n[o]}return a}}const ex=e=>typeof e=="number"?0:e;function tx(e){const t=$u(e);return Fu(e)(t.map(ex))}const Vt={test:Jv,parse:$u,createTransformer:Fu,getAnimatableNone:tx},rx=new Set(["brightness","contrast","saturate","opacity"]);function sx(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(Li)||[];if(!s)return e;const n=r.replace(s,"");let a=rx.has(t)?1:0;return s!==r&&(a*=100),t+"("+a+n+")"}const nx=/\b([a-z-]*)\(.*?\)/gu,Ya={...Vt,getAnimatableNone:e=>{const t=e.match(nx);return t?t.map(sx).join(" "):e}},ax={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},ix={rotate:Ot,rotateX:Ot,rotateY:Ot,rotateZ:Ot,scale:Ws,scaleX:Ws,scaleY:Ws,scaleZ:Ws,skew:Ot,skewX:Ot,skewY:Ot,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:ys,originX:cl,originY:cl,originZ:Y},pl={...Vr,transform:Math.round},Fi={...ax,...ix,zIndex:pl,size:Y,fillOpacity:ys,strokeOpacity:ys,numOctaves:pl},ox={...Fi,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Ya,WebkitFilter:Ya},Vi=e=>ox[e];function Vu(e,t){let r=Vi(e);return r!==Ya&&(r=Vt),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const lx=new Set(["auto","none","0"]);function cx(e,t,r){let s=0,n;for(;s<e.length&&!n;){const a=e[s];typeof a=="string"&&!lx.has(a)&&vs(a).values.length&&(n=e[s]),s++}if(n&&r)for(const a of t)e[a]=Vu(r,n)}class Uu extends Mi{constructor(t,r,s,n,a){super(t,r,s,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Ii(d))){const u=Au(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Fv.has(s)||t.length!==2)return;const[n,a]=t,o=fl(n),l=fl(a);if(o!==l)if(dl(o)&&dl(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let n=0;n<t.length;n++)Dv(t[n])&&s.push(n);s.length&&cx(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ar[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&t.getValue(s,n).jump(n,!1)}measureEndState(){var t;const{element:r,name:s,unresolvedKeyframes:n}=this;if(!r||!r.current)return;const a=r.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=Ar[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Ui(e){return typeof e=="function"}let tn;function dx(){tn=void 0}const gt={now:()=>(tn===void 0&&gt.set(Re.isProcessing||Nv.useManualTiming?Re.timestamp:performance.now()),tn),set:e=>{tn=e,queueMicrotask(dx)}},gl=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vt.test(e)||e==="0")&&!e.startsWith("url("));function ux(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function hx(e,t,r,s){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=gl(n,t),l=gl(a,t);return!o||!l?!1:ux(e)||(r==="spring"||Ui(r))&&s}const fx=40;class qu{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gt.now(),this.options={autoplay:t,delay:r,type:s,repeat:n,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fx?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zv(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=gt.now(),this.hasAttemptedResolve=!0;const{name:s,type:n,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!hx(t,s,n,a))if(o)this.options.duration=0;else{c==null||c(On(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Er=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},Bu=(e,t,r=10)=>{let s="";const n=Math.max(Math.round(t/r),2);for(let a=0;a<n;a++)s+=e(Er(0,n-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function zu(e,t){return t?e*(1e3/t):0}const mx=5;function Hu(e,t,r){const s=Math.max(t-mx,0);return zu(r-e(s),t-s)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},la=.001;function px({duration:e=_e.duration,bounce:t=_e.bounce,velocity:r=_e.velocity,mass:s=_e.mass}){let n,a,o=1-t;o=jt(_e.minDamping,_e.maxDamping,o),e=jt(_e.minDuration,_e.maxDuration,_t(e)),o<1?(n=d=>{const u=d*o,h=u*e,f=u-r,m=Ja(d,o),g=Math.exp(-h);return la-f/m*g},a=d=>{const h=d*o*e,f=h*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),y=Ja(Math.pow(d,2),o);return(-n(d)+la>0?-1:1)*((f-m)*g)/y}):(n=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-la+u*h},a=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=yx(n,a,l);if(e=wt(e),isNaN(c))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const gx=12;function yx(e,t,r){let s=r;for(let n=1;n<gx;n++)s=s-e(s)/t(s);return s}function Ja(e,t){return e*Math.sqrt(1-t*t)}const Xa=2e4;function Wu(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<Xa;)t+=r,s=e.next(t);return t>=Xa?1/0:t}const vx=["duration","bounce"],xx=["stiffness","damping","mass"];function yl(e,t){return t.some(r=>e[r]!==void 0)}function bx(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!yl(e,xx)&&yl(e,vx))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),n=s*s,a=2*jt(.05,1,1-e.bounce)*Math.sqrt(n);t={...t,mass:_e.mass,stiffness:n,damping:a}}else{const r=px(e);t={...t,...r,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function Gu(e=_e.visualDuration,t=_e.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:n}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=bx({...r,velocity:-_t(r.velocity||0)}),g=f||0,y=d/(2*Math.sqrt(c*u)),b=o-a,v=_t(Math.sqrt(c/u)),w=Math.abs(b)<5;s||(s=w?_e.restSpeed.granular:_e.restSpeed.default),n||(n=w?_e.restDelta.granular:_e.restDelta.default);let x;if(y<1){const N=Ja(v,y);x=T=>{const P=Math.exp(-y*v*T);return o-P*((g+y*v*b)/N*Math.sin(N*T)+b*Math.cos(N*T))}}else if(y===1)x=N=>o-Math.exp(-v*N)*(b+(g+v*b)*N);else{const N=v*Math.sqrt(y*y-1);x=T=>{const P=Math.exp(-y*v*T),S=Math.min(N*T,300);return o-P*((g+y*v*b)*Math.sinh(S)+N*b*Math.cosh(S))/N}}const j={calculatedDuration:m&&h||null,next:N=>{const T=x(N);if(m)l.done=N>=h;else{let P=0;y<1&&(P=N===0?wt(g):Hu(x,N,T));const S=Math.abs(P)<=s,C=Math.abs(o-T)<=n;l.done=S&&C}return l.value=l.done?o:T,l},toString:()=>{const N=Math.min(Wu(j),Xa),T=Bu(P=>j.next(N*P).value,N,30);return N+"ms "+T}};return j}function vl({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,g=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=r*t;const b=h+y,v=o===void 0?b:o(b);v!==b&&(y=v-h);const w=S=>-y*Math.exp(-S/s),x=S=>v+w(S),j=S=>{const C=w(S),M=x(S);f.done=Math.abs(C)<=d,f.value=f.done?v:M};let N,T;const P=S=>{m(f.value)&&(N=S,T=Gu({keyframes:[f.value,g(f.value)],velocity:Hu(x,S,f.value),damping:n,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:S=>{let C=!1;return!T&&N===void 0&&(C=!0,j(S),P(S)),N!==void 0&&S>=N?T.next(S-N):(!C&&j(S),f)}}}const wx=Ds(.42,0,1,1),_x=Ds(0,0,.58,1),Ku=Ds(.42,0,.58,1),jx=e=>Array.isArray(e)&&typeof e[0]!="number",qi=e=>Array.isArray(e)&&typeof e[0]=="number",xl={linear:Xe,easeIn:wx,easeInOut:Ku,easeOut:_x,circIn:Oi,circInOut:Nu,circOut:ku,backIn:Ri,backInOut:_u,backOut:wu,anticipate:ju},bl=e=>{if(qi(e)){Ha(e.length===4);const[t,r,s,n]=e;return Ds(t,r,s,n)}else if(typeof e=="string")return Ha(xl[e]!==void 0),xl[e];return e},kx=(e,t)=>r=>t(e(r)),Os=(...e)=>e.reduce(kx),we=(e,t,r)=>e+(t-e)*r;function ca(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Nx({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let n=0,a=0,o=0;if(!t)n=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;n=ca(c,l,e+1/3),a=ca(c,l,e),o=ca(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function cn(e,t){return r=>r>0?t:e}const da=(e,t,r)=>{const s=e*e,n=r*(t*t-s)+s;return n<0?0:Math.sqrt(n)},Sx=[Ka,rr,xr],Tx=e=>Sx.find(t=>t.test(e));function wl(e){const t=Tx(e);if(!t)return!1;let r=t.parse(e);return t===xr&&(r=Nx(r)),r}const _l=(e,t)=>{const r=wl(e),s=wl(t);if(!r||!s)return cn(e,t);const n={...r};return a=>(n.red=da(r.red,s.red,a),n.green=da(r.green,s.green,a),n.blue=da(r.blue,s.blue,a),n.alpha=we(r.alpha,s.alpha,a),rr.transform(n))},Qa=new Set(["none","hidden"]);function Cx(e,t){return Qa.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Px(e,t){return r=>we(e,t,r)}function Bi(e){return typeof e=="number"?Px:typeof e=="string"?Ii(e)?cn:Oe.test(e)?_l:Dx:Array.isArray(e)?Yu:typeof e=="object"?Oe.test(e)?_l:Ax:cn}function Yu(e,t){const r=[...e],s=r.length,n=e.map((a,o)=>Bi(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)r[o]=n[o](a);return r}}function Ax(e,t){const r={...e,...t},s={};for(const n in r)e[n]!==void 0&&t[n]!==void 0&&(s[n]=Bi(e[n])(e[n],t[n]));return n=>{for(const a in s)r[a]=s[a](n);return r}}function Ex(e,t){var r;const s=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][n[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;s[a]=c,n[o]++}return s}const Dx=(e,t)=>{const r=Vt.createTransformer(t),s=vs(e),n=vs(t);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?Qa.has(e)&&!n.values.length||Qa.has(t)&&!s.values.length?Cx(e,t):Os(Yu(Ex(s,n),n.values),r):cn(e,t)};function Ju(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?we(e,t,r):Bi(e)(e,t)}function Rx(e,t,r){const s=[],n=r||Ju,a=e.length-1;for(let o=0;o<a;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Xe:t;l=Os(c,l)}s.push(l)}return s}function Ox(e,t,{clamp:r=!0,ease:s,mixer:n}={}){const a=e.length;if(Ha(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Rx(t,s,n),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Er(e[u],e[u+1],d);return o[u](h)};return r?d=>c(jt(e[0],e[a-1],d)):c}function Ix(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const n=Er(0,t,s);e.push(we(r,1,n))}}function Mx(e){const t=[0];return Ix(t,e.length-1),t}function Lx(e,t){return e.map(r=>r*t)}function $x(e,t){return e.map(()=>t||Ku).splice(0,e.length-1)}function dn({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const n=jx(s)?s.map(bl):bl(s),a={done:!1,value:t[0]},o=Lx(r&&r.length===t.length?r:Mx(t),e),l=Ox(o,t,{ease:Array.isArray(n)?n:$x(t,n)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Fx=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ge.update(t,!0),stop:()=>Ft(t),now:()=>Re.isProcessing?Re.timestamp:gt.now()}},Vx={decay:vl,inertia:vl,tween:dn,keyframes:dn,spring:Gu},Ux=e=>e/100;class zi extends qu{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:s,element:n,keyframes:a}=this.options,o=(n==null?void 0:n.KeyframeResolver)||Mi,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,r,s,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=this.options,l=Ui(r)?r:Vx[r]||dn;let c,d;l!==dn&&typeof t[0]!="number"&&(c=Os(Ux,Ju(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Wu(u));const{calculatedDuration:h}=u,f=h+n,m=f*(s+1)-n;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:s}=this;if(!s){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:n,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:g,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,j=a;if(m){const S=Math.min(this.currentTime,u)/h;let C=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(g==="reverse"?(M=1-M,y&&(M-=y/h)):g==="mirror"&&(j=o)),x=jt(0,1,M)*h}const N=w?{done:!1,value:c[0]}:j.next(x);l&&(N.value=l(N.value));let{done:T}=N;!w&&d!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&n!==void 0&&(N.value=On(c,this.options,n)),b&&b(N.value),P&&this.finish(),N}get duration(){const{resolved:t}=this;return t?_t(t.calculatedDuration):0}get time(){return _t(this.currentTime)}set time(t){t=wt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=_t(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Fx,onPlay:r,startTime:s}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qx=new Set(["opacity","clipPath","filter","transform"]);function Hi(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bx={linearEasing:void 0};function zx(e,t){const r=Hi(e);return()=>{var s;return(s=Bx[t])!==null&&s!==void 0?s:r()}}const un=zx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Xu(e){return!!(typeof e=="function"&&un()||!e||typeof e=="string"&&(e in Za||un())||qi(e)||Array.isArray(e)&&e.every(Xu))}const ns=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,Za={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ns([0,.65,.55,1]),circOut:ns([.55,0,1,.45]),backIn:ns([.31,.01,.66,-.59]),backOut:ns([.33,1.53,.69,.99])};function Qu(e,t){if(e)return typeof e=="function"&&un()?Bu(e,t):qi(e)?ns(e):Array.isArray(e)?e.map(r=>Qu(r,t)||Za.easeOut):Za[e]}function Hx(e,t,r,{delay:s=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=Qu(l,n);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function jl(e,t){e.timeline=t,e.onfinish=null}const Wx=Hi(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hn=10,Gx=2e4;function Kx(e){return Ui(e.type)||e.type==="spring"||!Xu(e.ease)}function Yx(e,t){const r=new zi({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const n=[];let a=0;for(;!s.done&&a<Gx;)s=r.sample(a),n.push(s.value),a+=hn;return{times:void 0,keyframes:n,duration:a-hn,ease:"linear"}}const Zu={anticipate:ju,backInOut:_u,circInOut:Nu};function Jx(e){return e in Zu}class kl extends qu{constructor(t){super(t);const{name:r,motionValue:s,element:n,keyframes:a}=this.options;this.resolver=new Uu(a,(o,l)=>this.onKeyframesResolved(o,l),r,s,n),this.resolver.scheduleResolve()}initPlayback(t,r){var s;let{duration:n=300,times:a,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(typeof o=="string"&&un()&&Jx(o)&&(o=Zu[o]),Kx(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:y,...b}=this.options,v=Yx(t,b);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,a=v.times,o=v.ease,l="keyframes"}const h=Hx(c.owner.current,d,t,{...this.options,duration:n,times:a,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(jl(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(On(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:n,times:a,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return _t(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return _t(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.currentTime=wt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:s}=r;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Xe;const{animation:s}=r;jl(s,t)}return Xe}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:s,duration:n,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...m}=this.options,g=new zi({...m,keyframes:s,duration:n,type:a,ease:o,times:l,isGenerator:!0}),y=wt(this.time);d.setWithVelocity(g.sample(y-hn).value,g.sample(y).value,hn)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:s,repeatDelay:n,repeatType:a,damping:o,type:l}=t;return Wx()&&s&&qx.has(s)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!n&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Xx=Hi(()=>window.ScrollTimeline!==void 0);class Qx{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=r}attachTimeline(t,r){const s=this.animations.map(n=>Xx()&&n.attachTimeline?n.attachTimeline(t):r(n));return()=>{s.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Zx({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Wi=(e,t,r,s={},n,a)=>o=>{const l=Di(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-wt(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:n};Zx(l)||(u={...u,...kv(e,u)}),u.duration&&(u.duration=wt(u.duration)),u.repeatDelay&&(u.repeatDelay=wt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=On(u.keyframes,l);if(f!==void 0)return ge.update(()=>{u.onUpdate(f),u.onComplete()}),new Qx([])}return!a&&kl.supports(u)?new kl(u):new zi(u)},eb=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),tb=e=>za(e)?e[e.length-1]||0:e;function Gi(e,t){e.indexOf(t)===-1&&e.push(t)}function Ki(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Yi{constructor(){this.subscriptions=[]}add(t){return Gi(this.subscriptions,t),()=>Ki(this.subscriptions,t)}notify(t,r,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,s);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nl=30,rb=e=>!isNaN(parseFloat(e));class sb{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,n=!0)=>{const a=gt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=gt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Yi);const s=this.events[t].add(r);return t==="change"?()=>{s(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Nl)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Nl);return zu(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xs(e,t){return new sb(e,t)}function nb(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,xs(r))}function ab(e,t){const r=Rn(e,t);let{transitionEnd:s={},transition:n={},...a}=r||{};a={...a,...s};for(const o in a){const l=tb(a[o]);nb(e,o,l)}}const Ji=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ib="framerAppearId",eh="data-"+Ji(ib);function th(e){return e.props[eh]}const Me=e=>!!(e&&e.getVelocity);function ob(e){return!!(Me(e)&&e.add)}function ei(e,t){const r=e.getValue("willChange");if(ob(r))return r.add(t)}function lb({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function rh(e,t,{delay:r=0,transitionOverride:s,type:n}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const d=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||u&&lb(u,h))continue;const g={delay:r,...Di(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=th(e);if(v){const w=window.MotionHandoffAnimation(v,h,ge);w!==null&&(g.startTime=w,y=!0)}}ei(e,h),f.start(Wi(h,f,m,e.shouldReduceMotion&&or.has(h)?{type:!1}:g,e,y));const b=f.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{ge.update(()=>{l&&ab(e,l)})}),d}function ti(e,t,r={}){var s;const n=Rn(e,t,r.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const o=n?()=>Promise.all(rh(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return cb(e,t,u+d,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function cb(e,t,r=0,s=0,n=1,a){const o=[],l=(e.variantChildren.size-1)*s,c=n===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(db).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(ti(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function db(e,t){return e.sortNodePosition(t)}function ub(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const n=t.map(a=>ti(e,a,r));s=Promise.all(n)}else if(typeof t=="string")s=ti(e,t,r);else{const n=typeof t=="function"?Rn(e,t,r.custom):t;s=Promise.all(rh(e,n,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}const hb=Ei.length;function sh(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?sh(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<hb;r++){const s=Ei[r],n=e.props[s];(gs(n)||n===!1)&&(t[s]=n)}return t}const fb=[...Ai].reverse(),mb=Ai.length;function pb(e){return t=>Promise.all(t.map(({animation:r,options:s})=>ub(e,r,s)))}function gb(e){let t=pb(e),r=Sl(),s=!0;const n=c=>(d,u)=>{var h;const f=Rn(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;d={...d,...y,...g}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=sh(e.parent)||{},h=[],f=new Set;let m={},g=1/0;for(let b=0;b<mb;b++){const v=fb[b],w=r[v],x=d[v]!==void 0?d[v]:u[v],j=gs(x),N=v===c?w.isActive:null;N===!1&&(g=b);let T=x===u[v]&&x!==d[v]&&j;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&N===null||!x&&!w.prevProp||Dn(x)||typeof x=="boolean")continue;const P=yb(w.prevProp,x);let S=P||v===c&&w.isActive&&!T&&j||b>g&&j,C=!1;const M=Array.isArray(x)?x:[x];let O=M.reduce(n(v),{});N===!1&&(O={});const{prevResolvedValues:A={}}=w,E={...A,...O},D=I=>{S=!0,f.has(I)&&(C=!0,f.delete(I)),w.needsAnimating[I]=!0;const G=e.getValue(I);G&&(G.liveStyle=!1)};for(const I in E){const G=O[I],L=A[I];if(m.hasOwnProperty(I))continue;let W=!1;za(G)&&za(L)?W=!gu(G,L):W=G!==L,W?G!=null?D(I):f.add(I):G!==void 0&&f.has(I)?D(I):w.protectedKeys[I]=!0}w.prevProp=x,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),s&&e.blockInitialAnimation&&(S=!1),S&&(!(T&&P)||C)&&h.push(...M.map(I=>({animation:I,options:{type:v}})))}if(f.size){const b={};f.forEach(v=>{const w=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),b[v]=w??null}),h.push({animation:b})}let y=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(h):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=Sl(),s=!0}}}function yb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gu(t,e):!1}function Yt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sl(){return{animate:Yt(!0),whileInView:Yt(),whileHover:Yt(),whileTap:Yt(),whileDrag:Yt(),whileFocus:Yt(),exit:Yt()}}class qt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vb extends qt{constructor(t){super(t),t.animationState||(t.animationState=gb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xb=0;class bb extends qt{constructor(){super(...arguments),this.id=xb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const n=this.node.animationState.setActive("exit",!t);r&&!t&&n.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wb={animation:{Feature:vb},exit:{Feature:bb}},lt={x:!1,y:!1};function nh(){return lt.x||lt.y}function _b(e,t,r){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let n=document;const a=(s=void 0)!==null&&s!==void 0?s:n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function ah(e,t){const r=_b(e),s=new AbortController,n={passive:!0,...t,signal:s.signal};return[r,n,()=>s.abort()]}function Tl(e){return t=>{t.pointerType==="touch"||nh()||e(t)}}function jb(e,t,r={}){const[s,n,a]=ah(e,r),o=Tl(l=>{const{target:c}=l,d=t(l);if(!d||!c)return;const u=Tl(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,n)});return s.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}const Xi=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,as=new WeakSet;function Cl(e){return t=>{t.key==="Enter"&&e(t)}}function ua(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kb=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=Cl(()=>{if(as.has(r))return;ua(r,"down");const n=Cl(()=>{ua(r,"up")}),a=()=>ua(r,"cancel");r.addEventListener("keyup",n,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)},Nb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sb(e){return Nb.has(e.tagName)||e.tabIndex!==-1}const ih=(e,t)=>t?e===t?!0:ih(e,t.parentElement):!1;function Pl(e){return Xi(e)&&!nh()}function Tb(e,t,r={}){const[s,n,a]=ah(e,r),o=l=>{const c=l.currentTarget;if(!Pl(l)||as.has(c))return;as.add(c);const d=t(l),u=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Pl(m)||!as.has(c))&&(as.delete(c),d&&d(m,{success:g}))},h=m=>{u(m,r.useGlobalTarget||ih(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",f,n)};return s.forEach(l=>{Sb(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),l.addEventListener("focus",d=>kb(d,n),n)}),a}function Cb(e){return e==="x"||e==="y"?lt[e]?null:(lt[e]=!0,()=>{lt[e]=!1}):lt.x||lt.y?null:(lt.x=lt.y=!0,()=>{lt.x=lt.y=!1})}function Is(e){return{point:{x:e.pageX,y:e.pageY}}}const Pb=e=>t=>Xi(t)&&e(t,Is(t));function bs(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function us(e,t,r,s){return bs(e,t,Pb(r),s)}const Al=(e,t)=>Math.abs(e-t);function Ab(e,t){const r=Al(e.x,t.x),s=Al(e.y,t.y);return Math.sqrt(r**2+s**2)}class oh{constructor(t,r,{transformPagePoint:s,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=fa(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Ab(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=h,{timestamp:y}=Re;this.history.push({...g,timestamp:y});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ha(f,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=fa(h.type==="pointercancel"?this.lastMoveEventInfo:ha(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),g&&g(h,b)},!Xi(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.contextWindow=n||window;const o=Is(t),l=ha(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Re;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,fa(l,this.history)),this.removeListeners=Os(us(this.contextWindow,"pointermove",this.handlePointerMove),us(this.contextWindow,"pointerup",this.handlePointerUp),us(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ft(this.updatePoint)}}function ha(e,t){return t?{point:t(e.point)}:e}function El(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fa({point:e},t){return{point:e,delta:El(e,lh(t)),offset:El(e,Eb(t)),velocity:Db(t,.1)}}function Eb(e){return e[0]}function lh(e){return e[e.length-1]}function Db(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const n=lh(e);for(;r>=0&&(s=e[r],!(n.timestamp-s.timestamp>wt(t)));)r--;if(!s)return{x:0,y:0};const a=_t(n.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-s.x)/a,y:(n.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function br(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const ch=1e-4,Rb=1-ch,Ob=1+ch,dh=.01,Ib=0-dh,Mb=0+dh;function Qe(e){return e.max-e.min}function Lb(e,t,r){return Math.abs(e-t)<=r}function Dl(e,t,r,s=.5){e.origin=s,e.originPoint=we(t.min,t.max,e.origin),e.scale=Qe(r)/Qe(t),e.translate=we(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Rb&&e.scale<=Ob||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ib&&e.translate<=Mb||isNaN(e.translate))&&(e.translate=0)}function hs(e,t,r,s){Dl(e.x,t.x,r.x,s?s.originX:void 0),Dl(e.y,t.y,r.y,s?s.originY:void 0)}function Rl(e,t,r){e.min=r.min+t.min,e.max=e.min+Qe(t)}function $b(e,t,r){Rl(e.x,t.x,r.x),Rl(e.y,t.y,r.y)}function Ol(e,t,r){e.min=t.min-r.min,e.max=e.min+Qe(t)}function fs(e,t,r){Ol(e.x,t.x,r.x),Ol(e.y,t.y,r.y)}function Fb(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?we(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?we(r,e,s.max):Math.min(e,r)),e}function Il(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Vb(e,{top:t,left:r,bottom:s,right:n}){return{x:Il(e.x,r,n),y:Il(e.y,t,s)}}function Ml(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function Ub(e,t){return{x:Ml(e.x,t.x),y:Ml(e.y,t.y)}}function qb(e,t){let r=.5;const s=Qe(e),n=Qe(t);return n>s?r=Er(t.min,t.max-s,e.min):s>n&&(r=Er(e.min,e.max-n,t.min)),jt(0,1,r)}function Bb(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ri=.35;function zb(e=ri){return e===!1?e=0:e===!0&&(e=ri),{x:Ll(e,"left","right"),y:Ll(e,"top","bottom")}}function Ll(e,t,r){return{min:$l(e,t),max:$l(e,r)}}function $l(e,t){return typeof e=="number"?e:e[t]||0}const Fl=()=>({translate:0,scale:1,origin:0,originPoint:0}),wr=()=>({x:Fl(),y:Fl()}),Vl=()=>({min:0,max:0}),ke=()=>({x:Vl(),y:Vl()});function nt(e){return[e("x"),e("y")]}function uh({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function Hb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Wb(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function ma(e){return e===void 0||e===1}function si({scale:e,scaleX:t,scaleY:r}){return!ma(e)||!ma(t)||!ma(r)}function Qt(e){return si(e)||hh(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function hh(e){return Ul(e.x)||Ul(e.y)}function Ul(e){return e&&e!=="0%"}function fn(e,t,r){const s=e-r,n=t*s;return r+n}function ql(e,t,r,s,n){return n!==void 0&&(e=fn(e,n,s)),fn(e,r,s)+t}function ni(e,t=0,r=1,s,n){e.min=ql(e.min,t,r,s,n),e.max=ql(e.max,t,r,s,n)}function fh(e,{x:t,y:r}){ni(e.x,t.translate,t.scale,t.originPoint),ni(e.y,r.translate,r.scale,r.originPoint)}const Bl=.999999999999,zl=1.0000000000001;function Gb(e,t,r,s=!1){const n=r.length;if(!n)return;t.x=t.y=1;let a,o;for(let l=0;l<n;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&jr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,fh(e,o)),s&&Qt(a.latestValues)&&jr(e,a.latestValues))}t.x<zl&&t.x>Bl&&(t.x=1),t.y<zl&&t.y>Bl&&(t.y=1)}function _r(e,t){e.min=e.min+t,e.max=e.max+t}function Hl(e,t,r,s,n=.5){const a=we(e.min,e.max,n);ni(e,t,r,a,s)}function jr(e,t){Hl(e.x,t.x,t.scaleX,t.scale,t.originX),Hl(e.y,t.y,t.scaleY,t.scale,t.originY)}function mh(e,t){return uh(Wb(e.getBoundingClientRect(),t))}function Kb(e,t,r){const s=mh(e,r),{scroll:n}=t;return n&&(_r(s.x,n.offset.x),_r(s.y,n.offset.y)),s}const ph=({current:e})=>e?e.ownerDocument.defaultView:null,Yb=new WeakMap;class Jb{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Is(u).point)},a=(u,h)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cb(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(pt.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[b];x&&(v=Qe(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),g&&ge.postRender(()=>g(u,h)),ei(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=Xb(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(u,h)},l=(u,h)=>this.stop(u,h),c=()=>nt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new oh(t,{onSessionStart:n,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:ph(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&ge.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:n}=this.getProps();if(!s||!Gs(t,n,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Fb(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&br(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&n?this.constraints=Vb(n.layoutBox,r):this.constraints=!1,this.elastic=zb(s),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&nt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Bb(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!br(t))return!1;const s=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=Kb(s,n.root,this.visualElement.getTransformPagePoint());let o=Ub(n.layout.layoutBox,a);if(r){const l=r(Hb(o));this.hasMutatedConstraints=!!l,l&&(o=uh(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=nt(u=>{if(!Gs(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=n?200:1e6,m=n?40:1e7,g={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return ei(this.visualElement,t),s.start(Wi(t,s,0,r,this.visualElement,!1))}stopAnimation(){nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),n=s[r];return n||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){nt(r=>{const{drag:s}=this.getProps();if(!Gs(r,s,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];a.set(t[r]-we(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!br(r)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};nt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=qb({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),nt(o=>{if(!Gs(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(we(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;Yb.set(this.visualElement,this);const t=this.visualElement.current,r=us(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();br(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ge.read(s);const o=bs(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(nt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=ri,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Gs(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Xb(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Qb extends qt{constructor(t){super(t),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new Jb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wl=e=>(t,r)=>{e&&ge.postRender(()=>e(t,r))};class Zb extends qt{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(t){this.session=new oh(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ph(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:Wl(t),onStart:Wl(r),onMove:s,onEnd:(a,o)=>{delete this.session,n&&ge.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=us(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const In=p.createContext(null);function ew(){const e=p.useContext(In);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,n=p.useId();p.useEffect(()=>s(n),[]);const a=p.useCallback(()=>r&&r(n),[n,r]);return!t&&r?[!1,a]:[!0]}const Qi=p.createContext({}),gh=p.createContext({}),rn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Y.test(e))e=parseFloat(e);else return e;const r=Gl(e,t.target.x),s=Gl(e,t.target.y);return`${r}% ${s}%`}},tw={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,n=Vt.parse(e);if(n.length>5)return s;const a=Vt.createTransformer(e),o=typeof n[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const d=we(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}},mn={};function rw(e){Object.assign(mn,e)}const{schedule:Zi,cancel:PN}=yu(queueMicrotask,!1);class sw extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:n}=this.props,{projection:a}=t;rw(nw),a&&(r.group&&r.group.add(a),s&&s.register&&n&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:n,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,n||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ge.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yh(e){const[t,r]=ew(),s=p.useContext(Qi);return i.jsx(sw,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(gh),isPresent:t,safeToRemove:r})}const nw={borderRadius:{...Jr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jr,borderTopRightRadius:Jr,borderBottomLeftRadius:Jr,borderBottomRightRadius:Jr,boxShadow:tw},vh=["TopLeft","TopRight","BottomLeft","BottomRight"],aw=vh.length,Kl=e=>typeof e=="string"?parseFloat(e):e,Yl=e=>typeof e=="number"||Y.test(e);function iw(e,t,r,s,n,a){n?(e.opacity=we(0,r.opacity!==void 0?r.opacity:1,ow(s)),e.opacityExit=we(t.opacity!==void 0?t.opacity:1,0,lw(s))):a&&(e.opacity=we(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<aw;o++){const l=`border${vh[o]}Radius`;let c=Jl(t,l),d=Jl(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Yl(c)===Yl(d)?(e[l]=Math.max(we(Kl(c),Kl(d),s),0),(pt.test(d)||pt.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=we(t.rotate||0,r.rotate||0,s))}function Jl(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ow=xh(0,.5,ku),lw=xh(.5,.95,Xe);function xh(e,t,r){return s=>s<e?0:s>t?1:r(Er(e,t,s))}function Xl(e,t){e.min=t.min,e.max=t.max}function st(e,t){Xl(e.x,t.x),Xl(e.y,t.y)}function Ql(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zl(e,t,r,s,n){return e-=t,e=fn(e,1/r,s),n!==void 0&&(e=fn(e,1/n,s)),e}function cw(e,t=0,r=1,s=.5,n,a=e,o=e){if(pt.test(t)&&(t=parseFloat(t),t=we(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=we(a.min,a.max,s);e===a&&(l-=t),e.min=Zl(e.min,t,r,l,n),e.max=Zl(e.max,t,r,l,n)}function ec(e,t,[r,s,n],a,o){cw(e,t[r],t[s],t[n],t.scale,a,o)}const dw=["x","scaleX","originX"],uw=["y","scaleY","originY"];function tc(e,t,r,s){ec(e.x,t,dw,r?r.x:void 0,s?s.x:void 0),ec(e.y,t,uw,r?r.y:void 0,s?s.y:void 0)}function rc(e){return e.translate===0&&e.scale===1}function bh(e){return rc(e.x)&&rc(e.y)}function sc(e,t){return e.min===t.min&&e.max===t.max}function hw(e,t){return sc(e.x,t.x)&&sc(e.y,t.y)}function nc(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wh(e,t){return nc(e.x,t.x)&&nc(e.y,t.y)}function ac(e){return Qe(e.x)/Qe(e.y)}function ic(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class fw{constructor(){this.members=[]}add(t){Gi(this.members,t),t.scheduleRender()}remove(t){if(Ki(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(n=>t===n);if(r===0)return!1;let s;for(let n=r;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mw(e,t,r){let s="";const n=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((n||a||o)&&(s=`translate3d(${n}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:g}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),m&&(s+=`skewX(${m}deg) `),g&&(s+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const pw=(e,t)=>e.depth-t.depth;class gw{constructor(){this.children=[],this.isDirty=!1}add(t){Gi(this.children,t),this.isDirty=!0}remove(t){Ki(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pw),this.isDirty=!1,this.children.forEach(t)}}function sn(e){const t=Me(e)?e.get():e;return eb(t)?t.toValue():t}function yw(e,t){const r=gt.now(),s=({timestamp:n})=>{const a=n-r;a>=t&&(Ft(s),e(a-t))};return ge.read(s,!0),()=>Ft(s)}function vw(e){return e instanceof SVGElement&&e.tagName!=="svg"}function xw(e,t,r){const s=Me(e)?e:xs(e);return s.start(Wi("",s,t,r)),s.animation}const Zt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},is=typeof window<"u"&&window.MotionDebug!==void 0,pa=["","X","Y","Z"],bw={visibility:"hidden"},oc=1e3;let ww=0;function ga(e,t,r,s){const{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),s&&(s[e]=0))}function _h(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=th(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ge,!(n||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&_h(s)}function jh({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=ww++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,is&&(Zt.totalNodes=Zt.resolvedTargetDeltas=Zt.recalculatedProjection=0),this.nodes.forEach(kw),this.nodes.forEach(Pw),this.nodes.forEach(Aw),this.nodes.forEach(Nw),is&&window.MotionDebug.record(Zt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gw)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yi),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vw(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=yw(f,250),rn.hasAnimatedSinceResize&&(rn.hasAnimatedSinceResize=!1,this.nodes.forEach(cc))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Iw,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!wh(this.targetLayout,g)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const j={...Di(y,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||cc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ft(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ew),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_h(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lc);return}this.isUpdating||this.nodes.forEach(Tw),this.isUpdating=!1,this.nodes.forEach(Cw),this.nodes.forEach(_w),this.nodes.forEach(jw),this.clearAllSnapshots();const l=gt.now();Re.delta=jt(0,1e3/60,l-Re.timestamp),Re.timestamp=l,Re.isProcessing=!0,ia.update.process(Re),ia.preRender.process(Re),ia.render.process(Re),Re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sw),this.sharedNodes.forEach(Dw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bh(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Qt(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Mw(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ke();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Lw))){const{scroll:u}=this.root;u&&(_r(c.x,u.offset.x),_r(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=ke();if(st(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&st(c,o),_r(c.x,h.offset.x),_r(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ke();st(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qt(u.latestValues)&&jr(c,u.latestValues)}return Qt(this.latestValues)&&jr(c,this.latestValues),c}removeTransform(o){const l=ke();st(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Qt(d.latestValues))continue;si(d.latestValues)&&d.updateSnapshot();const u=ke(),h=d.measurePageBox();st(u,h),tc(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Qt(this.latestValues)&&tc(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Re.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),fs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),st(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$b(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):st(this.target,this.layout.layoutBox),fh(this.target,this.targetDelta)):st(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),fs(this.relativeTargetOrigin,this.target,m.target),st(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}is&&Zt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||si(this.parent.latestValues)||hh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Re.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;st(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Gb(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ke());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ql(this.prevProjectionDelta.x,this.projectionDelta.x),Ql(this.prevProjectionDelta.y,this.projectionDelta.y)),hs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!ic(this.projectionDelta.x,this.prevProjectionDelta.x)||!ic(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),is&&Zt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wr(),this.projectionDelta=wr(),this.projectionDeltaWithTransform=wr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ke(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,b=this.getStack(),v=!b||b.members.length<=1,w=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Ow));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const N=j/1e3;dc(h.x,o.x,N),dc(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rw(this.relativeTarget,this.relativeTargetOrigin,f,N),x&&hw(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ke()),st(x,this.relativeTarget)),y&&(this.animationValues=u,iw(u,d,this.latestValues,N,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ft(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{rn.hasAnimatedSinceResize=!0,this.currentAnimation=xw(0,oc,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&kh(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ke();const h=Qe(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Qe(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}st(l,c),jr(l,u),hs(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fw),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ga("z",o,d,this.animationValues);for(let u=0;u<pa.length;u++)ga(`rotate${pa[u]}`,o,d,this.animationValues),ga(`skew${pa[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bw;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sn(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=sn(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qt(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=mw(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:g}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in mn){if(f[y]===void 0)continue;const{correct:b,applyTo:v}=mn[y],w=d.transform==="none"?f[y]:b(f[y],h);if(v){const x=v.length;for(let j=0;j<x;j++)d[v[j]]=w}else d[y]=w}return this.options.layoutId&&(d.pointerEvents=h===this?sn(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(lc),this.root.sharedNodes.clear()}}}function _w(e){e.updateLayout()}function jw(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?nt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Qe(f);f.min=s[h].min,f.max=f.min+m}):kh(a,r.layoutBox,s)&&nt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Qe(s[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=wr();hs(l,s,r.layoutBox);const c=wr();o?hs(c,e.applyTransform(n,!0),r.measuredBox):hs(c,s,r.layoutBox);const d=!bh(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=ke();fs(g,r.layoutBox,f.layoutBox);const y=ke();fs(y,s,m.layoutBox),wh(g,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function kw(e){is&&Zt.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Nw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sw(e){e.clearSnapshot()}function lc(e){e.clearMeasurements()}function Tw(e){e.isLayoutDirty=!1}function Cw(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pw(e){e.resolveTargetDelta()}function Aw(e){e.calcProjection()}function Ew(e){e.resetSkewAndRotation()}function Dw(e){e.removeLeadSnapshot()}function dc(e,t,r){e.translate=we(t.translate,0,r),e.scale=we(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function uc(e,t,r,s){e.min=we(t.min,r.min,s),e.max=we(t.max,r.max,s)}function Rw(e,t,r,s){uc(e.x,t.x,r.x,s),uc(e.y,t.y,r.y,s)}function Ow(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Iw={duration:.45,ease:[.4,0,.1,1]},hc=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fc=hc("applewebkit/")&&!hc("chrome/")?Math.round:Xe;function mc(e){e.min=fc(e.min),e.max=fc(e.max)}function Mw(e){mc(e.x),mc(e.y)}function kh(e,t,r){return e==="position"||e==="preserve-aspect"&&!Lb(ac(t),ac(r),.2)}function Lw(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const $w=jh({attachResizeListener:(e,t)=>bs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ya={current:void 0},Nh=jh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ya.current){const e=new $w({});e.mount(window),e.setOptions({layoutScroll:!0}),ya.current=e}return ya.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Fw={pan:{Feature:Zb},drag:{Feature:Qb,ProjectionNode:Nh,MeasureLayout:yh}};function pc(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,a=s[n];a&&ge.postRender(()=>a(t,Is(t)))}class Vw extends qt{mount(){const{current:t}=this.node;t&&(this.unmount=jb(t,r=>(pc(this.node,r,"Start"),s=>pc(this.node,s,"End"))))}unmount(){}}class Uw extends qt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Os(bs(this.node.current,"focus",()=>this.onFocus()),bs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gc(e,t,r){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),a=s[n];a&&ge.postRender(()=>a(t,Is(t)))}class qw extends qt{mount(){const{current:t}=this.node;t&&(this.unmount=Tb(t,r=>(gc(this.node,r,"Start"),(s,{success:n})=>gc(this.node,s,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ai=new WeakMap,va=new WeakMap,Bw=e=>{const t=ai.get(e.target);t&&t(e)},zw=e=>{e.forEach(Bw)};function Hw({root:e,...t}){const r=e||document;va.has(r)||va.set(r,{});const s=va.get(r),n=JSON.stringify(t);return s[n]||(s[n]=new IntersectionObserver(zw,{root:e,...t})),s[n]}function Ww(e,t,r){const s=Hw(t);return ai.set(e,r),s.observe(e),()=>{ai.delete(e),s.unobserve(e)}}const Gw={some:0,all:1};class Kw extends qt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:n="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:Gw[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Ww(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Yw(t,r))&&this.startObserver()}unmount(){}}function Yw({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Jw={inView:{Feature:Kw},tap:{Feature:qw},focus:{Feature:Uw},hover:{Feature:Vw}},Xw={layout:{ProjectionNode:Nh,MeasureLayout:yh}},eo=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Mn=p.createContext({}),to=typeof window<"u",Sh=to?p.useLayoutEffect:p.useEffect,Th=p.createContext({strict:!1});function Qw(e,t,r,s,n){var a,o;const{visualElement:l}=p.useContext(Mn),c=p.useContext(Th),d=p.useContext(In),u=p.useContext(eo).reducedMotion,h=p.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=p.useContext(gh);f&&!f.projection&&n&&(f.type==="html"||f.type==="svg")&&Zw(h.current,r,n,m);const g=p.useRef(!1);p.useInsertionEffect(()=>{f&&g.current&&f.update(r,d)});const y=r[eh],b=p.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Sh(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Zi.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),b.current=!1))}),f}function Zw(e,t,r,s){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Ch(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&br(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function Ch(e){if(e)return e.options.allowProjection!==!1?e.projection:Ch(e.parent)}function e_(e,t,r){return p.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):br(r)&&(r.current=s))},[t])}function Ln(e){return Dn(e.animate)||Ei.some(t=>gs(e[t]))}function Ph(e){return!!(Ln(e)||e.variants)}function t_(e,t){if(Ln(e)){const{initial:r,animate:s}=e;return{initial:r===!1||gs(r)?r:void 0,animate:gs(s)?s:void 0}}return e.inherit!==!1?t:{}}function r_(e){const{initial:t,animate:r}=t_(e,p.useContext(Mn));return p.useMemo(()=>({initial:t,animate:r}),[yc(t),yc(r)])}function yc(e){return Array.isArray(e)?e.join(" "):e}const vc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dr={};for(const e in vc)Dr[e]={isEnabled:t=>vc[e].some(r=>!!t[r])};function s_(e){for(const t in e)Dr[t]={...Dr[t],...e[t]}}const n_=Symbol.for("motionComponentSymbol");function a_({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:n}){e&&s_(e);function a(l,c){let d;const u={...p.useContext(eo),...l,layoutId:i_(l)},{isStatic:h}=u,f=r_(l),m=s(l,h);if(!h&&to){o_();const g=l_(u);d=g.MeasureLayout,f.visualElement=Qw(n,m,u,t,g.ProjectionNode)}return i.jsxs(Mn.Provider,{value:f,children:[d&&f.visualElement?i.jsx(d,{visualElement:f.visualElement,...u}):null,r(n,l,e_(m,f.visualElement,c),m,h,f.visualElement)]})}const o=p.forwardRef(a);return o[n_]=n,o}function i_({layoutId:e}){const t=p.useContext(Qi).id;return t&&e!==void 0?t+"-"+e:e}function o_(e,t){p.useContext(Th).strict}function l_(e){const{drag:t,layout:r}=Dr;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const c_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ro(e){return typeof e!="string"||e.includes("-")?!1:!!(c_.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ah(e,{style:t,vars:r},s,n){Object.assign(e.style,t,n&&n.getProjectionStyles(s));for(const a in r)e.style.setProperty(a,r[a])}const Eh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dh(e,t,r,s){Ah(e,t,void 0,s);for(const n in t.attrs)e.setAttribute(Eh.has(n)?n:Ji(n),t.attrs[n])}function Rh(e,{layout:t,layoutId:r}){return or.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!mn[e]||e==="opacity")}function so(e,t,r){var s;const{style:n}=e,a={};for(const o in n)(Me(n[o])||t.style&&Me(t.style[o])||Rh(o,e)||((s=r==null?void 0:r.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}function Oh(e,t,r){const s=so(e,t,r);for(const n in e)if(Me(e[n])||Me(t[n])){const a=Es.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function no(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}function d_({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,n,a){const o={latestValues:u_(s,n,a,e),renderState:t()};return r&&(o.mount=l=>r(s,l,o)),o}const Ih=e=>(t,r)=>{const s=p.useContext(Mn),n=p.useContext(In),a=()=>d_(e,t,s,n);return r?a():no(a)};function u_(e,t,r,s){const n={},a=s(e,{});for(const f in a)n[f]=sn(a[f]);let{initial:o,animate:l}=e;const c=Ln(e),d=Ph(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Dn(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const g=Pi(e,f[m]);if(g){const{transitionEnd:y,transition:b,...v}=g;for(const w in v){let x=v[w];if(Array.isArray(x)){const j=u?x.length-1:0;x=x[j]}x!==null&&(n[w]=x)}for(const w in y)n[w]=y[w]}}}return n}const ao=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Mh=()=>({...ao(),attrs:{}}),Lh=(e,t)=>t&&typeof e=="number"?t.transform(e):e,h_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f_=Es.length;function m_(e,t,r){let s="",n=!0;for(let a=0;a<f_;a++){const o=Es[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=Lh(l,Fi[o]);if(!c){n=!1;const u=h_[o]||o;s+=`${u}(${d}) `}r&&(t[o]=d)}}return s=s.trim(),r?s=r(t,n?"":s):n&&(s="none"),s}function io(e,t,r){const{style:s,vars:n,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(or.has(c)){o=!0;continue}else if(Pu(c)){n[c]=d;continue}else{const u=Lh(d,Fi[c]);c.startsWith("origin")?(l=!0,a[c]=u):s[c]=u}}if(t.transform||(o||r?s.transform=m_(t,e.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${d} ${u}`}}function xc(e,t,r){return typeof e=="string"?e:Y.transform(t+r*e)}function p_(e,t,r){const s=xc(t,e.x,e.width),n=xc(r,e.y,e.height);return`${s} ${n}`}const g_={offset:"stroke-dashoffset",array:"stroke-dasharray"},y_={offset:"strokeDashoffset",array:"strokeDasharray"};function v_(e,t,r=1,s=0,n=!0){e.pathLength=1;const a=n?g_:y_;e[a.offset]=Y.transform(-s);const o=Y.transform(t),l=Y.transform(r);e[a.array]=`${o} ${l}`}function oo(e,{attrX:t,attrY:r,attrScale:s,originX:n,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(io(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:g}=e;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(n!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=p_(g,n!==void 0?n:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&v_(f,o,l,c,!1)}const lo=e=>typeof e=="string"&&e.toLowerCase()==="svg",x_={useVisualState:Ih({scrapeMotionValuesFromProps:Oh,createRenderState:Mh,onMount:(e,t,{renderState:r,latestValues:s})=>{ge.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ge.render(()=>{oo(r,s,lo(t.tagName),e.transformTemplate),Dh(t,r)})}})},b_={useVisualState:Ih({scrapeMotionValuesFromProps:so,createRenderState:ao})};function $h(e,t,r){for(const s in t)!Me(t[s])&&!Rh(s,r)&&(e[s]=t[s])}function w_({transformTemplate:e},t){return p.useMemo(()=>{const r=ao();return io(r,t,e),Object.assign({},r.vars,r.style)},[t])}function __(e,t){const r=e.style||{},s={};return $h(s,r,e),Object.assign(s,w_(e,t)),s}function j_(e,t){const r={},s=__(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const k_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pn(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||k_.has(e)}let Fh=e=>!pn(e);function N_(e){e&&(Fh=t=>t.startsWith("on")?!pn(t):e(t))}try{N_(require("@emotion/is-prop-valid").default)}catch{}function S_(e,t,r){const s={};for(const n in e)n==="values"&&typeof e.values=="object"||(Fh(n)||r===!0&&pn(n)||!t&&!pn(n)||e.draggable&&n.startsWith("onDrag"))&&(s[n]=e[n]);return s}function T_(e,t,r,s){const n=p.useMemo(()=>{const a=Mh();return oo(a,t,lo(s),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};$h(a,e.style,e),n.style={...a,...n.style}}return n}function C_(e=!1){return(r,s,n,{latestValues:a},o)=>{const c=(ro(r)?T_:j_)(s,a,o,r),d=S_(s,typeof r=="string",e),u=r!==p.Fragment?{...d,...c,ref:n}:{},{children:h}=s,f=p.useMemo(()=>Me(h)?h.get():h,[h]);return p.createElement(r,{...u,children:f})}}function P_(e,t){return function(s,{forwardMotionProps:n}={forwardMotionProps:!1}){const o={...ro(s)?x_:b_,preloadedFeatures:e,useRender:C_(n),createVisualElement:t,Component:s};return a_(o)}}const ii={current:null},Vh={current:!1};function A_(){if(Vh.current=!0,!!to)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ii.current=e.matches;e.addListener(t),t()}else ii.current=!1}function E_(e,t,r){for(const s in t){const n=t[s],a=r[s];if(Me(n))e.addValue(s,n);else if(Me(a))e.addValue(s,xs(n,{owner:e}));else if(a!==n)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(s);e.addValue(s,xs(o!==void 0?o:n,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const bc=new WeakMap,D_=[...Du,Oe,Vt],R_=e=>D_.find(Eu(e)),wc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O_{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=gt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ge.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Ln(r),this.isVariantNode=Ph(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Me(m)&&m.set(c[f],!1)}}mount(t){this.current=t,bc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Vh.current||A_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ii.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bc.delete(this.current),this.projection&&this.projection.unmount(),Ft(this.notifyUpdate),Ft(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=or.has(t),n=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ge.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{n(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Dr){const r=Dr[t];if(!r)continue;const{isEnabled:s,Feature:n}=r;if(!this.features[t]&&n&&s(this.props)&&(this.features[t]=new n(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<wc.length;s++){const n=wc[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=t[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=E_(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=xs(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){var s;let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Tu(n)||Su(n))?n=parseFloat(n):!R_(n)&&Vt.test(r)&&(n=Vu(t,r)),this.setBaseTarget(t,Me(n)?n.get():n)),Me(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=Pi(this.props,s,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Me(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Yi),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Uh extends O_{constructor(){super(...arguments),this.KeyframeResolver=Uu}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Me(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function I_(e){return window.getComputedStyle(e)}class M_ extends Uh{constructor(){super(...arguments),this.type="html",this.renderInstance=Ah}readValueFromInstance(t,r){if(or.has(r)){const s=Vi(r);return s&&s.default||0}else{const s=I_(t),n=(Pu(r)?s.getPropertyValue(r):s[r])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:r}){return mh(t,r)}build(t,r,s){io(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return so(t,r,s)}}class L_ extends Uh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(or.has(r)){const s=Vi(r);return s&&s.default||0}return r=Eh.has(r)?r:Ji(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return Oh(t,r,s)}build(t,r,s){oo(t,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,s,n){Dh(t,r,s,n)}mount(t){this.isSVGTag=lo(t.tagName),super.mount(t)}}const $_=(e,t)=>ro(e)?new L_(t):new M_(t,{allowProjection:e!==p.Fragment}),F_=P_({...wb,...Jw,...Fw,...Xw},$_),ie=xv(F_);class V_ extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U_({children:e,isPresent:t}){const r=p.useId(),s=p.useRef(null),n=p.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=p.useContext(eo);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=n.current;if(t||!s.current||!o||!l)return;s.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),i.jsx(V_,{isPresent:t,childRef:s,sizeRef:n,children:p.cloneElement(e,{ref:s})})}const q_=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:n,presenceAffectsLayout:a,mode:o})=>{const l=no(B_),c=p.useId(),d=p.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},[l,s]),u=p.useMemo(()=>({id:c,initial:t,isPresent:r,custom:n,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),d]:[r,d]);return p.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(e=i.jsx(U_,{isPresent:r,children:e})),i.jsx(In.Provider,{value:u,children:e})};function B_(){return new Map}const Ks=e=>e.key||"";function _c(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const $n=({children:e,exitBeforeEnter:t,custom:r,initial:s=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=p.useMemo(()=>_c(e),[e]),c=l.map(Ks),d=p.useRef(!0),u=p.useRef(l),h=no(()=>new Map),[f,m]=p.useState(l),[g,y]=p.useState(l);Sh(()=>{d.current=!1,u.current=l;for(let w=0;w<g.length;w++){const x=Ks(g[w]);c.includes(x)?h.delete(x):h.get(x)!==!0&&h.set(x,!1)}},[g,c.length,c.join("-")]);const b=[];if(l!==f){let w=[...l];for(let x=0;x<g.length;x++){const j=g[x],N=Ks(j);c.includes(N)||(w.splice(x,0,j),b.push(j))}o==="wait"&&b.length&&(w=b),y(_c(w)),m(l);return}const{forceRender:v}=p.useContext(Qi);return i.jsx(i.Fragment,{children:g.map(w=>{const x=Ks(w),j=l===g||c.includes(x),N=()=>{if(h.has(x))h.set(x,!0);else return;let T=!0;h.forEach(P=>{P||(T=!1)}),T&&(v==null||v(),y(u.current),n&&n())};return i.jsx(q_,{isPresent:j,initial:!d.current||s?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:a,mode:o,onExitComplete:j?void 0:N,children:w},x)})})},jc=()=>{const e=Math.random()*400-200,t=Math.random()*400-200;return{x:e,y:t}},z_=({color:e,size:t=300,opacity:r=.15,blur:s=80,duration:n=15})=>{const[a,o]=p.useState(jc()),[l,c]=p.useState(a);return p.useEffect(()=>{const d=setInterval(()=>{c(a),o(jc())},n*1e3);return()=>clearInterval(d)},[n,a]),i.jsx(ie.div,{initial:!1,animate:{x:a.x+"%",y:a.y+"%"},transition:{duration:n,ease:[.45,0,.55,1],type:"tween"},className:_("absolute rounded-full","pointer-events-none mix-blend-screen","top-1/2 left-1/2","-translate-x-1/2 -translate-y-1/2",e),style:{width:t,height:t,opacity:r,filter:`blur(${s}px)`}})},Ur=({className:e,intensity:t="subtle",speed:r="slow",className2:s,size:n=300})=>{const a={subtle:.15,medium:.2,strong:.25},o={slow:4,medium:2.7,fast:1.7},l=a[t]||a.subtle,c=o[r]||o.slow,d=[{color:"bg-blue-500",size:n*1.2},{color:"bg-purple-500",size:n*1.4},{color:"bg-indigo-400",size:n*1.3},{color:"bg-pink-500",size:n*1.1},{color:"bg-blue-400",size:n*1},{color:"bg-purple-400",size:n*1.2},{color:"bg-indigo-500",size:n*1.1},{color:"bg-pink-400",size:n*1.3},{color:"bg-blue-300",size:n*1},{color:"bg-purple-300",size:n*1.2},{color:"bg-indigo-300",size:n*.9},{color:"bg-pink-300",size:n*1.1}];return i.jsx("div",{className:_("absolute inset-0 overflow-hidden",e),children:i.jsxs("div",{className:_("absolute inset-0",s),children:[d.map((u,h)=>i.jsx(z_,{color:u.color,size:u.size,opacity:l,duration:c*(.9+Math.random()*.2),blur:60+Math.random()*40},h)),i.jsx("div",{className:"absolute inset-0 bg-background/50"})]})})};function H_(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const qh=k.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),qr=()=>{const e=k.useContext(qh);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};H_(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function W_(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function G_(){return co(/^Mac/)}function K_(){return co(/^iPhone/)}function kc(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Y_(){return co(/^iPad/)||G_()&&navigator.maxTouchPoints>1}function Bh(){return K_()||Y_()}function co(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const J_=24,X_=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Nc(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const xa=typeof document<"u"&&window.visualViewport;function Sc(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function zh(e){for(Sc(e)&&(e=e.parentElement);e&&!Sc(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Q_=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ys=0,ba;function Z_(e={}){let{isDisabled:t}=e;X_(()=>{if(!t)return Ys++,Ys===1&&Bh()&&(ba=ej()),()=>{Ys--,Ys===0&&(ba==null||ba())}},[t])}function ej(){let e,t=0,r=h=>{e=zh(h.target),!(e===document.documentElement&&e===document.body)&&(t=h.changedTouches[0].pageY)},s=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,m=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((m<=0&&f>t||m>=g&&f<t)&&h.preventDefault(),t=f)},n=h=>{let f=h.target;oi(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},a=h=>{let f=h.target;oi(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",xa&&(xa.height<window.innerHeight?requestAnimationFrame(()=>{Tc(f)}):xa.addEventListener("resize",()=>Tc(f),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,d=Nc(tj(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=Nc(Xr(document,"touchstart",r,{passive:!1,capture:!0}),Xr(document,"touchmove",s,{passive:!1,capture:!0}),Xr(document,"touchend",n,{passive:!1,capture:!0}),Xr(document,"focus",a,!0),Xr(window,"scroll",o));return()=>{d(),u(),window.scrollTo(l,c)}}function tj(e,t,r){let s=e.style[t];return e.style[t]=r,()=>{e.style[t]=s}}function Xr(e,t,r,s){return e.addEventListener(t,r,s),()=>{e.removeEventListener(t,r,s)}}function Tc(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=zh(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let s=r.getBoundingClientRect().top,n=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+J_;a>o&&(r.scrollTop+=n-s)}e=r.parentElement}}function oi(e){return e instanceof HTMLInputElement&&!Q_.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function rj(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function sj(...e){return t=>e.forEach(r=>rj(r,t))}function Hh(...e){return p.useCallback(sj(...e),e)}const Wh=new WeakMap;function Pe(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([n,a])=>{if(n.startsWith("--")){e.style.setProperty(n,a);return}s[n]=e.style[n],e.style[n]=a}),!r&&Wh.set(e,s)}function nj(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Wh.get(e);r&&(e.style[t]=r[t])}const Ne=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Js(e,t){if(!e)return null;const r=window.getComputedStyle(e),s=r.transform||r.webkitTransform||r.mozTransform;let n=s.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[Ne(t)?13:12]):(n=s.match(/^matrix\((.+)\)$/),n?parseFloat(n[1].split(", ")[Ne(t)?5:4]):null)}function aj(e){return 8*(Math.log(e+1)-2)}function wa(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function ij(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const be={DURATION:.5,EASE:[.32,.72,0,1]},Gh=.4,oj=.25,lj=100,Kh=8,Jt=16,li=26,_a="vaul-dragging";function Yh(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function cj({defaultProp:e,onChange:t}){const r=k.useState(e),[s]=r,n=k.useRef(s),a=Yh(t);return k.useEffect(()=>{n.current!==s&&(a(s),n.current=s)},[s,n,a]),r}function Jh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,n]=cj({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:s,l=Yh(r),c=k.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else n(d)},[a,e,n,l]);return[o,c]}function dj({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:s,overlayRef:n,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:d}){const[u,h]=Jh({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[f,m]=k.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);k.useEffect(()=>{function P(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const g=k.useMemo(()=>u===(r==null?void 0:r[r.length-1])||null,[r,u]),y=k.useMemo(()=>{var P;return(P=r==null?void 0:r.findIndex(S=>S===u))!=null?P:null},[r,u]),b=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===u||!r,v=k.useMemo(()=>{const P=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var S;return(S=r==null?void 0:r.map(C=>{const M=typeof C=="string";let O=0;if(M&&(O=parseInt(C,10)),Ne(l)){const E=M?O:f?C*P.height:0;return f?l==="bottom"?P.height-E:-P.height+E:E}const A=M?O:f?C*P.width:0;return f?l==="right"?P.width-A:-P.width+A:A}))!=null?S:[]},[r,f,c]),w=k.useMemo(()=>y!==null?v==null?void 0:v[y]:null,[v,y]),x=k.useCallback(P=>{var S;const C=(S=v==null?void 0:v.findIndex(M=>M===P))!=null?S:null;o(C),Pe(s.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:Ne(l)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`}),v&&C!==v.length-1&&a!==void 0&&C!==a&&C<a?Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"0"}):Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"1"}),h(r==null?void 0:r[Math.max(C,0)])},[s.current,r,v,a,n,h]);k.useEffect(()=>{if(u||e){var P;const S=(P=r==null?void 0:r.findIndex(C=>C===e||C===u))!=null?P:-1;v&&S!==-1&&typeof v[S]=="number"&&x(v[S])}},[u,e,r,v,x]);function j({draggedDistance:P,closeDrawer:S,velocity:C,dismissible:M}){if(a===void 0)return;const O=l==="bottom"||l==="right"?(w??0)-P:(w??0)+P,A=y===a-1,E=y===0,D=P>0;if(A&&Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`}),!d&&C>2&&!D){M?S():x(v[0]);return}if(!d&&C>2&&D&&v&&r){x(v[r.length-1]);return}const F=v==null?void 0:v.reduce((I,G)=>typeof I!="number"||typeof G!="number"?I:Math.abs(G-O)<Math.abs(I-O)?G:I),$=Ne(l)?window.innerHeight:window.innerWidth;if(C>Gh&&Math.abs(P)<$*.4){const I=D?1:-1;if(I>0&&g&&r){x(v[r.length-1]);return}if(E&&I<0&&M&&S(),y===null)return;x(v[y+I]);return}x(F)}function N({draggedDistance:P}){if(w===null)return;const S=l==="bottom"||l==="right"?w-P:w+P;(l==="bottom"||l==="right")&&S<v[v.length-1]||(l==="top"||l==="left")&&S>v[v.length-1]||Pe(s.current,{transform:Ne(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})}function T(P,S){if(!r||typeof y!="number"||!v||a===void 0)return null;const C=y===a-1;if(y>=a&&S)return 0;if(C&&!S)return 1;if(!b&&!C)return null;const O=C?y+1:y-1,A=C?v[O]-v[O-1]:v[O+1]-v[O],E=P/Math.abs(A);return C?1-E:E}return{isLastSnapPoint:g,activeSnapPoint:u,shouldFade:b,getPercentageDragged:T,setActiveSnapPoint:h,activeSnapPointIndex:y,onRelease:j,onDrag:N,snapPointsOffset:v}}const uj=()=>()=>{};function hj(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:n}=qr(),a=k.useRef(null),o=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-li)/window.innerWidth}k.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;ij(s&&!n?wa(document.body,{background:"black"}):uj,wa(c,{transformOrigin:Ne(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${be.DURATION}s`,transitionTimingFunction:`cubic-bezier(${be.EASE.join(",")})`}));const d=wa(c,{borderRadius:`${Kh}px`,overflow:"hidden",...Ne(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},be.DURATION*1e3)}}},[t,r,o])}let Qr=null;function fj({isOpen:e,modal:t,nested:r,hasBeenOpened:s,preventScrollRestoration:n,noBodyStyles:a}){const[o,l]=k.useState(()=>typeof window<"u"?window.location.href:""),c=k.useRef(0),d=k.useCallback(()=>{if(kc()&&Qr===null&&e&&!a){Qr={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=f-window.innerHeight;m&&c.current>=f&&(document.body.style.top=`${-(c.current+m)}px`)}),300)}},[e]),u=k.useCallback(()=>{if(kc()&&Qr!==null&&!a){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Qr),window.requestAnimationFrame(()=>{if(n&&o!==window.location.href){l(window.location.href);return}window.scrollTo(f,h)}),Qr=null}},[o]);return k.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),k.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),k.useEffect(()=>{r||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{u()},500)):u())},[e,s,o,t,r,d,u]),{restorePositionSetting:u}}function Xh({open:e,onOpenChange:t,children:r,onDrag:s,onRelease:n,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=oj,scrollLockTimeout:d=lj,dismissible:u=!0,handleOnly:h=!1,fadeFromIndex:f=a&&a.length-1,activeSnapPoint:m,setActiveSnapPoint:g,fixed:y,modal:b=!0,onClose:v,nested:w,noBodyStyles:x=!1,direction:j="bottom",defaultOpen:N=!1,disablePreventScroll:T=!0,snapToSequentialPoint:P=!1,preventScrollRestoration:S=!1,repositionInputs:C=!0,onAnimationEnd:M,container:O,autoFocus:A=!1}){var E,D;const[F=!1,$]=Jh({defaultProp:N,prop:e,onChange:U=>{t==null||t(U),!U&&!w&&yt(),setTimeout(()=>{M==null||M(U)},be.DURATION*1e3),U&&!b&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),U||(document.body.style.pointerEvents="auto")}}),[I,G]=k.useState(!1),[L,W]=k.useState(!1),[Z,X]=k.useState(!1),H=k.useRef(null),re=k.useRef(null),ce=k.useRef(null),ye=k.useRef(null),Q=k.useRef(null),ne=k.useRef(!1),De=k.useRef(null),Fe=k.useRef(0),Ae=k.useRef(!1),tt=k.useRef(!N),We=k.useRef(0),K=k.useRef(null),qe=k.useRef(((E=K.current)==null?void 0:E.getBoundingClientRect().height)||0),je=k.useRef(((D=K.current)==null?void 0:D.getBoundingClientRect().width)||0),ve=k.useRef(0),Be=k.useCallback(U=>{a&&U===Te.length-1&&(re.current=new Date)},[]),{activeSnapPoint:cr,activeSnapPointIndex:Ve,setActiveSnapPoint:dr,onRelease:Br,snapPointsOffset:Te,onDrag:Ce,shouldFade:ur,getPercentageDragged:zr}=dj({snapPoints:a,activeSnapPointProp:m,setActiveSnapPointProp:g,drawerRef:K,fadeFromIndex:f,overlayRef:H,onSnapPointChange:Be,direction:j,container:O,snapToSequentialPoint:P});Z_({isDisabled:!F||L||!b||Z||!I||!C||!T});const{restorePositionSetting:yt}=fj({isOpen:F,modal:b,nested:w??!1,hasBeenOpened:I,preventScrollRestoration:S,noBodyStyles:x});function St(){return(window.innerWidth-li)/window.innerWidth}function Bt(U){var ae,V;!u&&!a||K.current&&!K.current.contains(U.target)||(qe.current=((ae=K.current)==null?void 0:ae.getBoundingClientRect().height)||0,je.current=((V=K.current)==null?void 0:V.getBoundingClientRect().width)||0,W(!0),ce.current=new Date,Bh()&&window.addEventListener("touchend",()=>ne.current=!1,{once:!0}),U.target.setPointerCapture(U.pointerId),Fe.current=Ne(j)?U.pageY:U.pageX)}function ot(U,ae){var V;let z=U;const J=(V=window.getSelection())==null?void 0:V.toString(),ue=K.current?Js(K.current,j):null,he=new Date;if(z.tagName==="SELECT"||z.hasAttribute("data-vaul-no-drag")||z.closest("[data-vaul-no-drag]"))return!1;if(j==="right"||j==="left")return!0;if(re.current&&he.getTime()-re.current.getTime()<500)return!1;if(ue!==null&&(j==="bottom"?ue>0:ue<0))return!0;if(J&&J.length>0)return!1;if(Q.current&&he.getTime()-Q.current.getTime()<d&&ue===0||ae)return Q.current=he,!1;for(;z;){if(z.scrollHeight>z.clientHeight){if(z.scrollTop!==0)return Q.current=new Date,!1;if(z.getAttribute("role")==="dialog")return!0}z=z.parentNode}return!0}function hr(U){if(K.current&&L){const ae=j==="bottom"||j==="right"?1:-1,V=(Fe.current-(Ne(j)?U.pageY:U.pageX))*ae,z=V>0,J=a&&!u&&!z;if(J&&Ve===0)return;const ue=Math.abs(V),he=document.querySelector("[data-vaul-drawer-wrapper]"),Ge=j==="bottom"||j==="top"?qe.current:je.current;let Ke=ue/Ge;const Gt=zr(ue,z);if(Gt!==null&&(Ke=Gt),J&&Ke>=1||!ne.current&&!ot(U.target,z))return;if(K.current.classList.add(_a),ne.current=!0,Pe(K.current,{transition:"none"}),Pe(H.current,{transition:"none"}),a&&Ce({draggedDistance:V}),z&&!a){const ht=aj(V),$s=Math.min(ht*-1,0)*ae;Pe(K.current,{transform:Ne(j)?`translate3d(0, ${$s}px, 0)`:`translate3d(${$s}px, 0, 0)`});return}const Tt=1-Ke;if((ur||f&&Ve===f-1)&&(s==null||s(U,Ke),Pe(H.current,{opacity:`${Tt}`,transition:"none"},!0)),he&&H.current&&o){const ht=Math.min(St()+Ke*(1-St()),1),$s=8-Ke*8,Oo=Math.max(0,14-Ke*14);Pe(he,{borderRadius:`${$s}px`,transform:Ne(j)?`scale(${ht}) translate3d(0, ${Oo}px, 0)`:`scale(${ht}) translate3d(${Oo}px, 0, 0)`,transition:"none"},!0)}if(!a){const ht=ue*ae;Pe(K.current,{transform:Ne(j)?`translate3d(0, ${ht}px, 0)`:`translate3d(${ht}px, 0, 0)`})}}}k.useEffect(()=>{window.requestAnimationFrame(()=>{tt.current=!0})},[]),k.useEffect(()=>{var U;function ae(){if(!K.current||!C)return;const V=document.activeElement;if(oi(V)||Ae.current){var z;const J=((z=window.visualViewport)==null?void 0:z.height)||0,ue=window.innerHeight;let he=ue-J;const Ge=K.current.getBoundingClientRect().height||0,Ke=Ge>ue*.8;ve.current||(ve.current=Ge);const Gt=K.current.getBoundingClientRect().top;if(Math.abs(We.current-he)>60&&(Ae.current=!Ae.current),a&&a.length>0&&Te&&Ve){const Tt=Te[Ve]||0;he+=Tt}if(We.current=he,Ge>J||Ae.current){const Tt=K.current.getBoundingClientRect().height;let ht=Tt;Tt>J&&(ht=J-(Ke?Gt:li)),y?K.current.style.height=`${Tt-Math.max(he,0)}px`:K.current.style.height=`${Math.max(ht,J-Gt)}px`}else W_()||(K.current.style.height=`${ve.current}px`);a&&a.length>0&&!Ae.current?K.current.style.bottom="0px":K.current.style.bottom=`${Math.max(he,0)}px`}}return(U=window.visualViewport)==null||U.addEventListener("resize",ae),()=>{var V;return(V=window.visualViewport)==null?void 0:V.removeEventListener("resize",ae)}},[Ve,a,Te]);function rt(U){Hr(),v==null||v(),U||$(!1),setTimeout(()=>{a&&dr(a[0])},be.DURATION*1e3)}function zt(){if(!K.current)return;const U=document.querySelector("[data-vaul-drawer-wrapper]"),ae=Js(K.current,j);Pe(K.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`}),Pe(H.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"1"}),o&&ae&&ae>0&&F&&Pe(U,{borderRadius:`${Kh}px`,overflow:"hidden",...Ne(j)?{transform:`scale(${St()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${St()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${be.DURATION}s`,transitionTimingFunction:`cubic-bezier(${be.EASE.join(",")})`},!0)}function Hr(){!L||!K.current||(K.current.classList.remove(_a),ne.current=!1,W(!1),ye.current=new Date)}function Ht(U){if(!L||!K.current)return;K.current.classList.remove(_a),ne.current=!1,W(!1),ye.current=new Date;const ae=Js(K.current,j);if(!U||!ot(U.target,!1)||!ae||Number.isNaN(ae)||ce.current===null)return;const V=ye.current.getTime()-ce.current.getTime(),z=Fe.current-(Ne(j)?U.pageY:U.pageX),J=Math.abs(z)/V;if(J>.05&&(X(!0),setTimeout(()=>{X(!1)},200)),a){Br({draggedDistance:z*(j==="bottom"||j==="right"?1:-1),closeDrawer:rt,velocity:J,dismissible:u}),n==null||n(U,!0);return}if(j==="bottom"||j==="right"?z>0:z<0){zt(),n==null||n(U,!0);return}if(J>Gh){rt(),n==null||n(U,!1);return}var ue;const he=Math.min((ue=K.current.getBoundingClientRect().height)!=null?ue:0,window.innerHeight);var Ge;const Ke=Math.min((Ge=K.current.getBoundingClientRect().width)!=null?Ge:0,window.innerWidth),Gt=j==="left"||j==="right";if(Math.abs(ae)>=(Gt?Ke:he)*c){rt(),n==null||n(U,!1);return}n==null||n(U,!0),zt()}k.useEffect(()=>(F&&(Pe(document.documentElement,{scrollBehavior:"auto"}),re.current=new Date),()=>{nj(document.documentElement,"scrollBehavior")}),[F]);function Wt(U){const ae=U?(window.innerWidth-Jt)/window.innerWidth:1,V=U?-Jt:0;De.current&&window.clearTimeout(De.current),Pe(K.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:Ne(j)?`scale(${ae}) translate3d(0, ${V}px, 0)`:`scale(${ae}) translate3d(${V}px, 0, 0)`}),!U&&K.current&&(De.current=setTimeout(()=>{const z=Js(K.current,j);Pe(K.current,{transition:"none",transform:Ne(j)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`})},500))}function fr(U,ae){if(ae<0)return;const V=(window.innerWidth-Jt)/window.innerWidth,z=V+ae*(1-V),J=-Jt+ae*Jt;Pe(K.current,{transform:Ne(j)?`scale(${z}) translate3d(0, ${J}px, 0)`:`scale(${z}) translate3d(${J}px, 0, 0)`,transition:"none"})}function xe(U,ae){const V=Ne(j)?window.innerHeight:window.innerWidth,z=ae?(V-Jt)/V:1,J=ae?-Jt:0;ae&&Pe(K.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:Ne(j)?`scale(${z}) translate3d(0, ${J}px, 0)`:`scale(${z}) translate3d(${J}px, 0, 0)`})}return k.useEffect(()=>{b||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[b]),k.createElement(hi,{defaultOpen:N,onOpenChange:U=>{!u&&!U||(U?G(!0):rt(!0),$(U))},open:F},k.createElement(qh.Provider,{value:{activeSnapPoint:cr,snapPoints:a,setActiveSnapPoint:dr,drawerRef:K,overlayRef:H,onOpenChange:t,onPress:Bt,onRelease:Ht,onDrag:hr,dismissible:u,shouldAnimate:tt,handleOnly:h,isOpen:F,isDragging:L,shouldFade:ur,closeDrawer:rt,onNestedDrag:fr,onNestedOpenChange:Wt,onNestedRelease:xe,keyboardIsOpen:Ae,modal:b,snapPointsOffset:Te,activeSnapPointIndex:Ve,direction:j,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:x,container:O,autoFocus:A}},r))}const Qh=k.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:s,onRelease:n,shouldFade:a,isOpen:o,modal:l,shouldAnimate:c}=qr(),d=Hh(t,r),u=s&&s.length>0;if(!l)return null;const h=k.useCallback(f=>n(f),[n]);return k.createElement(ws,{onMouseUp:h,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});Qh.displayName="Drawer.Overlay";const Zh=k.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...s},n){const{drawerRef:a,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:u,activeSnapPointIndex:h,modal:f,isOpen:m,direction:g,snapPoints:y,container:b,handleOnly:v,shouldAnimate:w,autoFocus:x}=qr(),[j,N]=k.useState(!1),T=Hh(n,a),P=k.useRef(null),S=k.useRef(null),C=k.useRef(!1),M=y&&y.length>0;hj();const O=(E,D,F=0)=>{if(C.current)return!0;const $=Math.abs(E.y),I=Math.abs(E.x),G=I>$,L=["bottom","right"].includes(D)?1:-1;if(D==="left"||D==="right"){if(!(E.x*L<0)&&I>=0&&I<=F)return G}else if(!(E.y*L<0)&&$>=0&&$<=F)return!G;return C.current=!0,!0};k.useEffect(()=>{M&&window.requestAnimationFrame(()=>{N(!0)})},[]);function A(E){P.current=null,C.current=!1,l(E)}return k.createElement(_s,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":j?"true":"false","data-vaul-snap-points":m&&M?"true":"false","data-vaul-custom-container":b?"true":"false","data-vaul-animate":w!=null&&w.current?"true":"false",...s,ref:T,style:u&&u.length>0?{"--snap-point-height":`${u[h??0]}px`,...t}:t,onPointerDown:E=>{v||(s.onPointerDown==null||s.onPointerDown.call(s,E),P.current={x:E.pageX,y:E.pageY},o(E))},onOpenAutoFocus:E=>{r==null||r(E),x||E.preventDefault()},onPointerDownOutside:E=>{if(e==null||e(E),!f||E.defaultPrevented){E.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:E=>{if(!f){E.preventDefault();return}},onPointerMove:E=>{if(S.current=E,v||(s.onPointerMove==null||s.onPointerMove.call(s,E),!P.current))return;const D=E.pageY-P.current.y,F=E.pageX-P.current.x,$=E.pointerType==="touch"?10:2;O({x:F,y:D},g,$)?c(E):(Math.abs(F)>$||Math.abs(D)>$)&&(P.current=null)},onPointerUp:E=>{s.onPointerUp==null||s.onPointerUp.call(s,E),P.current=null,C.current=!1,l(E)},onPointerOut:E=>{s.onPointerOut==null||s.onPointerOut.call(s,E),A(S.current)},onContextMenu:E=>{s.onContextMenu==null||s.onContextMenu.call(s,E),S.current&&A(S.current)}})});Zh.displayName="Drawer.Content";const mj=250,pj=120,ef=k.forwardRef(function({preventCycle:e=!1,children:t,...r},s){const{closeDrawer:n,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:d,handleOnly:u,isOpen:h,onPress:f,onDrag:m}=qr(),g=k.useRef(null),y=k.useRef(!1);function b(){if(y.current){x();return}window.setTimeout(()=>{v()},pj)}function v(){if(a||e||y.current){x();return}if(x(),!o||o.length===0){d||n();return}if(l===o[o.length-1]&&d){n();return}const N=o.findIndex(P=>P===l);if(N===-1)return;const T=o[N+1];c(T)}function w(){g.current=window.setTimeout(()=>{y.current=!0},mj)}function x(){g.current&&window.clearTimeout(g.current),y.current=!1}return k.createElement("div",{onClick:b,onPointerCancel:x,onPointerDown:j=>{u&&f(j),w()},onPointerMove:j=>{u&&m(j)},ref:s,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},k.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});ef.displayName="Drawer.Handle";function gj({onDrag:e,onOpenChange:t,open:r,...s}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:o}=qr();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return k.createElement(Xh,{nested:!0,open:r,onClose:()=>{a(!1)},onDrag:(l,c)=>{n(l,c),e==null||e(l,c)},onOpenChange:l=>{l&&a(l),t==null||t(l)},onRelease:o,...s})}function yj(e){const t=qr(),{container:r=t.container,...s}=e;return k.createElement(fi,{container:r,...s})}const Nt={Root:Xh,NestedRoot:gj,Content:Zh,Overlay:Qh,Trigger:Xc,Portal:yj,Handle:ef,Close:ui,Title:js,Description:ks},Fn=({shouldScaleBackground:e=!0,...t})=>i.jsx(Nt.Root,{shouldScaleBackground:e,...t});Fn.displayName="Drawer";const vj=Nt.Portal,tf=p.forwardRef(({className:e,...t},r)=>i.jsx(Nt.Overlay,{ref:r,className:_("fixed inset-0 z-50 bg-black/90 transition-all duration-200",e),...t}));tf.displayName=Nt.Overlay.displayName;const Vn=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(vj,{children:[i.jsx(tf,{}),i.jsxs(Nt.Content,{ref:s,className:_("fixed inset-x-0 bottom-0 z-50 flex flex-col rounded-t-xl bg-card transition-all duration-200","h-[90vh] min-h-[90vh]",e),...r,children:[i.jsx("div",{className:"mx-auto mt-3 h-1 w-12 rounded-full bg-muted"}),i.jsx("div",{className:"flex-1 min-h-0",children:t})]})]}));Vn.displayName="DrawerContent";const Un=({className:e,...t})=>i.jsx("div",{className:_("grid gap-1 p-2 text-center sm:text-left",e),...t});Un.displayName="DrawerHeader";const qn=p.forwardRef(({className:e,...t},r)=>i.jsx(Nt.Title,{ref:r,className:_("text-base font-medium leading-none tracking-tight text-foreground/90",e),...t}));qn.displayName=Nt.Title.displayName;const xj=p.forwardRef(({className:e,...t},r)=>i.jsx(Nt.Description,{ref:r,className:_("text-sm text-muted-foreground/80",e),...t}));xj.displayName=Nt.Description.displayName;const Cc=({modelKey:e,config:t,isActive:r,showRadio:s=!1,onClick:n,disabled:a,proMode:o})=>i.jsxs("div",{className:_("flex items-center p-2 border border-border/60 rounded-xl gap-3 transition-all duration-200 relative overflow-hidden",r?"bg-card shadow-[0_0_0_1px_rgba(var(--primary),.15)]":"border border-border/80 hover:bg-muted/5 hover:border-border/20 p-3 rounded-xl","bg-background",a?"opacity-50 cursor-not-allowed":"cursor-pointer active:scale-[0.98]"),onClick:a?void 0:n,children:[r&&i.jsx(Ur,{className:"absolute inset-0",intensity:"medium",speed:"fast",size:500}),i.jsx("div",{className:"relative h-10 w-10 rounded-md overflow-hidden bg-background flex-shrink-0 ring-1 ring-border/5",children:i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),i.jsxs("div",{className:"flex-1 min-w-0 relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm text-foreground/90",children:t.name}),t.isPremium&&!o&&i.jsx(Or,{className:"h-3.5 w-3.5 flex-shrink-0 text-muted-foreground/70"})]}),i.jsx("p",{className:"text-xs text-muted-foreground/60 truncate mt-0.5",children:t.tagline||(t.category==="NSFW"?"NSFW Generation":"Image Generation")})]}),i.jsx(Ns,{className:"h-3.5 w-3.5 flex-shrink-0 text-muted-foreground/50 relative"})]}),bj=({modelKey:e,config:t,isActive:r,onClick:s,disabled:n,proMode:a})=>i.jsxs("div",{className:_("group relative aspect-square rounded-xl overflow-hidden transition-all duration-200","border border-border/80 bg-card",r?"ring-2 ring-primary/20 border-primary/30":"hover:border-border/20",n?"opacity-50 cursor-not-allowed":"cursor-pointer"),onClick:n?void 0:s,children:[i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-medium text-white/95 truncate text-xs",children:t.name}),t.isPremium&&!a&&i.jsx(Or,{className:"h-3 w-3 flex-shrink-0 text-white/80"})]})}),r&&i.jsx("div",{className:"absolute top-2 right-2 h-6 w-6 rounded-md bg-background text-white flex items-center justify-center",children:i.jsx(it,{className:"h-3.5 w-3.5"})})]}),wj=({groups:e,activeGroup:t,onGroupChange:r})=>i.jsxs("div",{className:"flex gap-1 px-2 py-1 mb-1 overflow-x-auto  scrollbar-thin scrollbar-thumb-border/50 scrollbar-track-transparent",children:[i.jsx(B,{size:"sm",variant:t==="all"?"default":"outline",className:"h-7 px-2 text-xs rounded-full flex-shrink-0",onClick:()=>r("all"),children:"All"}),e.map(s=>i.jsx(B,{size:"sm",variant:t===s?"default":"outline",className:"h-7 px-2 text-xs rounded-full flex-shrink-0",onClick:()=>r(s),children:s},s))]}),Pc=({filteredModels:e,model:t,setModel:r,proMode:s,className:n,onClose:a})=>{const o=k.useRef(null),l=k.useRef(null),[c,d]=p.useState("all"),u=p.useMemo(()=>{const m=new Set(e.map(([g,y])=>y.group));return Array.from(m).sort()},[e]),h=p.useMemo(()=>c==="all"?e:e.filter(([m,g])=>g.group===c),[e,c]);k.useEffect(()=>{if(l.current&&o.current){const m=o.current,g=l.current,y=m.getBoundingClientRect(),b=g.getBoundingClientRect(),v=b.top-y.top-(y.height-b.height)/2;m.scrollTo({top:v,behavior:"smooth"})}},[t,c]);const f=m=>{r(m),a==null||a()};return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx(wj,{groups:u,activeGroup:c,onGroupChange:d}),i.jsx(ut,{ref:o,className:_("flex-1 overflow-y-auto px-1","scrollbar-thin scrollbar-thumb-border scrollbar-track-transparent hover:scrollbar-thumb-border/50",n),children:i.jsx("div",{className:"grid grid-cols-2 gap-2 rounded-3xl pb-1",children:h.map(([m,g])=>i.jsx("div",{ref:t===m?l:null,children:i.jsx(bj,{modelKey:m,config:g,isActive:t===m,proMode:s,onClick:()=>f(m),disabled:g.isPremium&&!s})},m))})})]})},_j=({model:e,setModel:t,proMode:r,nsfwEnabled:s,modelConfigs:n})=>{const[a,o]=p.useState(!1),[l,c]=p.useState(!1),d=p.useMemo(()=>n?Object.entries(n).filter(([g,y])=>s?y.category==="NSFW":y.category==="General"):[],[s,n]),u=p.useMemo(()=>s?"nsfwMaster":"fluxDev",[s]),h=p.useCallback(m=>{const g=n==null?void 0:n[m];if(!g)return;(s?g.category==="NSFW":g.category==="General")&&(t(m),o(!1))},[s,t,n]);p.useEffect(()=>{const m=n==null?void 0:n[e];(!m||m.category!==(s?"NSFW":"General"))&&t(u)},[s,e,u,t,n]);const f=n==null?void 0:n[e];return f?i.jsxs(cs,{label:"Model",tooltip:"Choose between fast generation or higher quality output.",children:[i.jsx("div",{className:"hidden md:block",children:i.jsxs(yv,{open:l,onOpenChange:c,children:[i.jsx(vv,{asChild:!0,children:i.jsx("div",{className:"w-full group",children:i.jsx(Cc,{modelKey:e,config:f,isActive:!0,proMode:r,onClick:()=>{}})})}),i.jsx(mu,{side:"left",align:"center",sideOffset:16,className:"w-[600px] p-1 px-0 h-[90vh] border-border/80 bg-secondary rounded-3xl overflow-hidden my-[5vh]",children:i.jsx(Pc,{filteredModels:d,model:e,setModel:h,proMode:r,onClose:()=>c(!1),className:"h-full rounded-3xl"})})]})}),i.jsxs("div",{className:"md:hidden",children:[i.jsx("div",{className:"w-full group",onClick:()=>o(!0),children:i.jsx(Cc,{modelKey:e,config:f,isActive:!0,proMode:r,onClick:()=>{}})}),i.jsx(Fn,{open:a,onOpenChange:o,children:i.jsxs(Vn,{className:"focus:outline-none",children:[i.jsx(Un,{className:"border-b border-border/5 px-2 py-2",children:i.jsx(qn,{className:"text-base font-medium text-foreground/90",children:"Select Model"})}),i.jsx("div",{className:"px-3 py-2",children:i.jsx(Pc,{filteredModels:d,model:e,setModel:h,proMode:r,onClose:()=>o(!1),className:"max-h-[70vh]"})})]})})]})]}):null},jj=({count:e=1,setCount:t})=>{const r=[1,2,3,4];return i.jsx(cs,{label:"Number of Images",tooltip:"Generate multiple images at once. Each image costs the same number of credits.",children:i.jsx("div",{className:"flex gap-2",children:r.map(s=>i.jsx(B,{variant:"outline",size:"sm",onClick:()=>t(s),className:_("flex-1 h-8 rounded-lg",e===s?"bg-primary/10 border-primary/20 text-primary hover:bg-primary/20":"hover:bg-accent/10"),children:s},s))})})},Ac=["Tips: Try Remix an Image you like","Tips: Use FLux.1 Dev model for precise results","Tips: Use different models for different results","Tips: Try click the HD badge to improve quality to HD+","Tips: Use the 'Improve' button to enhance your prompt","Tips: Play with the slider to change the aspect ratio","Tips: Explore Inspiration page for more ideas","Tips: Use Stable Diffusion 3.5 large for more vibrant results"],kj=({prompt:e="",onChange:t,onKeyDown:r,onSubmit:s,hasEnoughCredits:n=!0,onClear:a,credits:o,bonusCredits:l,userId:c,activeModel:d,modelConfigs:u})=>{const[h,f]=p.useState(0),g=(o||0)+(l||0)>=1,{isImproving:y,improveCurrentPrompt:b}=Pn(c);p.useEffect(()=>{const x=setInterval(()=>{f(j=>(j+1)%Ac.length)},1e4);return()=>clearInterval(x)},[]);const v=async()=>{if(!c){q.error("Please sign in to improve prompts");return}if(!g){q.error("Not enough credits for prompt improvement");return}try{let x="",j=!0;await b(e,d,u,(N,T)=>{T?(j&&(t({target:{value:""}}),j=!1),x+=N,t({target:{value:x}})):t({target:{value:N}})})}catch(x){console.error("Error improving prompt:",x),q.error("Failed to improve prompt")}},w=async()=>{if(!(e!=null&&e.trim())){q.error("Please enter a prompt");return}if(!c){q.error("Please sign in to generate images");return}if(!n){q.error("Not enough credits");return}try{a(),await s()}catch(x){console.error("Error generating:",x),q.error("Failed to generate image")}};return i.jsxs("div",{className:"relative mb-8",children:[i.jsxs("div",{className:"relative bg-background transition-all duration-300",children:[y&&i.jsx(Ur,{className:"absolute inset-0 rounded-2xl animate-faster z-0",intensity:"strong",speed:"fast",size:500}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-12 bg-gradient-to-b from-background/95 to-transparent pointer-events-none z-20 rounded-t-2xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-12 bg-gradient-to-t from-background/95 to-transparent pointer-events-none z-20 rounded-b-2xl"}),i.jsx("textarea",{value:e,onChange:t,onKeyDown:r,placeholder:Ac[h],className:_("relative z-10","w-full min-h-[450px] md:min-h-[350px] resize-none bg-transparent text-base focus:outline-none","placeholder:text-muted-foreground/40 overflow-y-auto scrollbar-none","border-y border-border/5 py-6 px-3","transition-colors duration-200",y&&"opacity-80"),style:{caretColor:"currentColor"},disabled:y})]}),i.jsxs("div",{className:"flex justify-end items-center mt-4 gap-2",children:[(e==null?void 0:e.length)>0&&i.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10",onClick:a,disabled:y,children:i.jsx(Ir,{className:"h-4 w-4 text-foreground/70"})}),i.jsxs(B,{size:"sm",variant:"outline",className:"h-8 rounded-xl bg-background/50 hover:bg-accent/10 transition-all duration-200",onClick:v,disabled:!(e!=null&&e.length)||y||!g,children:[y?i.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin text-foreground/70"}):i.jsx(mi,{className:"h-4 w-4 mr-2 text-foreground/70"}),i.jsx("span",{className:"text-sm",children:"Improve"})]}),i.jsxs(B,{size:"sm",className:"h-8 rounded-xl bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:w,disabled:!(e!=null&&e.length)||!n||!c||y,children:[i.jsx("span",{className:"text-sm",children:"Create"}),i.jsx(nn,{className:"ml-2 h-4 w-4"})]})]})]})},uo=p.forwardRef(({className:e,value:t,...r},s)=>i.jsx(Qc,{ref:s,className:_("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(nm,{className:"h-full w-full flex-1 bg-primary rounded-full transition-all duration-300",style:{transform:`translateX(-${100-(t||0)}%)`}})}));uo.displayName=Qc.displayName;const Bn=({credits:e,bonusCredits:t,className:r})=>{var d,u;const n=e/50*100,{session:a}=$e(),{data:o}=me({queryKey:["profile-refill",(d=a==null?void 0:a.user)==null?void 0:d.id],queryFn:async()=>{var f;if(!((f=a==null?void 0:a.user)!=null&&f.id))return null;const{data:h}=await R.from("profiles").select("last_refill_time").eq("id",a.user.id).single();return h},enabled:!!((u=a==null?void 0:a.user)!=null&&u.id)}),c=(()=>{if(!(o!=null&&o.last_refill_time))return 24;const h=new Date(o.last_refill_time),f=new Date,m=new Date(h);m.setHours(m.getHours()+24);const g=Math.ceil((m-f)/(1e3*60*60));return Math.max(0,Math.min(24,g))})();return i.jsx(Si,{children:i.jsxs(Ti,{children:[i.jsx(Ci,{asChild:!0,children:i.jsxs("div",{className:_("space-y-0.5 w-full",r),children:[i.jsxs("div",{className:"flex justify-between text-xs items-center px-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"daily credits"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Io,{className:"w-3 h-3"}),i.jsxs("span",{children:[e,"/",50," remaining"]}),t>0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mx-1",children:"+"}),i.jsx(Io,{className:"w-3 h-3"}),i.jsxs("span",{className:"text-green-500",children:["B",t]})]})]})]}),i.jsx(uo,{value:n,className:"h-2 bg-destructive/25"})]})}),i.jsx(En,{children:i.jsxs("p",{className:"text-xs",children:[c," hours remaining until refill"]})})]})})},rf=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:_("flex min-h-[80px] w-full rounded-md bg-secondary/50 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:bg-secondary focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",e),enterkeyhint:"enter",ref:r,...t}));rf.displayName="Textarea";const Nj=({prompt:e,setPrompt:t,handlePromptKeyDown:r,generateImage:s,model:n,setModel:a,seed:o,setSeed:l,randomizeSeed:c,setRandomizeSeed:d,quality:u,setQuality:h,useAspectRatio:f,setUseAspectRatio:m,aspectRatio:g,setAspectRatio:y,width:b,setWidth:v,height:w,setHeight:x,session:j,credits:N=0,bonusCredits:T=0,nsfwEnabled:P,setNsfwEnabled:S,proMode:C,modelConfigs:M,imageCount:O=1,setImageCount:A,isPrivate:E,setIsPrivate:D,hidePromptOnDesktop:F=!1,updateCredits:$,negativePrompt:I,setNegativePrompt:G})=>{var tt,We,K,qe,je;const W=et().hash==="#imagegenerate",Z=(tt=j==null?void 0:j.user)==null?void 0:tt.id,{isImproving:X,improveCurrentPrompt:H}=Pn(Z),re={HD:1,"HD+":2,"4K":3}[u]*O,ce=(N||0)+(T||0),ye=ce>=re,Q=ce>=1,ne=ve=>{const Be=M==null?void 0:M[ve];Be!=null&&Be.qualityLimits&&(Be.qualityLimits.includes(u)||h("HD")),a(ve)},De=()=>{t("")},Fe=async()=>{if(!(e!=null&&e.trim())){q.error("Please enter a prompt");return}if(!Q){q.error("Not enough credits for prompt improvement");return}await H(e,n,M,ve=>{t(ve)})},Ae=async()=>{if(!(e!=null&&e.trim())){q.error("Please enter a prompt");return}if(!ye){q.error("Not enough credits");return}await s()};return i.jsxs("div",{className:"space-y-4 pb-16 md:pb-0 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500",children:[W&&i.jsx("div",{className:"flex justify-center w-full mb-2",children:i.jsx(Bn,{credits:N,bonusCredits:T})}),i.jsx("div",{className:F?"md:hidden":"",children:i.jsx(kj,{prompt:e,onChange:ve=>t(ve.target.value),onKeyDown:r,onSubmit:Ae,hasEnoughCredits:ye,onClear:De,onImprove:Fe,isImproving:X,userId:(We=j==null?void 0:j.user)==null?void 0:We.id,credits:N,bonusCredits:T})}),i.jsx(_j,{model:n,setModel:ne,nsfwEnabled:P,proMode:C,modelConfigs:M}),i.jsx(cs,{label:"Dimensions",tooltip:"Choose the aspect ratio and quality for your generated image",children:i.jsx(gv,{aspectRatio:g,setAspectRatio:y,quality:u,setQuality:h,proMode:C,qualityLimits:(K=M==null?void 0:M[n])==null?void 0:K.qualityLimits})}),i.jsx(jj,{count:O,setCount:A}),((qe=M[n])==null?void 0:qe.use_negative_prompt)&&i.jsx(cs,{label:"Negative Prompt",tooltip:"Specify what you don't want to see in the generated image",children:i.jsx(rf,{placeholder:((je=M[n])==null?void 0:je.default_negative_prompt)||"Enter negative prompt...",className:"resize-none",value:I,onChange:ve=>G(ve.target.value)})}),i.jsx(cs,{label:"Seed",tooltip:"A seed is a number that initializes the random generation process. Using the same seed with the same settings will produce the same image.",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ps,{type:"number",value:o,onChange:ve=>l(parseInt(ve.target.value)),disabled:c}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fu,{id:"randomizeSeed",checked:c,onCheckedChange:d}),i.jsx(au,{htmlFor:"randomizeSeed",children:"Random"})]})]})})]})},$t=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("rounded-xl border border-border/5 bg-card/90 text-card-foreground backdrop-blur-[2px] shadow-[0_8px_30px_rgb(0,0,0,0.04)] transition-all duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)]",e),...t}));$t.displayName="Card";const Sj=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("flex flex-col space-y-1.5 p-7",e),...t}));Sj.displayName="CardHeader";const Tj=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:_("text-2xl font-medium leading-none tracking-tight text-foreground/90",e),...t}));Tj.displayName="CardTitle";const Cj=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:_("text-sm text-muted-foreground/80",e),...t}));Cj.displayName="CardDescription";const ho=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("p-7 pt-0",e),...t}));ho.displayName="CardContent";const Pj=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:_("flex items-center p-7 pt-0",e),...t}));Pj.displayName="CardFooter";function Ie({className:e,...t}){return i.jsx("div",{className:_("animate-pulse rounded-md bg-muted",e),...t})}const Aj=({width:e=512,height:t=512})=>{const r=t/e*100;return i.jsxs("div",{className:"mb-6 group",children:[i.jsx($t,{className:_("overflow-hidden rounded-2xl","border-border/80 bg-card/95","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300","hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","hover:border-border/20"),children:i.jsx(ho,{className:"p-0 relative",style:{paddingTop:`${r}%`},children:i.jsx(Ie,{className:_("absolute inset-0 w-full h-full","bg-muted/5","animate-pulse","transition-all duration-300")})})}),i.jsxs("div",{className:"mt-3 flex items-center justify-between gap-4",children:[i.jsx(Ie,{className:_("h-4 w-3/4 rounded-lg","bg-muted/5","animate-pulse","transition-all duration-300")}),i.jsx(Ie,{className:_("h-7 w-7 rounded-lg","bg-muted/5","animate-pulse","transition-all duration-300")})]})]})},Ec=({children:e,className:t})=>i.jsx("div",{className:_("absolute z-[2] rounded-full p-1 bg-background/80 backdrop-blur-sm",t),children:e}),Ej=({isTrending:e,isHot:t})=>!e&&!t?null:i.jsxs(i.Fragment,{children:[e&&i.jsx(Ec,{className:"top-2 left-2",children:i.jsx(am,{className:"w-4 h-4 text-blue-500"})}),t&&i.jsx(Ec,{className:_("top-2",e?"left-10":"left-2"),children:i.jsx(im,{className:"w-4 h-4 text-red-500"})})]}),sf=async(e,t)=>{try{const s=await(await fetch(e)).blob(),n=window.URL.createObjectURL(s),a=document.createElement("a");a.href=n,a.download=`${t.slice(0,30)}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}catch(r){console.error("Error downloading image:",r),toast.error("Failed to download image")}},fo=cm,mo=dm,Dj=p.forwardRef(({className:e,inset:t,children:r,...s},n)=>i.jsxs(Zc,{ref:n,className:_("flex cursor-default select-none items-center rounded-xl px-3 py-2 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 data-[state=open]:bg-accent/80",t&&"pl-8",e),...s,children:[r,i.jsx(Ns,{className:"ml-auto h-4 w-4 opacity-70"})]}));Dj.displayName=Zc.displayName;const Rj=p.forwardRef(({className:e,...t},r)=>i.jsx(ed,{ref:r,className:_("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/80 bg-popover/95 p-2 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Rj.displayName=ed.displayName;const zn=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>i.jsx(om,{children:i.jsx(td,{ref:s,sideOffset:t,className:_("z-50 min-w-[8rem] overflow-hidden rounded-xl border border-border/80 bg-popover/95 p-2 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));zn.displayName=td.displayName;const kr=p.forwardRef(({className:e,inset:t,...r},s)=>i.jsx(rd,{ref:s,className:_("relative flex cursor-default select-none items-center rounded-xl px-3 py-2 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",t&&"pl-8",e),...r}));kr.displayName=rd.displayName;const Oj=p.forwardRef(({className:e,children:t,checked:r,...s},n)=>i.jsxs(sd,{ref:n,className:_("relative flex cursor-default select-none items-center rounded-xl py-2 pl-9 pr-3 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",e),checked:r,...s,children:[i.jsx("span",{className:"absolute left-3 flex h-4 w-4 items-center justify-center",children:i.jsx(nd,{children:i.jsx(it,{className:"h-4 w-4"})})}),t]}));Oj.displayName=sd.displayName;const Ij=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(ad,{ref:s,className:_("relative flex cursor-default select-none items-center rounded-xl py-2 pl-9 pr-3 text-sm outline-none transition-colors duration-200 focus:bg-accent/80 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-40",e),...r,children:[i.jsx("span",{className:"absolute left-3 flex h-4 w-4 items-center justify-center",children:i.jsx(nd,{children:i.jsx(lm,{className:"h-2.5 w-2.5 fill-current"})})}),t]}));Ij.displayName=ad.displayName;const Mj=p.forwardRef(({className:e,inset:t,...r},s)=>i.jsx(id,{ref:s,className:_("px-3 py-2 text-sm font-medium text-foreground/90",t&&"pl-8",e),...r}));Mj.displayName=id.displayName;const ci=p.forwardRef(({className:e,...t},r)=>i.jsx(od,{ref:r,className:_("-mx-1 my-1.5 h-px bg-muted/50",e),...t}));ci.displayName=od.displayName;const nf=({isLiked:e,onToggle:t,className:r,onLike:s})=>{const[n,a]=p.useState(null),o=c=>{c.stopPropagation(),e||s==null||s(),t(),a(!e),setTimeout(()=>{a(null)},5e3)},l=n??e;return i.jsx(B,{variant:"ghost",size:"icon",className:_("h-6 w-6 p-0",r),onClick:o,children:i.jsx(ld,{className:_("h-4 w-4",l?"fill-red-500 text-red-500":"text-foreground")})})},lr=e=>{const[t,r]=p.useState(!1);return p.useEffect(()=>{const s=window.matchMedia(e);r(s.matches);const n=a=>{r(a.matches)};return s.addListener(n),()=>s.removeListener(n)},[e]),t},gn=({prompt:e,className:t})=>{const[r,s]=p.useState(!1),n=e.length>150;return i.jsx("div",{className:_("relative",t),children:i.jsx("p",{onClick:()=>n&&s(!r),className:_("text-sm text-muted-foreground",!r&&n&&"line-clamp-3",n&&"cursor-pointer hover:text-muted-foreground/80"),children:e})})},po=({prompt:e,negative_prompt:t,copyIcon:r,shareIcon:s,onCopyPrompt:n,onShare:a})=>i.jsxs("div",{className:_("flex flex-col space-y-4"),children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Prompt"}),i.jsxs("div",{className:"flex gap-1.5",children:[i.jsx(B,{variant:"ghost",size:"icon",onClick:n,className:_("h-6 w-6 p-0 rounded-md","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:r==="copy"?i.jsx(cd,{className:"h-3.5 w-3.5 text-foreground/70"}):i.jsx(it,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})}),i.jsx(B,{variant:"ghost",size:"icon",onClick:a,className:_("h-6 w-6 p-0 rounded-md","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:s==="share"?i.jsx(dd,{className:"h-3.5 w-3.5 text-foreground/70"}):i.jsx(it,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})})]})]}),i.jsx("div",{className:_("rounded-md"),children:i.jsx(gn,{prompt:e,className:"text-sm text-foreground/90 leading-relaxed"})})]}),t&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Negative Prompt"}),i.jsx("div",{className:_("rounded-md"),children:i.jsx(gn,{prompt:t,className:"text-sm text-foreground/90 leading-relaxed"})})]})]}),go=({detailItems:e})=>i.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map((t,r)=>i.jsxs("div",{className:_("space-y-1 rounded-md","bg-muted/5 hover:bg-muted/10","border border-border/5","transition-colors duration-200","group"),children:[i.jsx("p",{className:"text-xs text-foreground/40 uppercase tracking-wider group-hover:text-muted-foreground/70 transition-colors duration-200",children:t.label}),i.jsx("p",{className:"text-sm font-medium text-foreground/90",children:t.value})]},r))});function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function kt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function af(e,t){const r=Le(e);return isNaN(t)?kt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const of=6048e5,Lj=864e5,lf=6e4,cf=36e5;let $j={};function Hn(){return $j}function nr(e,t){var l,c,d,u;const r=Hn(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Le(e),a=n.getDay(),o=(a<s?7:0)+a-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function yn(e){return nr(e,{weekStartsOn:1})}function df(e){const t=Le(e),r=t.getFullYear(),s=kt(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const n=yn(s),a=kt(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=yn(a);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function vn(e){const t=Le(e);return t.setHours(0,0,0,0),t}function Dc(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fj(e,t){const r=vn(e),s=vn(t),n=+r-Dc(r),a=+s-Dc(s);return Math.round((n-a)/Lj)}function Vj(e){const t=df(e),r=kt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yn(r)}function Uj(e,t){const r=t*7;return af(e,r)}function Wn(e){return kt(e,Date.now())}function uf(e,t){const r=vn(e),s=vn(t);return+r==+s}function qj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bj(e){if(!qj(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function zj(e){const t=Le(e),r=kt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wj=(e,t,r)=>{let s;const n=Hj[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ja(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Gj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jj={date:ja({formats:Gj,defaultWidth:"full"}),time:ja({formats:Kj,defaultWidth:"full"}),dateTime:ja({formats:Yj,defaultWidth:"full"})},Xj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qj=(e,t,r,s)=>Xj[e];function Zr(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let n;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return n[a]}}const Zj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ek={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ak=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ik={ordinalNumber:ak,era:Zr({values:Zj,defaultWidth:"wide"}),quarter:Zr({values:ek,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zr({values:tk,defaultWidth:"wide"}),day:Zr({values:rk,defaultWidth:"wide"}),dayPeriod:Zr({values:sk,defaultWidth:"wide",formattingValues:nk,defaultFormattingWidth:"wide"})};function es(e){return(t,r={})=>{const s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(n);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lk(l,h=>h.test(o)):ok(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function ok(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lk(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ck(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const n=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const dk=/^(\d+)(th|st|nd|rd)?/i,uk=/\d+/i,hk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fk={any:[/^b/i,/^(a|c)/i]},mk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pk={any:[/1/i,/2/i,/3/i,/4/i]},gk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_k={ordinalNumber:ck({matchPattern:dk,parsePattern:uk,valueCallback:e=>parseInt(e,10)}),era:es({matchPatterns:hk,defaultMatchWidth:"wide",parsePatterns:fk,defaultParseWidth:"any"}),quarter:es({matchPatterns:mk,defaultMatchWidth:"wide",parsePatterns:pk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:es({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),day:es({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:xk,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:bk,defaultMatchWidth:"any",parsePatterns:wk,defaultParseWidth:"any"})},jk={code:"en-US",formatDistance:Wj,formatLong:Jj,formatRelative:Qj,localize:ik,match:_k,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kk(e){const t=Le(e);return Fj(t,zj(t))+1}function Nk(e){const t=Le(e),r=+yn(t)-+Vj(t);return Math.round(r/of)+1}function hf(e,t){var u,h,f,m;const r=Le(e),s=r.getFullYear(),n=Hn(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=kt(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=nr(o,t),c=kt(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const d=nr(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Sk(e,t){var l,c,d,u;const r=Hn(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=hf(e,t),a=kt(e,0);return a.setFullYear(n,0,s),a.setHours(0,0,0,0),nr(a,t)}function Tk(e,t){const r=Le(e),s=+nr(r,t)-+Sk(r,t);return Math.round(s/of)+1}function oe(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const At={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return oe(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):oe(r+1,2)},d(e,t){return oe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return oe(e.getHours()%12||12,t.length)},H(e,t){return oe(e.getHours(),t.length)},m(e,t){return oe(e.getMinutes(),t.length)},s(e,t){return oe(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),n=Math.trunc(s*Math.pow(10,r-3));return oe(n,t.length)}},vr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rc={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),n=s>0?s:1-s;return r.ordinalNumber(n,{unit:"year"})}return At.y(e,t)},Y:function(e,t,r,s){const n=hf(e,s),a=n>0?n:1-n;if(t==="YY"){const o=a%100;return oe(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):oe(a,t.length)},R:function(e,t){const r=df(e);return oe(r,t.length)},u:function(e,t){const r=e.getFullYear();return oe(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return At.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const n=Tk(e,s);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):oe(n,t.length)},I:function(e,t,r){const s=Nk(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):oe(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):At.d(e,t)},D:function(e,t,r){const s=kk(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):oe(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const n=e.getDay(),a=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return oe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const n=e.getDay(),a=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return oe(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return oe(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let n;switch(s===12?n=vr.noon:s===0?n=vr.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let n;switch(s>=17?n=vr.evening:s>=12?n=vr.afternoon:s>=4?n=vr.morning:n=vr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return At.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):At.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):oe(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):oe(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):At.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):At.s(e,t)},S:function(e,t){return At.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Ic(s);case"XXXX":case"XX":return er(s);case"XXXXX":case"XXX":default:return er(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Ic(s);case"xxxx":case"xx":return er(s);case"xxxxx":case"xxx":default:return er(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Oc(s,":");case"OOOO":default:return"GMT"+er(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Oc(s,":");case"zzzz":default:return"GMT"+er(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return oe(s,t.length)},T:function(e,t,r){const s=e.getTime();return oe(s,t.length)}};function Oc(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=Math.trunc(s/60),a=s%60;return a===0?r+String(n):r+String(n)+t+oe(a,2)}function Ic(e,t){return e%60===0?(e>0?"-":"+")+oe(Math.abs(e)/60,2):er(e,t)}function er(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=oe(Math.trunc(s/60),2),a=oe(s%60,2);return r+n+t+a}const Mc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ff=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ck=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],n=r[2];if(!n)return Mc(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Mc(s,t)).replace("{{time}}",ff(n,t))},Pk={p:ff,P:Ck},Ak=/^D+$/,Ek=/^Y+$/,Dk=["D","DD","YY","YYYY"];function Rk(e){return Ak.test(e)}function Ok(e){return Ek.test(e)}function Ik(e,t,r){const s=Mk(e,t,r);if(console.warn(s),Dk.includes(e))throw new RangeError(s)}function Mk(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fk=/^'([^]*?)'?$/,Vk=/''/g,Uk=/[a-zA-Z]/;function Ms(e,t,r){var u,h,f,m;const s=Hn(),n=s.locale??jk,a=s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Le(e);if(!Bj(l))throw new RangeError("Invalid time value");let c=t.match($k).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=Pk[y];return b(g,n.formatLong)}return g}).join("").match(Lk).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:qk(g)};if(Rc[y])return{isToken:!0,value:g};if(y.match(Uk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:n};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(Ok(y)||Rk(y))&&Ik(y,t,String(e));const b=Rc[y[0]];return b(l,y,n.localize,d)}).join("")}function qk(e){const t=e.match(Fk);return t?t[1].replace(Vk,"'"):e}function ka(e,t){const r=Le(e),s=Le(t);return r.getTime()>s.getTime()}function Bk(e,t,r){const s=nr(e,r),n=nr(t,r);return+s==+n}function zk(e,t){const r=Le(e),s=Le(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Hk(e){return zk(e,Wn(e))}function Wk(e,t){return Bk(e,Wn(e),t)}function Gk(e){return uf(e,Wn(e))}function Kk(e,t){return af(e,-t)}function Yk(e){return uf(e,Kk(Wn(e),1))}function Jk(e,t){const s=e1(e);let n;if(s.date){const c=t1(s.date,2);n=r1(c.restDateString,c.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const a=n.getTime();let o=0,l;if(s.time&&(o=s1(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=n1(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+o+l)}const Xs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xk=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Qk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Zk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function e1(e){const t={},r=e.split(Xs.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],Xs.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xs.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const n=Xs.timezone.exec(s);n?(t.time=s.replace(n[1],""),t.timezone=n[1]):t.time=s}return t}function t1(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const n=s[1]?parseInt(s[1]):null,a=s[2]?parseInt(s[2]):null;return{year:a===null?n:a*100,restDateString:e.slice((s[1]||s[2]).length)}}function r1(e,t){if(t===null)return new Date(NaN);const r=e.match(Xk);if(!r)return new Date(NaN);const s=!!r[4],n=ts(r[1]),a=ts(r[2])-1,o=ts(r[3]),l=ts(r[4]),c=ts(r[5])-1;if(s)return c1(t,l,c)?a1(t,l,c):new Date(NaN);{const d=new Date(0);return!o1(t,a,o)||!l1(t,n)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(n,o)),d)}}function ts(e){return e?parseInt(e):1}function s1(e){const t=e.match(Qk);if(!t)return NaN;const r=Na(t[1]),s=Na(t[2]),n=Na(t[3]);return d1(r,s,n)?r*cf+s*lf+n*1e3:NaN}function Na(e){return e&&parseFloat(e.replace(",","."))||0}function n1(e){if(e==="Z")return 0;const t=e.match(Zk);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return u1(s,n)?r*(s*cf+n*lf):NaN}function a1(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const n=s.getUTCDay()||7,a=(t-1)*7+r+1-n;return s.setUTCDate(s.getUTCDate()+a),s}const i1=[31,null,31,30,31,30,31,31,30,31,30,31];function mf(e){return e%400===0||e%4===0&&e%100!==0}function o1(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(i1[t]||(mf(e)?29:28))}function l1(e,t){return t>=1&&t<=(mf(e)?366:365)}function c1(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function d1(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function u1(e,t){return t>=0&&t<=59}function Sa(e,t){return Uj(e,-t)}const h1=({image:e,isMobile:t,isLiked:r,likeCount:s=0,onToggleLike:n=()=>{},onViewDetails:a=()=>{},onDownload:o=()=>{},onDiscard:l=()=>{},userId:c})=>{var M;const{session:d}=$e(),u=Se(),h=lr("(max-width: 768px)"),[f,m]=p.useState(!1),[g,y]=p.useState("copy"),[b,v]=p.useState("share"),{data:w}=dt(),x=O=>{O.preventDefault(),O.stopPropagation(),h?m(!0):a(e)},j=O=>{O.preventDefault(),O.stopPropagation(),e!=null&&e.id&&(l(e),m(!1))},N=O=>{O.preventDefault(),O.stopPropagation(),o(e),m(!1)},T=O=>{if(O.preventDefault(),O.stopPropagation(),!d){q.error("Please sign in to remix images");return}const A=h?"#imagegenerate":"#myimages";u(`/?remix=${e.id}${A}`,{replace:!0}),m(!1)},P=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),y("check"),setTimeout(()=>y("copy"),1500)},S=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),v("check"),setTimeout(()=>v("share"),1500)},C=[{label:"Model",value:((M=w==null?void 0:w[e.model])==null?void 0:M.name)||e.model},{label:"Size",value:`${e.width}x${e.height}`},{label:"Quality",value:e.quality},{label:"Seed",value:e.seed},{label:"Aspect Ratio",value:e.aspect_ratio},{label:"Created",value:Ms(new Date(e.created_at),"MMM d, yyyy h:mm a")}];return i.jsxs("div",{className:"flex items-center gap-1 px-1",onClick:O=>O.stopPropagation(),children:[d&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nf,{isLiked:r,onToggle:()=>n(e.id)}),i.jsx("span",{className:_("text-xs text-muted-foreground/60 group-hover:text-muted-foreground/80","transition-colors duration-200"),children:s})]}),h?i.jsxs(i.Fragment,{children:[i.jsx(B,{variant:"ghost",size:"icon",onClick:x,className:_("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:i.jsx(Mo,{className:"h-4 w-4 text-foreground/70"})}),i.jsx(Fn,{open:f,onOpenChange:m,children:i.jsxs(Vn,{className:"focus:outline-none",children:[i.jsx(Un,{className:"border-b border-border/5 px-4 py-4",children:i.jsx(qn,{className:"text-base font-medium text-foreground/90",children:"Image Details"})}),i.jsx(ut,{className:"max-h-[80vh] overflow-y-auto px-4 py-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex gap-1.5",children:[e.user_id===c&&i.jsxs(B,{onClick:j,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[i.jsx(an,{className:"mr-1.5 h-3.5 w-3.5"}),i.jsx("span",{children:"Discard"})]}),i.jsxs(B,{onClick:N,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(on,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Download"})]}),i.jsxs(B,{onClick:T,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(Ea,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Remix"})]})]}),i.jsx(po,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:g,shareIcon:b,onCopyPrompt:P,onShare:S}),i.jsx(go,{detailItems:C})]})})]})})]}):i.jsxs(fo,{children:[i.jsx(mo,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"icon",className:_("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:i.jsx(Mo,{className:"h-4 w-4 text-foreground/70"})})}),i.jsxs(zn,{align:"end",className:_("w-52 p-2 m-2","border-border/80 bg-card","animate-in fade-in-0 zoom-in-95 duration-200"),children:[i.jsxs(kr,{onClick:N,className:_("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[i.jsx(on,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),i.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"Download"})]}),d&&i.jsxs(i.Fragment,{children:[i.jsx(ci,{className:"my-2 bg-border/5"}),e.user_id===c&&i.jsxs(kr,{onClick:j,className:_("flex items-center gap-3 py-2 px-3 rounded-lg mb-2","cursor-pointer transition-colors duration-200","hover:bg-destructive/50 focus:bg-destructive/10","text-destructive/90 hover:text-destructive","group"),children:[i.jsx(an,{className:"h-4 w-4 transition-colors duration-200"}),i.jsx("span",{className:"text-sm font-medium",children:"Discard"})]}),i.jsxs(kr,{onClick:T,className:_("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[i.jsx(Ea,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),i.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"Remix"})]})]}),i.jsx(ci,{className:"my-2 bg-border/5"}),i.jsxs(kr,{onClick:x,className:_("flex items-center gap-3 py-2 px-3 rounded-lg","cursor-pointer transition-colors duration-200","hover:bg-accent/10 focus:bg-accent/10","group"),children:[i.jsx(um,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-foreground/90 transition-colors duration-200"}),i.jsx("span",{className:"text-sm font-medium text-foreground/90",children:"View Details"})]})]})]})]})},yo=hi,f1=fi,pf=p.forwardRef(({className:e,...t},r)=>i.jsx(ws,{ref:r,className:_("fixed inset-0 z-50 bg-black/90 transition-all duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pf.displayName=ws.displayName;const Gn=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(f1,{children:[i.jsx(pf,{}),i.jsxs(_s,{ref:s,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-5 border border-border/80 bg-background p-8 transition-all duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-[28px]",e),...r,children:[t,i.jsxs(ui,{className:"absolute right-5 top-5 rounded-xl opacity-70 ring-offset-background transition-all duration-200 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-muted data-[state=open]:text-muted-foreground/80",children:[i.jsx(Ir,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gn.displayName=_s.displayName;const vo=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...t});vo.displayName="DialogHeader";const xo=p.forwardRef(({className:e,...t},r)=>i.jsx(js,{ref:r,className:_("text-lg font-medium leading-none tracking-tight text-foreground/90",e),...t}));xo.displayName=js.displayName;const m1=p.forwardRef(({className:e,...t},r)=>i.jsx(ks,{ref:r,className:_("text-sm text-muted-foreground/80",e),...t}));m1.displayName=ks.displayName;const bo=({open:e,onOpenChange:t,image:r})=>{var h;const{data:s}=dt(),[n,a]=p.useState("copy"),[o,l]=p.useState("share");if(!r)return null;const c=[{label:"Model",value:((h=s==null?void 0:s[r.model])==null?void 0:h.name)||r.model},{label:"Seed",value:r.seed},{label:"Size",value:`${r.width}x${r.height}`},{label:"Aspect Ratio",value:r.aspect_ratio},{label:"Quality",value:r.quality},{label:"Created",value:Ms(new Date(r.created_at),"MMM d, yyyy h:mm a")}],d=async()=>{await navigator.clipboard.writeText(r.prompt),a("check"),setTimeout(()=>a("copy"),1500)},u=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${r.id}`),l("check"),setTimeout(()=>l("share"),1500)};return i.jsx(yo,{open:e,onOpenChange:t,children:i.jsxs(Gn,{className:_("sm:max-w-[500px] max-h-[80vh] overflow-hidden","border-border/80 bg-card","p-4 md:p-6 rounded-lg"),children:[i.jsx(vo,{className:"px-2",children:i.jsx(xo,{className:"text-md font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Image Details"})}),i.jsx(ut,{className:"mt-3 max-h-[calc(80vh-80px)]",children:i.jsxs("div",{className:"space-y-4 px-1",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Prompt"}),i.jsxs("div",{className:"flex gap-1.5",children:[i.jsx(B,{variant:"ghost",size:"icon",className:_("h-8 w-8 p-0 rounded-md","bg-card hover:bg-secondary ","transition-all duration-200"),onClick:d,children:n==="copy"?i.jsx(cd,{className:"h-3.5 w-3.5 text-foreground/70"}):i.jsx(it,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})}),i.jsx(B,{variant:"ghost",size:"icon",className:_("h-8 w-8 p-0 rounded-md","bg-card hover:bg-secondary ","transition-all duration-200"),onClick:u,children:o==="share"?i.jsx(dd,{className:"h-3.5 w-3.5 text-foreground/70"}):i.jsx(it,{className:"h-3.5 w-3.5 text-primary/90 animate-in zoom-in duration-300"})})]})]}),i.jsx("div",{className:_("rounded-md","bg-card","border border-border/5","transition-colors duration-200","group"),children:i.jsx(gn,{prompt:r.prompt})})]}),(r==null?void 0:r.negative_prompt)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xs font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Negative Prompt"}),i.jsx("div",{className:_("rounded-md","bg-card","transition-colors duration-200","group"),children:i.jsx(gn,{prompt:r.negative_prompt})})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map((f,m)=>i.jsxs("div",{className:_("space-y-1 p-2 rounded-md","bg-card","border border-border/5","transition-colors duration-200","group"),children:[i.jsx("p",{className:"text-xs text-muted-foreground/60 uppercase tracking-wider group-hover:text-muted-foreground/70 transition-colors duration-200",children:f.label}),i.jsx("p",{className:"text-sm font-medium text-foreground/90",children:f.value})]},m))})]})})]})})},p1=(e,t={})=>{try{const{width:r="auto",quality:s=75,format:n="webp"}=t,a=R.storage.from("user-images").getPublicUrl(e).data.publicUrl;if(!a)return console.error("Failed to get base URL for image:",e),"";if(r==="auto")return a;try{const o=new URL(a);return o.searchParams.set("width",r),o.searchParams.set("quality",s),o.searchParams.set("format",n),o.toString()}catch(o){return console.error("Error transforming image URL:",o),a}}catch(r){return console.error("Error in getOptimizedImageUrl:",r),""}},Kn=({isAnimating:e})=>e?i.jsx("div",{className:_("absolute inset-0 flex items-center justify-center","pointer-events-none z-10"),children:i.jsx("video",{src:"https://res.cloudinary.com/drhx7imeb/video/upload/v1735205358/Animation_-_1735137420225_kgdxup.webm",autoPlay:!0,muted:!0,className:"w-[150px] h-[150px]",onEnded:t=>{t.target.currentTime=0,t.target.pause()}})}):null,g1=({image:e,onImageClick:t,onDoubleClick:r,isAnimating:s})=>{const[n,a]=p.useState(!0),o=p1(e.storage_path,{width:1024,quality:75}),l=()=>{a(!1)};return i.jsxs("div",{className:"relative",style:{paddingTop:`${e.height/e.width*100}%`},children:[n&&i.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse",children:i.jsx(Ie,{className:"w-full h-full"})}),i.jsx("img",{src:o,alt:e.prompt,className:_("absolute inset-0 w-full h-full object-cover cursor-pointer","transition-opacity duration-300",n?"opacity-0":"opacity-100"),onClick:t,onDoubleClick:r,onLoad:l,loading:"lazy",decoding:"async"}),i.jsx("div",{className:_("absolute inset-0 flex items-center justify-center","pointer-events-none"),children:i.jsx(Kn,{isAnimating:s})})]})},y1=({modelName:e,isNsfw:t})=>i.jsx("div",{className:"absolute bottom-2 left-2 flex gap-1",children:i.jsx(Ue,{variant:"secondary",className:"bg-black/50 text-white border-none text-[8px] md:text-[10px] py-0.5",children:e})}),Lc=({image:e,onDiscard:t=()=>{},userId:r,isMobile:s,isLiked:n,onToggleLike:a=()=>{}})=>{var T,P;const[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),{data:f}=dt();lr("(max-width: 768px)");const m=Se(),{data:g=0}=me({queryKey:["imageLikes",e.id],queryFn:async()=>{const{count:S,error:C}=await R.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);if(C)throw C;return S||0}}),y=S=>{S.preventDefault(),m(`/image/${e.id}`)},b=async()=>{const S=R.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl;await sf(S,e.prompt)},v=()=>{h(!0),setTimeout(()=>{h(!1)},800)},w=S=>{S.preventDefault(),S.stopPropagation(),n||(v(),a(e.id))},x=async()=>{try{d(!0),await An(e),t(e.id)}catch(S){console.error("Error in handleDiscard:",S),d(!1)}};if(c)return null;const j=((T=f==null?void 0:f[e.model])==null?void 0:T.category)==="NSFW",N=((P=f==null?void 0:f[e.model])==null?void 0:P.name)||e.model;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2 group",children:[i.jsx($t,{className:_("overflow-hidden rounded-2xl bg-card/95","transition-all duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]","relative"),children:i.jsxs(ho,{className:"p-0 relative",children:[i.jsx(Ej,{isTrending:e.is_trending,isHot:e.is_hot}),i.jsx(g1,{image:e,onImageClick:y,onDoubleClick:w}),i.jsx(y1,{modelName:N,isNsfw:j}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx(Kn,{isAnimating:u})})]})}),i.jsxs("div",{className:"mt-0.5 flex items-center justify-between gap-1",children:[i.jsx("p",{className:_("text-sm truncate w-[70%]","text-muted-foreground/70 group-hover:text-muted-foreground/90","transition-colors duration-200"),children:e.prompt}),i.jsx(h1,{image:e,isMobile:s,isLiked:n,likeCount:g,onToggleLike:S=>{n||v(),a(S)},onViewDetails:()=>l(!0),onDownload:b,onDiscard:x,userId:r})]})]}),i.jsx(bo,{open:o,onOpenChange:l,image:e})]})},wo=e=>{const t=Ze();p.useEffect(()=>{if(!e)return;const n=R.channel("likes_channel").on("postgres_changes",{event:"*",schema:"public",table:"user_image_likes",filter:`user_id=eq.${e}`},()=>{t.invalidateQueries(["likes",e])}).subscribe();return()=>{n.unsubscribe()}},[e,t]);const{data:r}=me({queryKey:["likes",e],queryFn:async()=>{if(!e)return[];const{data:n,error:a}=await R.from("user_image_likes").select("image_id").eq("user_id",e);if(a)throw a;return n.map(o=>o.image_id)},enabled:!!e}),s=Tr({mutationFn:async n=>{if(r==null?void 0:r.includes(n)){const{error:o}=await R.from("user_image_likes").delete().eq("user_id",e).eq("image_id",n);if(o)throw o}else{const{data:o}=await R.from("user_image_likes").select("id").eq("user_id",e).eq("image_id",n).maybeSingle();if(!o){const{data:l,error:c}=await R.from("user_images").select("*").eq("id",n).single();if(c)throw c;const{data:d}=await R.from("profiles").select("display_name, avatar_url").eq("id",e).single(),{error:u}=await R.from("user_image_likes").insert([{user_id:e,image_id:n,created_by:l.user_id}]);if(u&&u.code!=="23505")throw u;if(!u){const{error:h}=await R.from("notifications").insert([{user_id:l.user_id,title:"New Like",message:`${(d==null?void 0:d.display_name)||"Someone"} liked your image`,image_url:R.storage.from("user-images").getPublicUrl(l.storage_path).data.publicUrl,link:`/profile/${e}`,link_names:"View Profile"}]);if(h)throw h}}}},onSuccess:()=>{t.invalidateQueries(["likes",e])}});return{userLikes:r||[],toggleLike:s.mutate}},v1=({animationUrl:e})=>i.jsxs("div",{className:_("flex flex-col items-center justify-center mx-auto","p-4 md:p-8 rounded-xl m-2 mt-16 md:mt-10","bg-card border border-border","transition-all duration-300"),children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Nothing Found"}),i.jsx("p",{className:"text-sm text-muted-foreground/70 mb-8 text-center",children:"Explore something else or create something new"}),e&&i.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full rounded-lg overflow-hidden",children:i.jsx("source",{src:e,type:"video/webm"})})]}),Et=20,Qs=["nsfwMaster","animeNsfw"],x1=({userId:e,activeView:t,nsfwEnabled:r,showPrivate:s,activeFilters:n={},searchQuery:a="",modelConfigs:o={},showFollowing:l=!1,showTop:c=!1,following:d=[]})=>{var v;const u=Ze(),{data:h,fetchNextPage:f,hasNextPage:m,isFetchingNextPage:g,isLoading:y}=hm({queryKey:["galleryImages",e,t,r,s,n,a,l,c,d],queryFn:async({pageParam:w={page:0}})=>{if(!e)return{data:[],nextPage:null};let x=R.from("user_images").select("*",{count:"exact"});if(t==="myImages"){x=x.eq("user_id",e),s!==void 0&&(x=x.eq("is_private",s)),r?x=x.in("model",Qs):x=x.not("model","in","("+Qs.join(",")+")"),n.style&&(x=x.eq("style",n.style)),n.model&&(x=x.eq("model",n.model)),a&&a.trim()&&(x=x.ilike("prompt",`%${a.trim()}%`));const S=w.page*Et,{data:C,error:M,count:O}=await x.order("created_at",{ascending:!1}).range(S,S+Et-1);if(M)throw M;return{data:(C==null?void 0:C.map(A=>({...A,image_url:R.storage.from("user-images").getPublicUrl(A.storage_path).data.publicUrl})))||[],nextPage:(C==null?void 0:C.length)===Et&&O>S+Et?{page:w.page+1}:void 0}}if(x=x.neq("user_id",e).eq("is_private",!1),r?x=x.in("model",Qs):x=x.not("model","in","("+Qs.join(",")+")"),l&&!c&&(d==null?void 0:d.length)>0)x=x.in("user_id",d);else if(c&&!l)x=x.or("is_hot.eq.true,is_trending.eq.true");else if(c&&l&&(d==null?void 0:d.length)>0)x=x.or(`user_id.in.(${d.join(",")}),is_hot.eq.true,is_trending.eq.true`);else if(l&&(d==null?void 0:d.length)===0)return{data:[],nextPage:void 0};n.style&&(x=x.eq("style",n.style)),n.model&&(x=x.eq("model",n.model)),a&&(x=x.ilike("prompt",`%${a}%`));const j=w.page*Et,{data:N,error:T,count:P}=await x.order("created_at",{ascending:!1}).range(j,j+Et-1);if(T)throw T;return N?{data:N.map(S=>({...S,image_url:R.storage.from("user-images").getPublicUrl(S.storage_path).data.publicUrl})),nextPage:N.length===Et&&P>j+Et?{page:w.page+1}:void 0}:{data:[],nextPage:null}},getNextPageParam:w=>w==null?void 0:w.nextPage,initialPageParam:{page:0}});return p.useEffect(()=>{if(!e)return;const w=R.channel("gallery-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_images",filter:t==="myImages"?`user_id=eq.${e}`:`user_id=neq.${e}`},()=>{u.invalidateQueries({queryKey:["galleryImages",e,t]})}).subscribe();return()=>{R.removeChannel(w)}},[e,t,u]),{images:((v=h==null?void 0:h.pages)==null?void 0:v.flatMap(w=>w.data))||[],isLoading:y,fetchNextPage:f,hasNextPage:m,isFetchingNextPage:g}},b1=()=>({default:4,1600:4,1e3:4,900:3,700:3,500:2}),w1=e=>{const t={today:[],yesterday:[],thisWeek:[],lastWeek:[],thisMonth:[],lastMonth:[],earlier:[]},r=new Date,s=Sa(r,1),n=Sa(r,2);return e==null||e.forEach(a=>{const o=Jk(a.created_at);Gk(o)?t.today.push(a):Yk(o)?t.yesterday.push(a):Wk(o)?t.thisWeek.push(a):ka(o,n)&&!ka(o,s)?t.lastWeek.push(a):Hk(o)?t.thisMonth.push(a):ka(o,Sa(r,6))?t.lastMonth.push(a):t.earlier.push(a)}),t},_1=({children:e})=>i.jsxs("div",{className:"flex items-center gap-3 px-2 mb-6",children:[i.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:e}),i.jsx("div",{className:"h-px flex-grow border-border/40"})]}),Yn=({userId:e,onImageClick:t,onDownload:r,onDiscard:s,onRemix:n,onViewDetails:a,generatingImages:o=[],nsfwEnabled:l,activeFilters:c={},searchQuery:d="",showPrivate:u,profileUserId:h,className:f,setStyle:m,style:g,showFollowing:y,showTop:b,following:v})=>{const{userLikes:w,toggleLike:x}=wo(e),j=window.innerWidth<=768,N=b1(),P=et().pathname==="/inspiration"?"inspiration":"myImages",{images:S,isLoading:C,fetchNextPage:M,hasNextPage:O,isFetchingNextPage:A}=x1({userId:h||e,activeView:P,nsfwEnabled:l,showPrivate:u,activeFilters:c,searchQuery:d,showFollowing:y,showTop:b,following:v}),E=p.useRef(),D=p.useCallback($=>{C||A||(E.current&&E.current.disconnect(),E.current=new IntersectionObserver(I=>{I[0].isIntersecting&&O&&M()}),$&&E.current.observe($))},[C,A,O,M]),F=$=>{j&&a($)};if(C&&!S.length)return i.jsx("div",{className:_("w-full h-full md:px-0 md:pt-0 pt-12",f),children:i.jsx(Zn,{breakpointCols:N,className:"flex w-auto md:px-2 -mx-1 md:mx-0",columnClassName:"bg-clip-padding px-1 md:px-2",children:Array.from({length:8}).map(($,I)=>i.jsx(Aj,{width:512,height:512},`loading-${I}`))})});if(!S||S.length===0)return i.jsx(v1,{});if(P==="myImages"&&!h){const $=w1(S),I=Object.entries($).filter(([G,L])=>L.length>0);return i.jsxs("div",{className:_("w-full h-full md:px-0 pt-12 space-y-8 px-0.5",f),children:[I.map(([G,L],W)=>i.jsxs("div",{children:[i.jsxs(_1,{children:[G==="today"&&"Today",G==="yesterday"&&"Yesterday",G==="thisWeek"&&"This Week",G==="lastWeek"&&"Last Week",G==="thisMonth"&&"This Month",G==="lastMonth"&&"Last Month",G==="earlier"&&"Earlier"]}),i.jsx(Zn,{breakpointCols:N,className:"flex w-auto md:px-2 -mx-0.5 md:-mx-2",columnClassName:"bg-clip-padding px-0.5 md:px-2 space-y-1 md:space-y-4",children:L.map((Z,X)=>i.jsx("div",{ref:W===I.length-1&&X===L.length-1?D:null,children:i.jsx(Lc,{image:Z,onImageClick:()=>t(Z),onDownload:r,onDiscard:s,onRemix:n,onViewDetails:a,onMoreClick:F,userId:e,isMobile:j,isLiked:w.includes(Z.id),onToggleLike:x,setStyle:m,style:g})},Z.id))})]},G)),A&&i.jsx("div",{className:"flex justify-center my-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})}return i.jsxs("div",{className:_("w-full h-full md:px-0 md:pt-0 pt-0 px-0.5",f),children:[i.jsx(Zn,{breakpointCols:N,className:"flex w-auto md:px-2 -mx-0.5 md:-mx-2",columnClassName:"bg-clip-padding px-0.5 md:px-2 [&>*]:mb-1 md:[&>*]:mb-4",children:S.map(($,I)=>i.jsx("div",{ref:I===S.length-1?D:null,children:i.jsx(Lc,{image:$,onImageClick:()=>t($),onDownload:r,onDiscard:s,onRemix:n,onViewDetails:a,onMoreClick:F,userId:e,isMobile:j,isLiked:w.includes($.id),onToggleLike:x,setStyle:m,style:g})},$.id))}),A&&i.jsx("div",{className:"flex justify-center my-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]})},j1=({open:e,onOpenChange:t,generatingImages:r=[]})=>{const{data:s}=dt(),[n,a]=p.useState(!1);if(p.useEffect(()=>{r.length>0?a(!0):(a(!1),t(!1))},[r.length,t]),!n)return null;const o=r.filter(u=>u.status==="processing").length,l=r.filter(u=>u.status==="pending").length,c=r.filter(u=>u.status==="completed").length;r.length>0&&r.every(u=>u.status==="completed");const d=[...r].sort((u,h)=>{const f={processing:0,pending:1,completed:2};return f[u.status]-f[h.status]});return i.jsx(Fn,{open:e,onOpenChange:t,children:i.jsxs(Vn,{className:"focus:outline-none w-full max-w-[400px] mx-auto",children:[i.jsx(Un,{className:"border-b border-border/5 p-4",children:i.jsx(qn,{className:"flex items-center gap-3 text-base font-medium text-foreground/90",children:o>0?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-1 rounded-lg ",children:i.jsx(Lt,{className:"h-4 w-4 animate-spin text-primary/90"})}),i.jsxs("span",{children:["Generating ",o," image",o>1?"s":"","..."]})]}):l>0?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-1 rounded-lg ",children:i.jsx(Da,{className:"h-4 w-4 text-muted-foreground/70"})}),i.jsxs("span",{children:["Queued ",l," image",l>1?"s":""]})]}):c>0?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-1 rounded-lg ",children:i.jsx(it,{className:"h-4 w-4 text-primary/90"})}),i.jsxs("span",{children:["Generated ",c," image",c>1?"s":""]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-1 rounded-lg ",children:i.jsx(Lt,{className:"h-4 w-4 animate-spin text-primary/90"})}),i.jsx("span",{children:"Processing..."})]})})}),i.jsx(ut,{className:"flex-1 h-[70vh]",children:i.jsx("div",{className:"px-4 py-4 space-y-3",children:d.map(u=>{var h;return i.jsxs("div",{className:_("flex flex-col items-start gap-2 p-3 rounded-lg","transition-all duration-200","hover:bg-accent/10 focus:bg-accent/10","group relative overflow-hidden",u.status==="processing"&&"min-h-[90px]"),children:[u.status==="processing"&&i.jsx(Ur,{className:"opacity-50",intensity:"strong",speed:"fast",size:1e3}),i.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1 rounded-lg",children:u.status==="processing"?i.jsx(Lt,{className:"w-3.5 h-3.5 animate-spin text-primary/90"}):u.status==="pending"?i.jsx(Da,{className:"w-3.5 h-3.5 text-muted-foreground/70"}):i.jsx(it,{className:"w-3.5 h-3.5 text-primary/90"})}),i.jsx("span",{className:"text-sm font-medium text-primary/90",children:u.status==="processing"?"Generating...":u.status==="pending"?"Queued":"Complete"})]}),i.jsxs(Ue,{variant:"secondary",className:_("ml-auto bg-muted/20 hover:bg-muted/30 text-foreground/70","transition-colors duration-200"),children:[u.width,"x",u.height]})]}),u.prompt&&i.jsx("span",{className:"text-xs text-muted-foreground/60 truncate w-full group-hover:text-muted-foreground/70 transition-colors duration-200",children:u.prompt.length>50?`${u.prompt.substring(0,50)}...`:u.prompt}),i.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground/50 group-hover:text-muted-foreground/60 transition-colors duration-200",children:i.jsx("span",{children:((h=s==null?void 0:s[u.model])==null?void 0:h.name)||u.model})})]},u.id)})})})]})})},k1=({icon:e,isActive:t,onClick:r,children:s,badge:n,onLongPress:a,asChild:o,showCheckmark:l})=>{const[c,d]=p.useState(!1),u=p.useRef(null),h=p.useRef(0),f=p.useRef(!1),m=v=>{f.current=!1,h.current=Date.now(),a&&(u.current=setTimeout(()=>{f.current||(d(!0),a())},500))},g=()=>{f.current=!0,u.current&&(clearTimeout(u.current),d(!1))},y=v=>{const w=Date.now()-h.current;u.current&&clearTimeout(u.current),d(!1),w<500&&!f.current&&(r==null||r(v))};p.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]);const b=o?"div":"button";return i.jsxs(b,{onTouchStart:m,onTouchMove:g,onTouchEnd:y,onClick:v=>{v.pointerType!=="touch"&&(r==null||r(v))},className:_("flex items-center justify-center w-14 h-12 transition-all duration-200 relative rounded-xl",t?"text-primary":"text-muted-foreground/70","relative group hover:bg-accent/10"),children:[i.jsx("div",{className:_("absolute inset-x-3 h-0.5 -top-1 rounded-full transition-all duration-200",t?"bg-primary/50":"bg-transparent")}),s||i.jsxs(i.Fragment,{children:[i.jsx(e,{size:20,className:_("transition-all duration-200",t?"scale-100":"scale-90 opacity-70 group-hover:scale-100 group-hover:opacity-100")}),(n>0||l)&&i.jsx("span",{className:_("absolute top-1.5 right-2.5 h-4 w-4 rounded-full bg-primary/30 text-[10px] font-medium text-primary-foreground flex items-center justify-center backdrop-blur-[1px]",l&&"animate-in zoom-in duration-300"),children:l?i.jsx(it,{className:"h-3 w-3"}):n>9?"9+":n})]})]})},rs=p.memo(k1),N1=hi,S1=Xc,T1=fi,gf=p.forwardRef(({className:e,...t},r)=>i.jsx(ws,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));gf.displayName=ws.displayName;const C1=Cs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yf=p.forwardRef(({side:e="right",className:t,children:r,...s},n)=>i.jsxs(T1,{children:[i.jsx(gf,{}),i.jsxs(_s,{ref:n,className:_(C1({side:e}),t),...s,children:[r,i.jsxs(ui,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Ir,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yf.displayName=_s.displayName;const vf=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...t});vf.displayName="SheetHeader";const xf=p.forwardRef(({className:e,...t},r)=>i.jsx(js,{ref:r,className:_("text-lg font-semibold text-foreground",e),...t}));xf.displayName=js.displayName;const P1=p.forwardRef(({className:e,...t},r)=>i.jsx(ks,{ref:r,className:_("text-sm text-muted-foreground",e),...t}));P1.displayName=ks.displayName;const A1=fm,E1=(e=.9)=>{const[t,r]=p.useState(!1),[s,n]=p.useState(!1),a=p.useRef(null);return p.useEffect(()=>{const o=new IntersectionObserver(([c])=>{const d=c.isIntersecting&&c.intersectionRatio>=e;console.log("Intersection Observer:",{isIntersecting:c.isIntersecting,intersectionRatio:c.intersectionRatio,threshold:e,isVisible:d}),r(d),d&&!s&&(console.log("Setting hasBeenViewed to true"),n(!0))},{threshold:[0,.25,.5,.75,e],rootMargin:"0px"}),l=a.current;return l&&(o.observe(l),console.log("Started observing element")),()=>{l&&(o.unobserve(l),console.log("Stopped observing element"))}},[e,s]),{ref:a,isInView:t,hasBeenViewed:s}},D1=({notification:e})=>{const{markAsRead:t,deleteNotification:r,hideGlobalNotification:s}=As(),{ref:n,isInView:a,hasBeenViewed:o}=E1(.9),l=Se();p.useEffect(()=>{console.log("Notification effect:",{id:e.id,isInView:a,hasBeenViewed:o,is_read:e.is_read}),a&&!e.is_read&&(console.log("Marking notification as read:",e.id),t(e.id))},[a,e.is_read,e.id,t]);const c=async m=>{m.preventDefault(),m.stopPropagation(),e.user_id?r(e.id):s(e.id)},d=m=>{e.link&&(m.preventDefault(),l(e.link))},u=e.image_url?e.image_url.split(",").map(m=>m.trim()).filter(m=>m.length>0):[],h=e.link?e.link.split(",").map(m=>m.trim()):[],f=e.link_names?e.link_names.split(",").map(m=>m.trim()):[];return i.jsxs("div",{ref:n,onClick:d,className:_("group relative flex items-start gap-4 p-4 transition-all duration-200 hover:bg-accent/5",!e.is_read&&"bg-muted/10",e.link&&"cursor-pointer"),children:[u.length>0&&i.jsx("div",{className:"flex-shrink-0 block w-24",children:i.jsx(A1,{ratio:1,className:"w-full",children:i.jsx("img",{src:u[0],alt:"",className:"rounded-xl object-cover w-full h-full ring-1 ring-border/5",onError:m=>{console.error("Failed to load notification image:",u[0]),m.target.style.display="none"},loading:"lazy",style:{display:"block"}})})}),i.jsxs("div",{className:_("flex-1 min-w-0",u.length===0&&"w-full"),children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("p",{className:_("text-sm font-medium leading-none text-foreground/90",!e.is_read&&"text-primary"),children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground/70 line-clamp-2",children:e.message})]}),i.jsx(B,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-all duration-200 rounded-lg hover:bg-accent/10 -mr-2",onClick:c,children:i.jsx(Ir,{className:"h-3.5 w-3.5 text-foreground/70"})})]}),h.length>0&&i.jsx("div",{className:"mt-2.5 flex flex-wrap gap-2",children:h.map((m,g)=>i.jsxs("div",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-primary/80 hover:text-primary transition-colors duration-200",children:[f[g]||"View details",i.jsx(mm,{className:"h-3 w-3"})]},g))}),i.jsx("p",{className:"mt-1.5 text-[11px] text-muted-foreground/60",children:Ms(new Date(e.created_at),"MMM d, h:mm a")})]}),!e.is_read&&i.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-1/2 bg-primary/50 rounded-r-full"})]})},bf=()=>{const{notifications:e}=As();return e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center p-6 space-y-3",children:[i.jsx("div",{className:"rounded-full bg-muted/5 p-4 transition-all duration-200 hover:bg-muted/10",children:i.jsx(Ra,{className:"h-10 w-10 text-muted-foreground/30"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-foreground/70",children:"No notifications"}),i.jsx("p",{className:"text-xs text-muted-foreground/50",children:"You're all caught up!"})]})]}):i.jsx("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:i.jsx(ut,{className:"flex-1",children:i.jsx("div",{className:"divide-y divide-border/5",children:e.map((t,r)=>i.jsx("div",{className:_("transition-all duration-200",r===0&&"rounded-t-lg overflow-hidden",r===e.length-1&&"rounded-b-lg overflow-hidden"),children:i.jsx(D1,{notification:t})},t.id))})})})},wf=()=>{const{unreadCount:e}=As(),[t,r]=k.useState(!1),s=lr("(max-width: 768px)"),n=()=>{r(!0)};return s?i.jsx("div",{className:_("h-9 w-9 p-0 relative md:flex flex items-center justify-center rounded-xl transition-all duration-200 hover:bg-accent/10",e>0&&"after:content-[''] after:absolute after:top-1.5 after:right-1.5 after:w-2 after:h-2 after:bg-destructive after:rounded-full"),onClick:n,children:i.jsx(Ra,{className:"h-5 w-5 text-foreground/70"})}):i.jsxs(N1,{open:t,onOpenChange:r,children:[i.jsx(S1,{asChild:!0,children:i.jsx("div",{className:_("h-9 w-9 p-0 relative md:flex flex items-center justify-center rounded-xl transition-all duration-200 hover:bg-accent/10 cursor-pointer",e>0&&"after:content-[''] after:absolute after:top-1.5 after:right-1.5 after:w-2 after:h-2 after:bg-destructive after:rounded-full"),children:i.jsx(Ra,{className:"h-5 w-5 text-foreground/70"})})}),i.jsxs(yf,{side:"left",className:"w-full sm:w-[380px] p-0 m-4 rounded-xl border border-border/80 bg-card/95 max-h-[calc(100vh-2rem)] overflow-y-auto shadow-lg",children:[i.jsx(vf,{className:"p-4 border-b border-border/80",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(xf,{className:"text-lg font-medium text-foreground/90",children:["Notifications",e>0&&i.jsxs("span",{className:"ml-2 text-sm text-muted-foreground/70",children:["(",e," new)"]})]})})}),i.jsx(bf,{})]})]})},_f=gm,R1=pm,jf=p.forwardRef(({className:e,...t},r)=>i.jsx(ud,{className:_("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));jf.displayName=ud.displayName;const _o=p.forwardRef(({className:e,...t},r)=>i.jsxs(R1,{children:[i.jsx(jf,{}),i.jsx(hd,{ref:r,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_o.displayName=hd.displayName;const jo=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",e),...t});jo.displayName="AlertDialogHeader";const ko=({className:e,...t})=>i.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ko.displayName="AlertDialogFooter";const No=p.forwardRef(({className:e,...t},r)=>i.jsx(fd,{ref:r,className:_("text-lg font-semibold",e),...t}));No.displayName=fd.displayName;const So=p.forwardRef(({className:e,...t},r)=>i.jsx(md,{ref:r,className:_("text-sm text-muted-foreground",e),...t}));So.displayName=md.displayName;const To=p.forwardRef(({className:e,...t},r)=>i.jsx(pd,{ref:r,className:_(ki(),e),...t}));To.displayName=pd.displayName;const Co=p.forwardRef(({className:e,...t},r)=>i.jsx(gd,{ref:r,className:_(ki({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Co.displayName=gd.displayName;const kf=e=>{const t=Ze();p.useEffect(()=>{if(!e)return;const r=R.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${e}`},s=>{t.invalidateQueries(["user",e]),t.invalidateQueries(["proUser",e]),t.invalidateQueries(["proRequest",e])}).subscribe();return()=>{R.removeChannel(r)}},[e,t])},Po=async(e,t)=>{try{if(!e)return null;if(!e.type.startsWith("image/"))return q.error("Please upload an image file"),null;if(e.size>5*1024*1024)return q.error("File size must be less than 5MB"),null;const{data:r}=await R.storage.from("profile-pictures").list(t);if(r&&r.length>0){const d=r.map(u=>`${t}/${u.name}`);await R.storage.from("profile-pictures").remove(d)}const s=e.name.split(".").pop(),n=`${t}-${Math.random()}.${s}`,a=`${t}/${n}`,{error:o}=await R.storage.from("profile-pictures").upload(a,e);if(o)throw o;const{data:{publicUrl:l}}=R.storage.from("profile-pictures").getPublicUrl(a),{error:c}=await R.auth.updateUser({data:{avatar_url:l}});if(c)throw c;return await R.from("profiles").update({avatar_url:l}).eq("id",t),q.success("Profile picture updated successfully"),l}catch(r){return q.error("Failed to update profile picture"),console.error("Error updating profile picture:",r),null}},Ao=p.forwardRef(({className:e,...t},r)=>i.jsx(yd,{ref:r,className:_("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border border-border/80 bg-background/80 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ao.displayName=yd.displayName;const Eo=p.forwardRef(({className:e,...t},r)=>i.jsx(vd,{ref:r,className:_("aspect-square h-full w-full transition-opacity duration-200",e),...t}));Eo.displayName=vd.displayName;const Do=p.forwardRef(({className:e,...t},r)=>i.jsx(xd,{ref:r,className:_("flex h-full w-full items-center justify-center rounded-full bg-muted/30 text-muted-foreground/70 transition-colors",e),...t}));Do.displayName=xd.displayName;const Rr=({user:e,avatarUrl:t,isPro:r,size:s="md",onEditClick:n,showEditOnHover:a=!0})=>{var d,u;const o={xs:"h-5 w-5",sm:"h-7 w-7",md:"h-12 w-12",lg:"h-24 w-24"},l={xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},c=t||((d=e==null?void 0:e.user_metadata)==null?void 0:d.avatar_url);return i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:`rounded-full ${r?"p-[2px] bg-gradient-to-tr from-yellow-300/80 via-amber-400/80 to-yellow-500/80":""}`,children:i.jsxs(Ao,{className:`${o[s]} ${r?"border border-background rounded-full":""}`,children:[i.jsx(Eo,{src:c,alt:e==null?void 0:e.email}),i.jsx(Do,{children:(u=e==null?void 0:e.email)==null?void 0:u.charAt(0).toUpperCase()})]})}),a&&n&&i.jsx("button",{onClick:n,className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(bd,{className:`${l[s]} text-white`})})]})},Nf=({user:e,credits:t,bonusCredits:r,isMobile:s,nsfwEnabled:n,setNsfwEnabled:a})=>{var b,v;const{logout:o}=$e(),[l,c]=p.useState(!1),{data:d}=Ut(e==null?void 0:e.id),u=Ze();kf(e==null?void 0:e.id);const{data:h}=me({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return null;const{data:w,error:x}=await R.from("profiles").select("*").eq("id",e.id).single();return x?null:w},enabled:!!(e!=null&&e.id)}),{data:f={followers:0,following:0}}=me({queryKey:["followCounts",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return{followers:0,following:0};const[w,x,j]=await Promise.all([R.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id),R.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.id),R.from("user_images").select("*",{count:"exact"}).eq("user_id",e.id)]);return{followers:w.count||0,following:x.count||0,totalImages:j.count||0}},enabled:!!(e!=null&&e.id)}),{data:m=0}=me({queryKey:["totalLikes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:w,error:x}=await R.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id);if(x)throw x;return w||0},enabled:!!(e!=null&&e.id)}),g=async w=>{var j;const x=(j=w.target.files)==null?void 0:j[0];x&&await Po(x,e==null?void 0:e.id)&&(u.invalidateQueries(["user"]),c(!1))};if(!e)return null;const y=((b=e==null?void 0:e.user_metadata)==null?void 0:b.display_name)||((v=e==null?void 0:e.email)==null?void 0:v.split("@")[0])||"";return i.jsxs(i.Fragment,{children:[i.jsxs(fo,{children:[i.jsx(mo,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"icon",className:_("h-7 w-7 p-0 rounded-lg","bg-muted/5 hover:bg-muted/10","transition-all duration-200",s&&"h-10 w-10 p-2.5"),children:i.jsx(Rr,{user:e,avatarUrl:h==null?void 0:h.avatar_url,isPro:d,size:"sm",showEditOnHover:!1,className:_("w-full h-full rounded-lg","transition-all duration-200",s&&"opacity-100")})})}),i.jsx(zn,{className:_("w-80 p-4 m-4","border-border bg-card","animate-in fade-in-0 zoom-in-95 duration-200"),align:s?"center":"end",side:s?"top":"bottom",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs(pi,{to:"/userprofile",className:_("flex items-center gap-3 group","p-2 -m-2 rounded-xl","bg-muted/20 hover:bg-muted/90","transition-all duration-200"),children:[i.jsx(Rr,{user:e,avatarUrl:h==null?void 0:h.avatar_url,isPro:d,size:"sm",showEditOnHover:!0,onClick:()=>c(!0),className:"w-8 h-8 rounded-lg"}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground leading-tight truncate",children:y}),i.jsx("p",{className:"text-xs text-muted-foreground/80 leading-tight truncate",children:e.email})]}),i.jsx(Ns,{className:"w-4 h-4 text-muted-foreground/80 group-hover:text-foreground transition-colors duration-200"})]}),i.jsx(Bn,{credits:t,bonusCredits:r}),i.jsxs("div",{className:_("grid grid-cols-4 gap-2 p-3 rounded-xl","transition-colors duration-200"),children:[i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.followers}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.following}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:m}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:f.totalImages||0}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>a(!n),className:_("h-8 rounded-lg text-xs","transition-all duration-200",n?"bg-destructive/5 hover:bg-destructive/10 text-destructive/90 hover:text-destructive":"bg-card hover:bg-background/50 text-primary/90 hover:text-primary"),children:n?"Unsafe":"Safe"}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>o(),className:_("h-8 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[i.jsx(gi,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign out"]})]})]})})]}),i.jsx(_f,{open:l,onOpenChange:c,children:i.jsxs(_o,{className:_("sm:max-w-[400px]","border-border/80 bg-card/95","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]"),children:[i.jsxs(jo,{children:[i.jsx(No,{className:"text-sm font-medium text-muted-foreground/70 uppercase tracking-wider",children:"Change Profile Picture"}),i.jsx(So,{className:"text-sm text-foreground/90",children:"Would you like to upload a new profile picture?"})]}),i.jsxs(ko,{children:[i.jsx(Co,{className:_("h-8 rounded-lg text-sm","bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Cancel"}),i.jsx(To,{onClick:()=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=g,w.click()},className:_("h-8 rounded-lg text-sm","bg-primary/90 hover:bg-primary/80","transition-all duration-200"),children:"Upload"})]})]})})]})},O1=({activeTab:e,setActiveTab:t,session:r,credits:s,bonusCredits:n,generatingImages:a=[],nsfwEnabled:o,setNsfwEnabled:l})=>{var j,N,T;As(),Ut((j=r==null?void 0:r.user)==null?void 0:j.id);const[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(!1),[g,y]=p.useState(a.length),b=Se(),v=et(),{data:w}=me({queryKey:["profile",(N=r==null?void 0:r.user)==null?void 0:N.id],queryFn:async()=>{var C;if(!((C=r==null?void 0:r.user)!=null&&C.id))return null;const{data:P,error:S}=await R.from("profiles").select("*").eq("id",r.user.id).single();return S?null:P},enabled:!!((T=r==null?void 0:r.user)!=null&&T.id)});p.useEffect(()=>{const P=a.length>0&&a.every(S=>S.status==="completed");if(m(P),a.length<g&&g>0){h(!0);const S=setTimeout(()=>{h(!1)},1500);return()=>clearTimeout(S)}y(a.length)},[a,g]);const x=(P,S)=>{t(S),P==="/inspiration"&&!v.hash?b("/inspiration#top"):b(P)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border/80 md:hidden z-50 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-around px-2 max-w-md mx-auto h-12",children:[i.jsx(rs,{icon:ym,isActive:v.pathname==="/"&&(!v.hash||v.hash==="#myimages"),onClick:()=>x("/#myimages","images")}),i.jsx(rs,{icon:mi,isActive:v.pathname==="/inspiration",onClick:()=>x("/inspiration#top","images")}),i.jsx("div",{className:_("relative flex items-center justify-center"),children:i.jsx(rs,{icon:vm,isActive:v.hash==="#imagegenerate",onClick:()=>x("/#imagegenerate","input"),onLongPress:()=>d(!0),badge:f?void 0:a.length,showCheckmark:f})}),i.jsx(rs,{icon:wf,isActive:v.hash==="#notifications",onClick:()=>x("/#notifications","notifications")}),i.jsx("div",{className:"flex items-center justify-center",children:r?i.jsx("div",{className:"group",children:i.jsx(Nf,{user:r.user,credits:s,bonusCredits:n,isMobile:!0,nsfwEnabled:o,setNsfwEnabled:l,profile:w})}):i.jsx(rs,{icon:xm,isActive:e==="profile",onClick:()=>t("profile")})})]}),i.jsx("div",{className:"h-safe-area-bottom"})]}),i.jsx(j1,{open:c,onOpenChange:d,generatingImages:a})]})},Sf=p.memo(O1),Tf=({activeTab:e})=>{const{unreadCount:t}=As();return e!=="notifications"?null:i.jsx("div",{className:"fixed inset-0 z-50 bg-background md:hidden",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b px-4 py-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground/90",children:"Notifications"}),t>0&&i.jsxs("span",{className:"ml-2 text-sm text-muted-foreground/70",children:["(",t," new)"]})]})}),i.jsx(ut,{className:"flex-1 px-2",children:i.jsx("div",{className:"py-2 pb-[calc(4rem+env(safe-area-inset-bottom))]",children:i.jsx(bf,{})})})]})})},Cf=e=>me({queryKey:["proRequest",e],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await R.from("profiles").select("is_pro_request").eq("id",e).single();if(r)throw r;return(t==null?void 0:t.is_pro_request)||!1},enabled:!!e}),I1=({isEditing:e,displayName:t,setDisplayName:r,onEdit:s,onUpdate:n,size:a="md"})=>{const o={sm:"text-lg",md:"text-lg",lg:"text-xl"};return i.jsx("div",{className:"flex items-center justify-center gap-2",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Ps,{value:t,onChange:l=>r(l.target.value),className:`h-8 ${o[a]} font-semibold text-center`}),i.jsx(B,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:i.jsx(it,{className:"h-4 w-4"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:`${o[a]} font-semibold`,children:t}),i.jsx(B,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8",children:i.jsx(bm,{className:"h-4 w-4"})})]})})},M1=({user:e,isPro:t,displayName:r,isEditing:s,setIsEditing:n,setDisplayName:a,onUpdate:o,onAvatarEdit:l,onAvatarUpload:c,profile:d})=>i.jsxs("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"relative cursor-pointer",onClick:l,children:[i.jsx(Rr,{user:e,avatarUrl:d==null?void 0:d.avatar_url,isPro:t,size:"lg",onEditClick:null,showEditOnHover:!1}),i.jsxs("label",{className:"absolute -bottom-2 -right-2 cursor-pointer z-10 group",onClick:u=>u.stopPropagation(),children:[i.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-all transform hover:scale-105 border border-white/10",children:i.jsx(wm,{className:"w-4 h-4 text-white group-hover:scale-110 transition-transform"})})]})]}),i.jsxs("div",{className:"text-center space-y-1 w-full px-2 sm:px-4",children:[i.jsx(I1,{isEditing:s,displayName:r,setDisplayName:a,onEdit:()=>n(!0),onUpdate:o,size:"lg"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.email}),t&&i.jsx("p",{className:"text-sm text-primary",children:"Pro User"})]})]}),Ta=({icon:e,label:t,value:r})=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(e,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:r}),i.jsx("span",{className:"text-sm text-muted-foreground",children:t})]}),L1=({followersCount:e,followingCount:t,totalLikes:r})=>i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx(Ta,{icon:_m,label:"followers",value:e}),i.jsx(Ta,{icon:jm,label:"following",value:t}),i.jsx(Ta,{icon:ld,label:"likes",value:r})]}),Pf=({user:e,credits:t,bonusCredits:r,activeTab:s})=>{const{logout:n}=$e(),{data:a}=Ut(e==null?void 0:e.id),{data:o}=Cf(e==null?void 0:e.id),[l,c]=k.useState(!1),[d,u]=k.useState(""),[h,f]=k.useState(!1),m=Ze(),g=Se();kf(e==null?void 0:e.id);const{data:y={followers:0,following:0}}=me({queryKey:["followCounts",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return{followers:0,following:0};const[x,j]=await Promise.all([R.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id),R.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.id)]);return{followers:x.count||0,following:j.count||0}},enabled:!!(e!=null&&e.id)}),{data:b=0}=me({queryKey:["totalLikes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:x,error:j}=await R.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id);if(j)throw j;return x||0},enabled:!!(e!=null&&e.id)});k.useEffect(()=>{var x;e&&u(((x=e.user_metadata)==null?void 0:x.display_name)||(e.email?e.email.split("@")[0]:"")||"")},[e]);const v=async()=>{try{const{error:x}=await R.auth.updateUser({data:{display_name:d}});if(x)throw x;await R.from("profiles").update({display_name:d}).eq("id",e.id),q.success("Display name updated successfully"),c(!1)}catch(x){q.error("Failed to update display name"),console.error("Error updating display name:",x)}},w=async x=>{var T;const j=(T=x.target.files)==null?void 0:T[0];await Po(j,e==null?void 0:e.id)&&(m.invalidateQueries(["user"]),f(!1))};return s!=="profile"?null:i.jsxs("div",{className:"fixed inset-0 z-50 bg-background md:hidden",children:[i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b px-4 py-3",children:i.jsx("h2",{className:"text-lg font-semibold",children:"Profile"})}),i.jsx(ut,{className:"flex-1",children:e?i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsx(M1,{user:e,isPro:a,displayName:d,isEditing:l,setIsEditing:c,setDisplayName:u,onUpdate:v,onAvatarEdit:()=>f(!0)}),i.jsx(L1,{followersCount:y.followers,followingCount:y.following,totalLikes:b}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Credits"}),i.jsxs("span",{className:"text-sm",children:[t,"+ B",r]})]})}),!a&&!o&&i.jsxs(B,{variant:"default",className:"w-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-amber-500 hover:from-yellow-400 hover:via-yellow-600 hover:to-amber-600",onClick:()=>q.error("Pro request feature not implemented"),children:[i.jsx(wd,{className:"w-4 h-4 mr-2"}),"Request Pro Access"]}),!a&&o&&i.jsx("div",{className:"text-sm text-center text-muted-foreground p-3 bg-muted rounded-lg",children:"Pro request under review"}),i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>n(),children:[i.jsx(gi,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]}):i.jsx("div",{className:"flex flex-col items-center p-8 space-y-4",children:i.jsx(B,{className:"w-full",onClick:()=>g("/login"),children:"Sign In"})})})]}),i.jsx(_f,{open:h,onOpenChange:f,children:i.jsxs(_o,{children:[i.jsxs(jo,{children:[i.jsx(No,{children:"Change Profile Picture"}),i.jsx(So,{children:"Would you like to upload a new profile picture?"})]}),i.jsxs(ko,{children:[i.jsx(Co,{children:"Cancel"}),i.jsx(To,{onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=w,x.click()},children:"Upload"})]})]})})]})},Af=(e,t,r)=>{const s=Se(),n=lr("(max-width: 768px)");return{handleRemix:o=>{if(!e){q.error("Please sign in to remix images");return}t&&typeof t=="function"&&t(o),r&&typeof r=="function"&&r();const l=n?"#imagegenerate":"#myimages";s(`/?remix=${o.id}${l}`,{replace:!0})}}},Ro=e=>{var o;const{session:t}=$e(),r=(o=t==null?void 0:t.user)==null?void 0:o.id,s=Ze(),{data:n}=me({queryKey:["follows",r],queryFn:async()=>{if(!r)return{isFollowing:!1,following:[]};const{data:l}=await R.from("user_follows").select("following_id").eq("follower_id",r),c=(l==null?void 0:l.map(u=>u.following_id))||[];return{isFollowing:e?c.includes(e):!1,following:c}},enabled:!!r}),{mutate:a}=Tr({mutationFn:async()=>{if(!r||!e)throw new Error("User must be logged in to follow others");if(r===e)throw new Error("Users cannot follow themselves");const l=n==null?void 0:n.isFollowing,{data:c}=await R.from("profiles").select("display_name, avatar_url").eq("id",r).single();if(l){const{error:u}=await R.from("user_follows").delete().eq("follower_id",r).eq("following_id",e);if(u)throw u}else{const{error:u}=await R.from("user_follows").insert({follower_id:r,following_id:e});if(u)throw u;const{error:h}=await R.from("notifications").insert([{user_id:e,title:"New Follower",message:`${(c==null?void 0:c.display_name)||"Someone"} started following you`,image_url:(c==null?void 0:c.avatar_url)||"",link:`/profile/${r}`,link_names:"View Profile"}]);if(h)throw h}const{data:d}=await R.from("profiles").select("followers_count, following_count").eq("id",r).single();d&&await R.auth.updateUser({data:{followers_count:d.followers_count,following_count:d.following_count}})},onSuccess:()=>{s.invalidateQueries(["follows",r]),s.invalidateQueries(["user",e]),s.invalidateQueries(["user",r]),s.invalidateQueries(["profile",e]),s.invalidateQueries(["profile",r]),q.success(n!=null&&n.isFollowing?"Unfollowed successfully":"Followed successfully")},onError:l=>{q.error("Failed to update follow status"),console.error("Follow error:",l)}});return{isFollowing:(n==null?void 0:n.isFollowing)||!1,following:(n==null?void 0:n.following)||[],toggleFollow:a}},Ef=({userId:e,className:t})=>{const{isFollowing:r,toggleFollow:s}=Ro(e),[n,a]=p.useState(null),o=()=>{s(),a(!r),setTimeout(()=>{a(null)},5e3)},l=n??r;return i.jsx(Ue,{variant:l?"outline":"default",className:_("cursor-pointer transition-all duration-200",l&&"bg-destructive/10 hover:bg-destructive/20 text-destructive",t),onClick:o,children:l?"Unfollow":"Follow"})},$1=e=>{const t=Ze();p.useEffect(()=>{if(!e)return;const n=R.channel("image_privacy_channel").on("postgres_changes",{event:"*",schema:"public",table:"user_images",filter:`id=eq.${e}`},()=>{t.invalidateQueries(["imagePrivacy",e])}).subscribe();return()=>{n.unsubscribe()}},[e,t]);const{data:r}=me({queryKey:["imagePrivacy",e],queryFn:async()=>{if(!e)return!1;const{data:n,error:a}=await R.from("user_images").select("is_private").eq("id",e).single();if(a)throw a;return(n==null?void 0:n.is_private)||!1},enabled:!!e}),s=Tr({mutationFn:async()=>{const{error:n}=await R.from("user_images").update({is_private:!r}).eq("id",e);if(n)throw n},onSuccess:()=>{t.invalidateQueries(["imagePrivacy",e])}});return{isPrivate:r||!1,togglePrivacy:s.mutate}},F1=({image:e,isOwner:t})=>{const{isPrivate:r,togglePrivacy:s}=$1(e==null?void 0:e.id),[n,a]=p.useState(null),[o,l]=p.useState(!1);if(!t)return null;const c=()=>{s(),a(!r),l(!0),setTimeout(()=>{a(null)},5e3)},d=n??r;return i.jsxs("div",{className:"relative h-7 w-7",children:[i.jsx(B,{variant:"ghost",size:"icon",onClick:c,className:_("h-7 w-7 p-0 rounded-lg",d?"bg-primary/10 hover:bg-primary/20 text-primary":"bg-muted/5 hover:bg-muted/10 text-muted-foreground/70","transition-all duration-200"),title:d?"Make public":"Make private",children:d?i.jsx(Or,{className:"h-4 w-4"}):i.jsx(_d,{className:"h-4 w-4"})}),o&&i.jsx("div",{className:"absolute -top-1.5 -left-1.5 flex items-center justify-center bg-card rounded-lg",children:i.jsx("video",{src:d?"https://res.cloudinary.com/drhx7imeb/video/upload/v1735205358/Animation_-_1735139717633_rxfctn.webm":"https://res.cloudinary.com/drhx7imeb/video/upload/v1735206538/Animation_-_1735206487478_il1vfw.webm",autoPlay:!0,muted:!0,className:"h-10 w-10",onEnded:u=>{u.target.currentTime=0,u.target.pause(),l(!1)}})})]})},Df=({owner:e,image:t,isOwner:r,userLikes:s,toggleLike:n,likeCount:a,onLike:o})=>{const l=Se(),{data:c}=Ut(t.user_id),d=()=>{l(`/profile/${t.user_id}`)};return i.jsxs("div",{className:"flex items-center justify-between p-1",children:[i.jsxs("div",{className:"flex items-center gap-2.5 cursor-pointer rounded-xl px-2 py-1.5 transition-colors hover:bg-accent/10",onClick:d,children:[i.jsx(Rr,{user:{email:e==null?void 0:e.email},avatarUrl:e==null?void 0:e.avatar_url,size:"sm",isPro:c}),i.jsx("span",{className:"text-xs font-medium text-foreground/90",children:e==null?void 0:e.display_name})]}),i.jsxs("div",{className:"flex items-center gap-2.5",children:[!r&&i.jsx(Ef,{userId:t.user_id}),i.jsx(F1,{image:t,isOwner:r}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-xl bg-muted/5 px-3 py-1.5",children:[i.jsx(nf,{isLiked:s==null?void 0:s.includes(t.id),onToggle:()=>n(t.id),onLike:o}),i.jsx("span",{className:"text-xs text-muted-foreground/70",children:a})]})]})]})},Ls=({image:e,isOpen:t,onClose:r,onDownload:s,onDiscard:n,onRemix:a,isOwner:o,setStyle:l,setActiveTab:c})=>{var D,F;const{session:d}=$e(),{data:u}=dt(),[h,f]=p.useState("copy"),[m,g]=p.useState("share"),[y,b]=p.useState(!1),{userLikes:v,toggleLike:w}=wo((D=d==null?void 0:d.user)==null?void 0:D.id),x=Ze(),j=Se();lr("(max-width: 768px)"),Af(d,a,r);const{data:N}=me({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>{if(!(e!=null&&e.user_id))return null;const{data:$}=await R.from("profiles").select("*").eq("id",e.user_id).single();return $},enabled:!!(e!=null&&e.user_id)}),{data:T=0}=me({queryKey:["likes",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return 0;const{count:$}=await R.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);return $||0},enabled:!!(e!=null&&e.id)}),P=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),f("check"),setTimeout(()=>f("copy"),1500)},S=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),g("check"),setTimeout(()=>g("share"),1500)},C=async()=>{try{await An(e,x),r()}catch($){console.error("Error in handleDiscard:",$)}},M=()=>{if(!d){q.error("Please sign in to remix images");return}j(`/?remix=${e.id}#myimages`,{replace:!0})},O=e?[{label:"Model",value:((F=u==null?void 0:u[e.model])==null?void 0:F.name)||e.model},{label:"Seed",value:e.seed},{label:"Size",value:`${e.width}x${e.height}`},{label:"Aspect Ratio",value:e.aspect_ratio||"1:1"},{label:"Quality",value:e.quality},{label:"Created",value:Ms(new Date(e.created_at),"MMM d, yyyy h:mm a")}]:[],A=()=>{b(!0),setTimeout(()=>{b(!1)},800)},E=$=>{$.preventDefault(),$.stopPropagation(),v!=null&&v.includes(e==null?void 0:e.id)||(A(),w(e==null?void 0:e.id))};return e?i.jsx(yo,{open:t,onOpenChange:r,children:i.jsxs(Gn,{className:_("max-w-[100vw] max-h-[100vh] w-[100vw] h-[100vh] p-0","bg-background backdrop-blur-[2px]","data-[state=open]:duration-0 [&>button]:hidden","rounded-none border-none"),children:[i.jsx("div",{className:"absolute left-4 top-4 z-50",children:i.jsx(B,{variant:"ghost",size:"icon",onClick:r,className:_("h-8 w-8 p-0 rounded-xl","bg-card/80 backdrop-blur-[2px]","hover:bg-card/90","transition-all duration-200"),children:i.jsx(Mr,{className:"h-5 w-5 text-foreground/70"})})}),i.jsxs("div",{className:"flex h-full",children:[i.jsxs("div",{className:"flex-1 relative flex items-center justify-center bg-background backdrop-blur-[2px]",children:[i.jsx("img",{src:R.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl,alt:e.prompt,className:_("max-w-full max-h-[calc(100vh-2rem)]","object-contain","transition-all duration-300"),onDoubleClick:E}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx(Kn,{isAnimating:y})})]}),i.jsx("div",{className:"w-[380px] p-3",children:i.jsx("div",{className:_("h-[calc(100vh-24px)] rounded-lg","border border-border bg-card","backdrop-blur-[2px]","shadow-[0_8px_30px_rgb(0,0,0,0.06)]"),children:i.jsx(ut,{className:"h-full",children:i.jsxs("div",{className:"p-3 space-y-4",children:[d&&i.jsxs(i.Fragment,{children:[i.jsx(Df,{owner:N,image:e,isOwner:o,userLikes:v,toggleLike:w,likeCount:T,onLike:A}),i.jsxs("div",{className:"flex gap-1.5",children:[o&&i.jsxs(B,{onClick:C,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-md text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[i.jsx(an,{className:"mr-1.5 h-3.5 w-3.5"}),i.jsx("span",{children:"Discard"})]}),i.jsxs(B,{onClick:s,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(on,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Download"})]}),i.jsxs(B,{onClick:M,variant:"ghost",size:"sm",className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(jd,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Remix"})]})]})]}),i.jsx(po,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:h,shareIcon:m,onCopyPrompt:P,onShare:S}),i.jsx(go,{detailItems:O})]})})})})]})]})}):null},V1=({generatingImages:e=[]})=>{const{data:t}=dt(),[r,s]=p.useState(!1);if(p.useEffect(()=>{e.length>0?s(!0):s(!1)},[e.length]),!r)return null;const n=e.filter(d=>d.status==="processing").length,a=e.filter(d=>d.status==="pending").length,o=e.filter(d=>d.status==="completed").length,l=e.length>0&&e.every(d=>d.status==="completed"),c=[...e].sort((d,u)=>{const h={processing:0,pending:1,completed:2};return h[d.status]-h[u.status]});return i.jsxs(fo,{children:[i.jsx(mo,{asChild:!0,children:i.jsxs(B,{variant:"ghost",size:"sm",className:_("h-8 rounded-xl bg-background/50 hover:bg-accent","transition-all duration-200",l&&"text-primary"),children:[l?i.jsx("div",{className:_("p-1 rounded-lg mr-2","animate-in zoom-in duration-300"),children:i.jsx(it,{className:"w-4 h-4 text-primary/90"})}):i.jsx("div",{className:"p-1 rounded-lg mr-2",children:i.jsx(Lt,{className:"w-4 h-4 animate-spin text-primary/90"})}),i.jsx("span",{className:"text-sm",children:n>0?"Generating":a>0?`Queued-${a}`:o>0?`Generated-${o}`:"Complete"})]})}),i.jsx(zn,{align:"end",className:"p-2 border-border/80 bg-card m-4",children:i.jsx(ut,{className:"max-h-[600px] scrollbar-none",children:c.map(d=>{var u;return i.jsxs(kr,{className:_("flex flex-col items-start gap-2 p-3 rounded-lg","transition-all duration-200","hover:bg-accent/10 focus:bg-accent/10","group relative overflow-hidden",d.status==="processing"&&"min-h-[90px]"),children:[d.status==="processing"&&i.jsx(Ur,{className:"opacity-50",intensity:"strong",speed:"fast",size:1e3}),i.jsxs("div",{className:"flex items-center gap-3 w-full relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1 rounded-lg ",children:d.status==="processing"?i.jsx(Lt,{className:"w-3.5 h-3.5 animate-spin text-primary/90"}):d.status==="pending"?i.jsx(Da,{className:"w-3.5 h-3.5 text-muted-foreground/70"}):i.jsx(it,{className:"w-3.5 h-3.5 text-primary/90"})}),i.jsx("span",{className:"text-sm font-medium text-primary/90",children:d.status==="processing"?"Generating...":d.status==="pending"?"Queued":"Complete"})]}),i.jsxs(Ue,{variant:"secondary",className:_("ml-auto bg-muted/20 hover:bg-muted/30 text-foreground/70","transition-colors duration-200"),children:[d.width,"x",d.height]})]}),d.prompt&&i.jsx("span",{className:"text-xs text-muted-foreground/60 truncate w-full group-hover:text-muted-foreground/70 transition-colors duration-200",children:d.prompt.length>50?`${d.prompt.substring(0,50)}...`:d.prompt}),i.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground/50 group-hover:text-muted-foreground/60 transition-colors duration-200",children:i.jsx("span",{children:((u=t==null?void 0:t[d.model])==null?void 0:u.name)||d.model})})]},d.id)})})})]})},U1=({generatingImages:e})=>{const t=Se(),r=et(),s=r.pathname==="/inspiration",n=r.pathname==="/"&&(!r.hash||r.hash==="#myimages");return i.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[i.jsx(B,{variant:n?"default":"ghost",onClick:()=>t("/#myimages"),className:_("h-8 text-xs px-4 rounded-xl bg-background/50 hover:bg-background/70",n&&"bg-primary hover:bg-primary/80 text-primary-foreground","transition-all duration-200"),"aria-pressed":n,children:"My Images"}),i.jsx(B,{variant:s?"default":"ghost",onClick:()=>t("/inspiration"),className:_("h-8 text-xs px-4 rounded-xl bg-background/50 hover:bg-background/70",s&&"bg-primary hover:bg-primary/80 text-primary-foreground","transition-all duration-200"),"aria-pressed":s,children:"Inspiration"}),i.jsx(V1,{generatingImages:e})]})},Rf=({onSearch:e,initialQuery:t="",className:r,onSearchOpenChange:s})=>{const[n,a]=p.useState(!!t),[o,l]=p.useState(t);p.useEffect(()=>{t!==o&&(l(t),a(!!t))},[t]),p.useEffect(()=>{s==null||s(n)},[n,s]);const c=h=>{l(h),e(h)},d=()=>{n&&c(""),a(!n)},u=h=>{h.key==="Escape"&&(c(""),a(!1))};return i.jsx("div",{className:_("flex items-center gap-1.5 transition-all duration-200",n?"w-full":"w-8",r),children:n?i.jsxs("div",{className:"flex items-center gap-1.5 w-full animate-in fade-in-0 zoom-in-95 duration-200",children:[i.jsx("div",{className:"relative flex-1",children:i.jsx(Ps,{placeholder:"Search...",value:o,onChange:h=>c(h.target.value),onKeyDown:u,className:_("h-8 w-full text-sm","bg-muted/5 hover:bg-muted/10 focus:bg-muted/10","border-border/5 focus-visible:border-border/80","rounded-xl transition-all duration-200","placeholder:text-muted-foreground/40"),autoFocus:!0})}),i.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10 flex-shrink-0",onClick:d,children:i.jsx(Ir,{className:"h-4 w-4 text-foreground/70"})})]}):i.jsx(B,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-xl hover:bg-accent/10",onClick:d,children:i.jsx(km,{className:"h-4 w-4 text-foreground/70"})})})},Of=({showPrivate:e,onToggle:t})=>i.jsxs(B,{variant:e?"default":"ghost",size:"sm",onClick:()=>{t(!e)},className:_("h-7 px-3 flex items-center gap-1.5 rounded-lg",e?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),title:e?"Show public images":"Show private images",children:[e?i.jsx(Or,{className:"h-3.5 w-3.5"}):i.jsx(_d,{className:"h-3.5 w-3.5 text-foreground/80"}),i.jsx("span",{className:"hidden md:inline text-xs",children:"Private"})]}),If=({className:e})=>{const t=Se(),s=et().hash.replace("#",""),n=()=>{t("/inspiration#following")},a=()=>{t("/inspiration#top")},o=()=>{t("/inspiration#latest")};return i.jsxs("div",{className:_("flex gap-1.5",e),children:[i.jsx(B,{variant:s==="following"?"default":"ghost",size:"sm",onClick:n,className:_("h-7 text-xs px-3 rounded-lg",s==="following"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Following"}),i.jsx(B,{variant:s==="top"?"default":"ghost",size:"sm",onClick:a,className:_("h-7 text-xs px-3 rounded-lg",s==="top"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Top"}),i.jsx(B,{variant:s==="latest"?"default":"ghost",size:"sm",onClick:o,className:_("h-7 text-xs px-3 rounded-lg",s==="latest"?"bg-primary/90 hover:bg-primary/80 text-primary-foreground shadow-sm":"bg-muted/5 hover:bg-muted/10","transition-all duration-200"),children:"Latest"})]})},Mf=({user:e,credits:t,bonusCredits:r,generatingImages:s,onSearch:n,showPrivate:a,onTogglePrivate:o,nsfwEnabled:l,setNsfwEnabled:c,showFollowing:d,showTop:u,onFollowingChange:h,onTopChange:f})=>{const m=et(),g=m.pathname==="/inspiration",y=m.pathname==="/"&&(!m.hash||m.hash==="#myimages");return i.jsx(i.Fragment,{children:i.jsx("div",{className:_("hidden md:block fixed top-0 left-0 right-0 z-10 h-12","bg-background/95 backdrop-blur-[2px]","border-b border-border/50"),children:i.jsx("div",{className:"flex justify-between items-center h-full px-10 max-w-full",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8",children:i.jsx(Nf,{user:e,credits:t,bonusCredits:r,nsfwEnabled:l,setNsfwEnabled:c})}),i.jsx("div",{className:"h-8",children:i.jsx(wf,{})}),i.jsx(U1,{generatingImages:s,className:"gap-3",buttonClassName:_("h-8 rounded-lg px-3","bg-transparent hover:bg-muted/10","text-foreground/70 hover:text-foreground","transition-colors duration-200")}),y&&i.jsx(Of,{showPrivate:a,onToggle:o}),g&&i.jsx(If,{className:"flex-1"}),i.jsx(Rf,{onSearch:n})]})})})})},Lf=({activeFilters:e,onFilterChange:t,onRemoveFilter:r,onSearch:s,isVisible:n,nsfwEnabled:a,showPrivate:o,onTogglePrivate:l,showFollowing:c,showTop:d,onFollowingChange:u,onTopChange:h})=>{const f=et(),m=f.pathname==="/inspiration",g=f.pathname==="/"&&(!f.hash||f.hash==="#myimages"),[y,b]=p.useState(!1);return i.jsxs("div",{className:_("md:hidden fixed top-0 left-0 right-0 z-10","bg-background/95 backdrop-blur-[2px]","border-b border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300 ease-in-out",n?"translate-y-0":"-translate-y-full"),children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-2 h-10",children:[!y&&i.jsxs(i.Fragment,{children:[g&&i.jsx(Of,{showPrivate:o,onToggle:l}),m&&i.jsx(If,{className:"flex-1"})]}),i.jsx(Rf,{onSearch:s,onSearchOpenChange:b,className:_("transition-all duration-200",y?"px-2":"ml-auto")})]}),i.jsx("div",{className:"h-1.5 bg-gradient-to-b from-background/50 to-transparent pointer-events-none"})]})},Ca=["Tips: Try Remix an Image you like","Tips: Use FLux.1 Dev model for precise results","Tips: Use different models for different results","Tips: Try click the HD badge to improve quality to HD+","Tips: Use the 'Improve' button to enhance your prompt","Tips: Play with the slider to change the aspect ratio","Tips: Explore Inspiration page for more ideas","Tips: Use Stable Diffusion 3.5 large for more vibrant results"],q1=({prompt:e,onChange:t,onKeyDown:r,onSubmit:s,hasEnoughCredits:n,onClear:a,credits:o,bonusCredits:l,className:c,userId:d,onVisibilityChange:u,activeModel:h,modelConfigs:f})=>{const[m,g]=p.useState(!1),[y,b]=p.useState(0),v=p.useRef(null),w=p.useRef(null),j=(o||0)+(l||0)>=1,{isImproving:N,improveCurrentPrompt:T}=Pn(d);p.useEffect(()=>{const M=setInterval(()=>{b(O=>(O+1)%Ca.length)},1e4);return()=>clearInterval(M)},[]),p.useEffect(()=>{if(!v.current)return;const M=new IntersectionObserver(([O])=>{g(!O.isIntersecting),u==null||u(O.isIntersecting)},{threshold:0,rootMargin:"-64px 0px 0px 0px"});return M.observe(v.current),()=>M.disconnect()},[u]);const P=M=>{typeof t=="function"&&t({target:{value:M.target.value}})},S=async()=>{if(!d){q.error("Please sign in to improve prompts");return}if(!j){q.error("Not enough credits for prompt improvement");return}try{let M="",O=!0;await T(e,h,f,(A,E)=>{E?(O&&(t({target:{value:""}}),O=!1),M+=A,t({target:{value:M}})):t({target:{value:A}})})}catch(M){console.error("Error improving prompt:",M),q.error("Failed to improve prompt")}},C=async()=>{if(!(e!=null&&e.trim())){q.error("Please enter a prompt");return}a(),await s()};return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:v,className:_("hidden md:block w-full max-w-[850px] mx-auto px-2 mt-20 transition-all duration-300",c),children:i.jsxs("div",{className:"relative bg-card border border-border/80 rounded-2xl transition-all duration-300",children:[N&&i.jsx(Ur,{className:"absolute inset-0 rounded-2xl animate-faster",intensity:"strong",speed:"fast",size:1200}),i.jsxs("div",{className:"p-2",children:[i.jsx("div",{className:"relative",children:i.jsx("textarea",{ref:w,value:e,onChange:P,onKeyDown:r,placeholder:Ca[y],className:_("w-full min-h-[250px] resize-none bg-transparent text-base focus:outline-none","placeholder:text-muted-foreground/40 overflow-y-auto scrollbar-none","border-y border-border/5 py-6 px-3","transition-colors duration-200",N&&"opacity-80"),style:{caretColor:"currentColor"},disabled:N})}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"w-[300px]",children:i.jsx(Bn,{credits:o,bonusCredits:l})}),i.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.length)>0&&i.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 rounded-xl hover:bg-background/10",onClick:a,disabled:N,children:i.jsx(Ir,{className:"h-4 w-4 text-foreground/70"})}),i.jsxs(B,{size:"sm",variant:"outline",className:"h-8 rounded-xl bg-card hover:bg-background/10 transition-all duration-200",onClick:S,disabled:!(e!=null&&e.length)||N||!j,children:[N?i.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin text-foreground/70"}):i.jsx(mi,{className:"h-4 w-4 mr-2 text-foreground/70"}),i.jsx("span",{className:"text-sm",children:"Improve"})]}),i.jsxs(B,{size:"sm",className:"h-8 rounded-xl bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:C,disabled:!(e!=null&&e.length)||!n||N,children:[i.jsx("span",{className:"text-sm",children:"Create"}),i.jsx(nn,{className:"ml-2 h-4 w-4"})]})]})]})]})]})}),i.jsx("div",{className:_("hidden md:block fixed top-14 left-0 right-0 z-50 transition-all duration-300 ease-in-out",m?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"),children:i.jsx("div",{className:"max-w-[850px] mx-auto px-10 py-2",children:i.jsx("div",{className:"relative bg-card backdrop-blur-[2px] border border-border/80 rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.06)] transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-4 p-1.5",children:[i.jsx("div",{className:"flex-1 px-4 text-muted-foreground/90 truncate cursor-pointer transition-colors duration-200 hover:text-muted-foreground/80",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{var O,A,E;(O=w.current)==null||O.focus();const M=((A=w.current)==null?void 0:A.value.length)||0;(E=w.current)==null||E.setSelectionRange(M,M)},500)},children:e||Ca[y]}),i.jsxs(B,{size:"sm",className:"h-8 rounded-full bg-primary/90 hover:bg-primary/80 transition-all duration-200",onClick:C,disabled:!(e!=null&&e.length)||!n,children:[i.jsx("span",{className:"text-sm",children:"Create"}),i.jsx(nn,{className:"ml-2 h-4 w-4"})]})]})})})})]})},B1=({session:e,credits:t,bonusCredits:r,activeTab:s,setActiveTab:n,generatingImages:a,nsfwEnabled:o,setNsfwEnabled:l,showPrivate:c,setShowPrivate:d,activeFilters:u,onFilterChange:h,onRemoveFilter:f,onSearch:m,isHeaderVisible:g,handleImageClick:y,handleDownload:b,handleDiscard:v,handleRemix:w,handleViewDetails:x,selectedImage:j,detailsDialogOpen:N,setDetailsDialogOpen:T,fullScreenViewOpen:P,setFullScreenViewOpen:S,imageGeneratorProps:C,proMode:M})=>{var tt,We,K,qe;const O=et(),A=window.innerWidth<768,E=O.pathname==="/inspiration",D=O.hash==="#imagegenerate",F=O.hash==="#notifications",$=A?D:!E,[I,G]=p.useState(!0),[L,W]=p.useState(!1),[Z,X]=p.useState(!1),[H,re]=p.useState(!1),[ce,ye]=p.useState(!1),{following:Q}=Ro((tt=e==null?void 0:e.user)==null?void 0:tt.id),[ne,De]=p.useState("");p.useEffect(()=>{if(A?D:$&&I&&!E&&!ne)X(!0),requestAnimationFrame(()=>{W(!0)});else{W(!1);const ve=setTimeout(()=>{X(!1)},300);return()=>clearTimeout(ve)}},[$,I,E,D,A,ne]),p.useEffect(()=>{const je=()=>{window.innerWidth<768!==A&&window.location.reload()};return window.addEventListener("resize",je),()=>window.removeEventListener("resize",je)},[A]),p.useEffect(()=>{n(D?"input":F?"notifications":"images")},[O.hash,n]);const Fe=je=>{De(je),m(je)},Ae=je=>{d(je)};return p.useEffect(()=>{!E&&!O.hash.includes("myimages")&&(De(""),m(""))},[O.pathname,O.hash]),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen bg-background text-foreground image-generator-content",children:[i.jsx("div",{className:_("flex-grow p-2 md:p-6 overflow-y-auto transition-[padding] duration-300 ease-in-out",D?"hidden md:block":"block",L?"md:pr-[350px]":"md:pr-6","pb-20 md:pb-6"),children:e&&i.jsxs(i.Fragment,{children:[i.jsx(Mf,{user:e.user,credits:t,bonusCredits:r,generatingImages:a,activeFilters:u,onFilterChange:h,onRemoveFilter:f,onSearch:Fe,nsfwEnabled:o,setNsfwEnabled:l,showPrivate:c,onTogglePrivate:Ae,showFollowing:H,showTop:ce,onFollowingChange:re,onTopChange:ye,searchQuery:ne}),i.jsx(Lf,{activeFilters:u,onFilterChange:h,onRemoveFilter:f,onSearch:Fe,isVisible:g,nsfwEnabled:o,showPrivate:c,onTogglePrivate:Ae,showFollowing:H,showTop:ce,onFollowingChange:re,onTopChange:ye,searchQuery:ne}),!E&&!ne&&i.jsx(q1,{prompt:C.prompt,onChange:je=>C.setPrompt(je.target.value),onKeyDown:C.handlePromptKeyDown,onSubmit:C.generateImage,hasEnoughCredits:!0,onClear:()=>C.setPrompt(""),credits:t,bonusCredits:r,userId:(We=e==null?void 0:e.user)==null?void 0:We.id,onVisibilityChange:G,activeModel:C.model,modelConfigs:C.modelConfigs}),i.jsx("div",{className:"md:mt-16 -mx-2 md:mx-0",children:i.jsx(Yn,{userId:(K=e==null?void 0:e.user)==null?void 0:K.id,onImageClick:y,onDownload:b,onDiscard:v,onRemix:w,onViewDetails:x,generatingImages:a,nsfwEnabled:o,modelConfigs:C.modelConfigs,activeFilters:u,searchQuery:ne,showPrivate:c,showFollowing:H,showTop:ce,following:Q,className:"px-1"})})]})}),Z&&!ne&&i.jsx("div",{className:_("w-full md:w-[350px] bg-background text-card-foreground","md:fixed md:right-0 md:top-12 md:bottom-0",D?"block":"hidden md:block","md:h-[calc(100vh-3rem)] relative","transition-transform duration-300 ease-in-out overflow-visible","z-20",L?"translate-x-0":A?"translate-x-full":"md:translate-x-full"),children:i.jsx("div",{className:"min-h-[calc(100vh-56px)] md:h-full overflow-visible md:scrollbar-none px-4 md:px-6 py-4 md:py-4",children:i.jsx(Nj,{...C,hidePromptOnDesktop:!A&&!D,credits:t,bonusCredits:r,session:e,updateCredits:C.updateCredits,proMode:M,nsfwEnabled:o,setNsfwEnabled:l,negativePrompt:C.negativePrompt,setNegativePrompt:C.setNegativePrompt})})})]}),i.jsx(Tf,{activeTab:s}),i.jsx(Pf,{user:e==null?void 0:e.user,credits:t,bonusCredits:r,activeTab:s,nsfwEnabled:o,setNsfwEnabled:l}),i.jsx(Sf,{activeTab:s,setActiveTab:n,session:e,credits:t,bonusCredits:r,generatingImages:a,nsfwEnabled:o,setNsfwEnabled:l}),i.jsx(bo,{open:N,onOpenChange:T,image:j}),i.jsx(Ls,{image:j,isOpen:P,onClose:()=>S(!1),onDownload:b,onDiscard:v,onRemix:w,isOwner:(j==null?void 0:j.user_id)===((qe=e==null?void 0:e.user)==null?void 0:qe.id)})]})},z1=()=>{var Ht,Wt,fr;const[e]=Nm(),t=e.get("remix"),{session:r}=$e(),[s,n]=p.useState(!1),[a,o]=p.useState("images"),{isImproving:l,improveCurrentPrompt:c}=Pn((Ht=r==null?void 0:r.user)==null?void 0:Ht.id),[d,u]=p.useState({}),[h,f]=p.useState(""),[m,g]=p.useState(!1),y=cu(),{credits:b,bonusCredits:v,updateCredits:w}=ou((Wt=r==null?void 0:r.user)==null?void 0:Wt.id),{data:x}=Ut((fr=r==null?void 0:r.user)==null?void 0:fr.id),{data:j}=dt(),N=Ze(),{prompt:T,setPrompt:P,seed:S,setSeed:C,randomizeSeed:M,setRandomizeSeed:O,width:A,setWidth:E,height:D,setHeight:F,model:$,setModel:I,aspectRatio:G,setAspectRatio:L,useAspectRatio:W,setUseAspectRatio:Z,quality:X,setQuality:H,selectedImage:re,setSelectedImage:ce,detailsDialogOpen:ye,setDetailsDialogOpen:Q,fullScreenViewOpen:ne,setFullScreenViewOpen:De,fullScreenImageIndex:Fe,setFullScreenImageIndex:Ae,generatingImages:tt,setGeneratingImages:We,activeView:K,setActiveView:qe,nsfwEnabled:je,setNsfwEnabled:ve,imageCount:Be,setImageCount:cr}=dv(),[Ve,dr]=p.useState(!1),[Br,Te]=p.useState(""),{data:Ce,isLoading:ur}=me({queryKey:["remixImage",t],queryFn:async()=>{if(!t)return null;const{data:xe,error:U}=await R.from("user_images").select("*").eq("id",t).single();if(U)throw U;return xe},enabled:!!t});p.useEffect(()=>{if(Ce){P(Ce.prompt),C(Ce.seed),O(!1),E(Ce.width),F(Ce.height),I(Ce.model),H(Ce.quality),Ce.aspect_ratio&&(L(Ce.aspect_ratio),Z(!0)),o("input");const xe=new URLSearchParams(e);xe.delete("remix"),window.history.replaceState({},"",`${window.location.pathname}${xe.toString()?"?"+xe.toString():""}`)}},[Ce]);const{generateImage:zr}=x0({session:r,prompt:T,seed:S,randomizeSeed:M,width:A,height:D,model:$,quality:X,useAspectRatio:W,aspectRatio:G,updateCredits:w,setGeneratingImages:We,modelConfigs:j,imageCount:Be,negativePrompt:Br}),yt=async()=>{if(!T.trim()){q.error("Please enter a prompt");return}if(!r){q.error("Please sign in to generate images");return}n(!0);try{let xe=T;if(l){const U=await c(T,$,j);if(!U){n(!1);return}xe=U,P(U)}await zr(m,xe)}catch(xe){q.error("Failed to generate image"),console.error(xe)}finally{n(!1)}},{handleImageClick:St,handleModelChange:Bt,handlePromptKeyDown:ot,handleRemix:hr,handleDownload:rt,handleDiscard:zt,handleViewDetails:Hr}=uv({generateImage:yt,setSelectedImage:ce,setFullScreenViewOpen:De,setModel:I,setWidth:E,setHeight:F,setPrompt:P,setSeed:C,setRandomizeSeed:O,setQuality:H,setAspectRatio:L,setUseAspectRatio:Z,aspectRatios:[],session:r,queryClient:N,activeView:K,setDetailsDialogOpen:Q,setActiveView:qe});return p.useEffect(()=>{const xe=window.location.hash;o(xe==="#imagegenerate"?"input":xe==="#notifications"?"notifications":"images")},[window.location.hash]),ur?i.jsx("div",{children:"Loading remix..."}):i.jsx(B1,{session:r,credits:b,bonusCredits:v,activeTab:a,setActiveTab:o,generatingImages:tt,nsfwEnabled:je,setNsfwEnabled:ve,showPrivate:Ve,setShowPrivate:dr,activeFilters:d,onFilterChange:(xe,U)=>u(ae=>({...ae,[xe]:U})),onRemoveFilter:xe=>{const U={...d};delete U[xe],u(U)},onSearch:f,isHeaderVisible:y,handleImageClick:St,handleDownload:rt,handleDiscard:zt,handleRemix:hr,handleViewDetails:Hr,selectedImage:re,detailsDialogOpen:ye,setDetailsDialogOpen:Q,fullScreenViewOpen:ne,setFullScreenViewOpen:De,proMode:x,imageGeneratorProps:{prompt:T,setPrompt:P,handlePromptKeyDown:ot,generateImage:yt,model:$,setModel:Bt,seed:S,setSeed:C,randomizeSeed:M,setRandomizeSeed:O,quality:X,setQuality:H,useAspectRatio:W,setUseAspectRatio:Z,aspectRatio:G,setAspectRatio:L,width:A,setWidth:E,height:D,setHeight:F,imageCount:Be,setImageCount:cr,isPrivate:m,setIsPrivate:g,nsfwEnabled:je,setNsfwEnabled:ve,modelConfigs:j}})},H1=({image:e,isOpen:t,onClose:r,onDownload:s,onDiscard:n,onRemix:a,isOwner:o,isPro:l=!1})=>{var F,$;const{session:c}=$e(),{data:d}=dt(),[u,h]=p.useState("copy"),[f,m]=p.useState("share"),[g,y]=p.useState(!1);p.useState(!1);const b=Se();Af(c,a,r);const v=Ze(),{userLikes:w,toggleLike:x}=wo((F=c==null?void 0:c.user)==null?void 0:F.id),j=lr("(max-width: 768px)");(()=>{if(!(e!=null&&e.storage_path))return null;try{const{data:I}=R.storage.from("user-images").getPublicUrl(e.storage_path);return I==null?void 0:I.publicUrl}catch(I){return console.error("Error getting image URL:",I),null}})();const{data:T}=me({queryKey:["user",e==null?void 0:e.user_id],queryFn:async()=>{const{data:I}=await R.from("profiles").select("*").eq("id",e.user_id).single();return I},enabled:!!(e!=null&&e.user_id)}),{data:P=0}=me({queryKey:["likes",e==null?void 0:e.id],queryFn:async()=>{const{count:I}=await R.from("user_image_likes").select("*",{count:"exact"}).eq("image_id",e.id);return I},enabled:!!(e!=null&&e.id)}),S=async()=>{await navigator.clipboard.writeText(e.user_prompt||e.prompt),h("check"),setTimeout(()=>h("copy"),1500)},C=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/image/${e.id}`),m("check"),setTimeout(()=>m("share"),1500)},M=async()=>{try{await An(e,v),r(),n&&n(e.id)}catch(I){console.error("Error in handleDiscard:",I)}},O=()=>{y(!0),setTimeout(()=>{y(!1)},800)},A=I=>{I.preventDefault(),I.stopPropagation(),w!=null&&w.includes(e.id)||(O(),x(e.id))},E=()=>{if(!c){q.error("Please sign in to remix images");return}b(`/?remix=${e.id}#imagegenerate`,{replace:!0})},D=[{label:"Model",value:(($=d==null?void 0:d[e.model])==null?void 0:$.name)||e.model},{label:"Size",value:`${e.width}x${e.height}`},{label:"Quality",value:e.quality},{label:"Seed",value:e.seed},{label:"Aspect Ratio",value:e.aspect_ratio},{label:"Created",value:Ms(new Date(e.created_at),"MMM d, yyyy h:mm a")}];return i.jsxs("div",{className:_("min-h-screen","bg-background/95 backdrop-blur-[2px]","transition-all duration-300"),children:[i.jsx(B,{variant:"ghost",size:"icon",onClick:r,className:_("fixed top-4 left-4 z-50","h-8 w-8 p-0 rounded-lg","bg-background/80 backdrop-blur-[2px]","hover:bg-background/90","transition-all duration-200"),children:i.jsx(Mr,{className:"h-5 w-5 text-foreground/70"})}),i.jsx(ut,{className:j?"h-[100dvh]":"h-screen",children:i.jsxs("div",{className:"space-y-6 pb-6",children:[e&&i.jsxs("div",{className:_("relative flex items-center justify-center","bg-background/95 backdrop-blur-[2px]","transition-all duration-300"),children:[i.jsx("img",{src:R.storage.from("user-images").getPublicUrl(e.storage_path).data.publicUrl,alt:e.prompt||"Generated image",className:_("w-full h-auto","transition-all duration-300"),onDoubleClick:A,loading:"eager"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsx(Kn,{isAnimating:g})})]}),i.jsxs("div",{className:"px-3 space-y-4",children:[c&&i.jsxs(i.Fragment,{children:[i.jsx(Df,{owner:T,image:e,isOwner:o,userLikes:w,toggleLike:x,likeCount:P,onLike:O}),i.jsxs("div",{className:"flex gap-1.5",children:[o&&i.jsxs(B,{variant:"ghost",size:"sm",onClick:M,className:_("flex-1 h-9 rounded-lg text-xs","bg-destructive/5 hover:bg-destructive/10","text-destructive/90 hover:text-destructive","transition-all duration-200"),children:[i.jsx(an,{className:"mr-1.5 h-3.5 w-3.5"}),i.jsx("span",{children:"Discard"})]}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:s,className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(on,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Download"})]}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:E,className:_("flex-1 h-9 rounded-lg text-xs","bg-muted/5 hover:bg-muted/50","transition-all duration-200"),children:[i.jsx(jd,{className:"mr-1.5 h-3.5 w-3.5 text-foreground/70"}),i.jsx("span",{children:"Remix"})]})]})]}),i.jsx(po,{prompt:e.user_prompt||e.prompt,negative_prompt:e.negative_prompt,copyIcon:u,shareIcon:f,onCopyPrompt:S,onShare:C}),i.jsx(go,{detailItems:D})]})]})})]})},W1=()=>{var l,c;const{imageId:e}=kd(),t=Se(),{session:r}=$e(),s=lr("(max-width: 768px)"),{data:n,isLoading:a}=me({queryKey:["singleImage",e],queryFn:async()=>{const{data:d,error:u}=await R.from("user_images").select("*").eq("id",e).single();if(u)throw u;return d}}),o=async()=>{if(!n)return;const d=R.storage.from("user-images").getPublicUrl(n.storage_path).data.publicUrl;await sf(d,n.prompt)};return a?i.jsx("div",{className:_("min-h-screen p-4","bg-background backdrop-blur-[2px]","transition-all duration-300"),children:i.jsx(Ie,{className:_("w-full h-[60vh]","bg-muted/5","animate-pulse")})}):n?s?i.jsx(H1,{image:n,onClose:()=>t(-1),onDownload:o,isOwner:n.user_id===((l=r==null?void 0:r.user)==null?void 0:l.id),setActiveTab:()=>{},setStyle:()=>{},showFullImage:!0}):i.jsx(Ls,{image:n,isOpen:!0,onClose:()=>t(-1),onDownload:o,onDiscard:()=>{},isOwner:n.user_id===((c=r==null?void 0:r.user)==null?void 0:c.id),setStyle:()=>{},setActiveTab:()=>{}}):i.jsx("div",{className:_("min-h-screen p-4","bg-background backdrop-blur-[2px]","transition-all duration-300"),children:i.jsx("div",{className:_("flex items-center justify-center","h-[60vh]","bg-muted/5 border border-border/80","text-sm text-muted-foreground/70"),children:"Image not found"})})},G1=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},n)=>i.jsx(Nd,{ref:n,decorative:r,orientation:t,className:_("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));G1.displayName=Nd.displayName;const K1=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ie,{className:"h-16 w-16 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{className:"h-4 w-[200px]"}),i.jsx(Ie,{className:"h-4 w-[150px]"})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Ie,{className:"h-8 w-[100px]"}),i.jsx(Ie,{className:"h-8 w-[100px]"}),i.jsx(Ie,{className:"h-8 w-[100px]"})]})]}),Y1=()=>{var h;const{userId:e}=kd(),t=Se(),{session:r}=$e(),s=(h=r==null?void 0:r.user)==null?void 0:h.id,[n,a]=p.useState(null),{data:o,isLoading:l}=me({queryKey:["profile",e],queryFn:async()=>{const{data:f,error:m}=await R.from("profiles").select("*, is_pro").eq("id",e).single();if(m)throw m;return f},enabled:!!e}),{data:c,isLoading:d}=me({queryKey:["userStats",e],queryFn:async()=>{const[f,m,g,y]=await Promise.all([R.from("user_images").select("*",{count:"exact"}).eq("user_id",e).eq("is_private",!1),R.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e),R.from("user_follows").select("*",{count:"exact"}).eq("following_id",e),R.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e)]);return{totalImages:f.count||0,totalLikes:m.count||0,followers:g.count||0,following:y.count||0}},enabled:!!e}),u=f=>{a(f)};return l||d?i.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-8",children:i.jsx(K1,{})}):o?i.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[i.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"container  mx-auto py-6 px-1 space-y-4",children:[i.jsx("div",{className:"flex items-center gap-4 mb-6",children:i.jsxs(B,{variant:"ghost",className:"group flex items-center gap-2 hover:gap-3 transition-all duration-300",onClick:()=>t(-1),children:[i.jsx(Mr,{className:"h-5 w-5 text-primary transition-colors"}),i.jsx("span",{className:"text-2xl font-medium bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Profile"})]})}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx($t,{className:"rounded-2xl border border-border bg-card text-card-foreground relative overflow-hidden",children:i.jsx("div",{className:"p-4 md:p-6 relative",children:i.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Rr,{user:{user_metadata:{avatar_url:o.avatar_url}},avatarUrl:o.avatar_url,size:"lg",isPro:o.is_pro,className:"w-24 h-24 sm:w-28 sm:h-28 ring-2 ring-border ring-offset-2 ring-offset-background"})}),i.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:o.display_name}),i.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Joined ",o!=null&&o.created_at?new Date(o.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):""]})]}),s&&s!==e&&i.jsx("div",{className:"pt-2 sm:max-w-[200px]",children:i.jsx(Ef,{userId:e})})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:_("w-full grid grid-cols-4 gap-2 p-3 rounded-xl","bg-muted/5 hover:bg-muted/10","transition-colors duration-200"),children:[i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.totalImages}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.totalLikes}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.followers}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-base sm:text-lg font-medium text-foreground",children:c.following}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]})]})})]})})}),i.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsx(Yn,{userId:s,profileUserId:e,activeView:"myImages",nsfwEnabled:!1,showPrivate:!1,onImageClick:u})})]})]}),i.jsx($n,{children:n&&i.jsx(Ls,{image:n,isOpen:!!n,onClose:()=>a(null),onDownload:()=>{},onDiscard:()=>{},onRemix:()=>{},isOwner:s===n.user_id})})]}):i.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"container mx-auto px-4 py-8 text-center",children:[i.jsx("h2",{className:"text-2xl font-semibold text-foreground/80",children:"User not found"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"The profile you're looking for doesn't exist."}),i.jsx(B,{variant:"default",className:"mt-4",onClick:()=>t("/"),children:"Return Home"})]})},Jn=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const r=setInterval(()=>{t(s=>{const n=s+2;return n>=100?100:n})},30);return()=>clearInterval(r)},[]),i.jsx("div",{className:_("fixed inset-0 z-50","bg-background/95 backdrop-blur-[2px]","flex flex-col items-center justify-center gap-8","transition-all duration-500"),children:i.jsxs("div",{className:"flex flex-col items-center gap-6",children:[i.jsx("div",{className:_("w-20 h-20 rounded-xl overflow-hidden","border border-border/80","shadow-[0_8px_30px_rgb(0,0,0,0.06)]","transition-all duration-300"),children:i.jsx("img",{src:"/logo2.png",alt:"Ring IG Logo",className:"w-full h-full object-cover"})}),i.jsx("h1",{className:"text-2xl font-medium text-foreground/90",children:"Ring IG"}),i.jsx(uo,{value:e,className:_("w-64 h-1 rounded-full overflow-hidden","bg-muted/5","transition-all duration-300")})]})})},$f=p.createContext(null);function Xn(){const e=p.useContext($f);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const J1=p.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:s,className:n,children:a,...o},l)=>{const[c,d]=Sm({...t,axis:e==="horizontal"?"x":"y"},s),[u,h]=p.useState(!1),[f,m]=p.useState(!1),g=p.useCallback(w=>{w&&(h(w.canScrollPrev()),m(w.canScrollNext()))},[]),y=p.useCallback(()=>{d==null||d.scrollPrev()},[d]),b=p.useCallback(()=>{d==null||d.scrollNext()},[d]),v=p.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),y()):w.key==="ArrowRight"&&(w.preventDefault(),b())},[y,b]);return p.useEffect(()=>{!d||!r||r(d)},[d,r]),p.useEffect(()=>{if(d)return g(d),d.on("reInit",g),d.on("select",g),()=>{d==null||d.off("select",g)}},[d,g]),i.jsx($f.Provider,{value:{carouselRef:c,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:u,canScrollNext:f},children:i.jsx("div",{ref:l,onKeyDownCapture:v,className:_("relative",n),role:"region","aria-roledescription":"carousel",...o,children:a})})});J1.displayName="Carousel";const X1=p.forwardRef(({className:e,...t},r)=>{const{carouselRef:s,orientation:n}=Xn();return i.jsx("div",{ref:s,className:"overflow-hidden",children:i.jsx("div",{ref:r,className:_("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});X1.displayName="CarouselContent";const Q1=p.forwardRef(({className:e,...t},r)=>{const{orientation:s}=Xn();return i.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:_("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",e),...t})});Q1.displayName="CarouselItem";const Z1=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...s},n)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=Xn();return i.jsxs(B,{ref:n,variant:t,size:r,className:_("absolute  h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx(Mr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Z1.displayName="CarouselPrevious";const eN=p.forwardRef(({className:e,variant:t="outline",size:r="icon",...s},n)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=Xn();return i.jsxs(B,{ref:n,variant:t,size:r,className:_("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx(nn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Next slide"})]})});eN.displayName="CarouselNext";const di=({title:e,children:t,icon:r,isPro:s,rightHeader:n,topLeftText:a})=>i.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-border bg-card text-card-foreground relative overflow-hidden",children:[i.jsxs("div",{className:"p-4 md:p-6 relative",children:[a&&i.jsx("span",{className:"absolute top-3 md:top-4 left-4 md:left-6 text-xs text-muted-foreground/70",children:a}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(r,{className:"h-5 w-5 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold",children:e})]}),n]})]}),i.jsx("div",{className:"p-4 md:p-6 pt-0 relative",children:t})]}),tN=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ie,{className:"h-16 w-16 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{className:"h-4 w-[200px]"}),i.jsx(Ie,{className:"h-4 w-[150px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Ie,{className:"h-[200px] rounded-xl"}),i.jsx(Ie,{className:"h-[200px] rounded-xl"})]})]}),rN=({user:e})=>{var s,n;const t=Se(),{data:r}=me({queryKey:["userCardStats",e.id],queryFn:async()=>{const[a,o,l]=await Promise.all([R.from("user_images").select("*",{count:"exact"}).eq("user_id",e.id),R.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.id),R.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.id)]);return{totalImages:a.count||0,totalLikes:o.count||0,followers:l.count||0}}});return i.jsx($t,{className:"min-w-[180px] p-2 cursor-pointer bg-muted/5 hover:bg-muted/10 transition-all duration-300 group border-border/50",onClick:()=>t(`/profile/${e.id}`),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ao,{className:"h-7 w-7 rounded-full",children:[i.jsx(Eo,{src:e.avatar_url,alt:e.display_name}),i.jsx(Do,{children:(n=(s=e.display_name)==null?void 0:s[0])==null?void 0:n.toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate text-xs group-hover:text-primary transition-colors",children:e.display_name}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground",children:[i.jsxs("span",{children:[(r==null?void 0:r.totalImages)||0," images"]}),i.jsx("span",{className:"text-muted-foreground/40",children:"•"}),i.jsxs("span",{children:[(r==null?void 0:r.followers)||0," followers"]})]})]}),i.jsx(Ns,{className:"w-3.5 h-3.5 text-muted-foreground/40 group-hover:text-primary transition-colors"})]})})},$c=({title:e,users:t=[],icon:r})=>t.length===0?null:i.jsx(di,{title:`${e} (${t.length})`,icon:r,children:i.jsx("div",{className:"overflow-x-auto scrollbar-none -mx-6 px-6 -mt-2",children:i.jsx("div",{className:"flex gap-1.5 pb-1",children:t.map(s=>i.jsx(rN,{user:s},s.id))})})}),sN=()=>{var j,N,T,P,S,C,M,O;const{session:e,loading:t,logout:r}=$e(),s=Se(),[n,a]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(""),{data:u}=Ut((j=e==null?void 0:e.user)==null?void 0:j.id),{data:h}=Cf((N=e==null?void 0:e.user)==null?void 0:N.id),[f,m]=p.useState(null);k.useEffect(()=>{var A,E,D,F;if(e!=null&&e.user){const $=((E=(A=e.user)==null?void 0:A.user_metadata)==null?void 0:E.display_name)||((F=(D=e.user)==null?void 0:D.email)==null?void 0:F.split("@")[0])||"";l($),d($)}},[e]);const{data:g,isLoading:y}=me({queryKey:["userStats",(T=e==null?void 0:e.user)==null?void 0:T.id],queryFn:async()=>{var A,E,D,F,$;if(!((A=e==null?void 0:e.user)!=null&&A.id))return null;try{const[I,G,L,W,Z]=await Promise.all([R.from("user_follows").select("*",{count:"exact"}).eq("following_id",e.user.id),R.from("user_follows").select("*",{count:"exact"}).eq("follower_id",e.user.id),R.from("user_image_likes").select("*",{count:"exact"}).eq("created_by",e.user.id),R.from("profiles").select("credit_count, bonus_credits, followers_count, following_count").eq("id",e.user.id).single(),R.from("user_images").select("*",{count:"exact"}).eq("user_id",e.user.id)]);return{followers:((E=W.data)==null?void 0:E.followers_count)||0,following:((D=W.data)==null?void 0:D.following_count)||0,likes:L.count||0,credits:((F=W.data)==null?void 0:F.credit_count)||0,bonusCredits:(($=W.data)==null?void 0:$.bonus_credits)||0,totalImages:Z.count||0}}catch(I){return console.error("Error fetching user stats:",I),{followers:0,following:0,likes:0,credits:0,bonusCredits:0,totalImages:0}}},enabled:!!((P=e==null?void 0:e.user)!=null&&P.id)}),{data:b}=me({queryKey:["followData",(S=e==null?void 0:e.user)==null?void 0:S.id],queryFn:async()=>{var D,F,$;if(!((D=e==null?void 0:e.user)!=null&&D.id))return{followers:[],following:[]};const[A,E]=await Promise.all([R.from("user_follows").select("profiles!user_follows_follower_id_fkey(*)").eq("following_id",e.user.id),R.from("user_follows").select("profiles!user_follows_following_id_fkey(*)").eq("follower_id",e.user.id)]);return{followers:((F=A.data)==null?void 0:F.map(I=>I.profiles))||[],following:(($=E.data)==null?void 0:$.map(I=>I.profiles))||[]}},enabled:!!((C=e==null?void 0:e.user)!=null&&C.id)}),v=async()=>{if(c.trim()===o.trim()){a(!1);return}try{const{error:A}=await R.auth.updateUser({data:{display_name:c}});if(A)throw A;await R.from("profiles").update({display_name:c}).eq("id",e.user.id),l(c),q.success("Display name updated successfully"),a(!1)}catch(A){q.error("Failed to update display name"),console.error("Error updating display name:",A)}},w=async A=>{var D;const E=(D=A.target.files)==null?void 0:D[0];E&&await Po(E,e.user.id)&&q.success("Profile picture updated successfully")},{data:x}=me({queryKey:["profile",(M=e==null?void 0:e.user)==null?void 0:M.id],queryFn:async()=>{var D;if(!((D=e==null?void 0:e.user)!=null&&D.id))return null;const{data:A,error:E}=await R.from("profiles").select("*").eq("id",e.user.id).single();return E?null:A},enabled:!!((O=e==null?void 0:e.user)!=null&&O.id)});return t||y?i.jsx("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:i.jsx(tN,{})}):e?i.jsx("div",{className:"min-h-screen bg-background text-foreground",children:i.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"container max-w-5xl mx-auto py-6 px-1 space-y-4",children:[i.jsx("div",{className:"flex items-center gap-4 mb-6",children:i.jsxs(pi,{to:"/",className:"group flex items-center gap-2 hover:gap-3 transition-all duration-300",children:[i.jsx(Mr,{className:"h-5 w-5 text-primary transition-colors"}),i.jsx("span",{className:"text-2xl font-medium bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Settings"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(di,{title:"Basic Information",icon:ea,topLeftText:x!=null&&x.created_at?`Joined ${new Date(x.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})}`:"",rightHeader:i.jsxs("div",{className:"relative",children:[i.jsx(Rr,{user:e.user,avatarUrl:x==null?void 0:x.avatar_url,isPro:u,size:"md",showEditOnHover:!1,className:"ring-2 ring-border ring-offset-2 ring-offset-background"}),i.jsxs("label",{className:"absolute -bottom-1 -right-1 p-1.5 rounded-full bg-primary text-primary-foreground cursor-pointer hover:bg-primary/90 transition-colors",children:[i.jsx(bd,{className:"w-3.5 h-3.5"}),i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:w})]})]}),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-base",children:"Name"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-base text-muted-foreground",children:o}),i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>a(!0),className:"h-8 w-8 hover:bg-primary/10 hover:text-primary",children:i.jsx(Tm,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-base",children:"Email"}),i.jsx("span",{className:"text-base text-muted-foreground",children:e.user.email})]})]})}),i.jsx(di,{title:"Stats",icon:wd,rightHeader:i.jsxs("div",{className:"flex items-center gap-2",children:[u?i.jsx("span",{className:"text-xs bg-gradient-to-r from-orange-500 via-purple-500 to-pink-500 text-white px-2 py-1 rounded-full",children:"Pro"}):h?i.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full",children:"Requested"}):i.jsx(B,{variant:"outline",size:"sm",className:"h-7 text-xs hover:bg-muted/50",onClick:async()=>{try{await R.from("profiles").update({is_pro_request:!0}).eq("id",e.user.id),q.success("Pro request submitted")}catch{q.error("Failed to submit request")}},children:"Upgrade"}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>{r(),s("/")},className:"h-7 text-xs bg-destructive/5 hover:bg-destructive/10 text-destructive/90 hover:text-destructive",children:[i.jsx(gi,{className:"w-3.5 h-3.5 mr-1.5"}),"Sign out"]})]}),children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.followers)||0}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Followers"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.following)||0}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Following"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.likes)||0}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Likes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"block text-sm font-medium text-foreground",children:(g==null?void 0:g.totalImages)||0}),i.jsx("span",{className:"text-xs text-muted-foreground/80",children:"Images"})]})]}),i.jsx(Bn,{credits:(g==null?void 0:g.credits)||0,bonusCredits:(g==null?void 0:g.bonusCredits)||0})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx($c,{title:"Followers",users:b==null?void 0:b.followers,icon:ea}),i.jsx($c,{title:"Following",users:b==null?void 0:b.following,icon:ea})]}),i.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-4",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Or,{className:"h-5 w-5 text-primary"}),"Your Privates"]}),i.jsx(Yn,{userId:e.user.id,profileUserId:e.user.id,activeView:"myImages",nsfwEnabled:!1,showPrivate:!0,onImageClick:m})]}),i.jsxs($n,{children:[n&&i.jsx(yo,{open:n,onOpenChange:a,children:i.jsxs(Gn,{className:"sm:max-w-[425px]",children:[i.jsx(vo,{children:i.jsx(xo,{children:"Edit Profile"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Display Name"}),i.jsx(Ps,{id:"name",value:c,onChange:A=>d(A.target.value),className:"focus-visible:ring-primary"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),i.jsx(B,{onClick:v,children:"Save Changes"})]})]})]})}),f&&i.jsx(Ls,{image:f,isOpen:!!f,onClose:()=>m(null),onDownload:()=>{},onDiscard:()=>{},onRemix:()=>{},isOwner:e.user.id===f.user_id})]})]})}):(s("/"),null)},Fc="/ring1/logo2.png",Vc=["Create stunning AI art with a single prompt","Transform your imagination into reality","Generate multiple styles with one click","Share and remix creations with the community","Fine-tune your art with advanced controls","Explore endless creative possibilities","Join a community of AI artists"],Pa=["https://i.ibb.co.com/TgcCsdf/HDRDC2.webp","https://i.ibb.co.com/hc3dWxr/images-example-zgfn69jth.jpg","https://i.ibb.co.com/rs5g7Xz/3.png","https://i.ibb.co.com/8PnDLkf/1.png","https://i.ibb.co.com/88P57s7/ID2.png","https://i.ibb.co.com/gjrM8R5/out-0-1.webp","https://i.ibb.co.com/DkdtLrG/Comfy-UI-00047.png","https://i.ibb.co.com/NNWjs4d/A3.png","https://i.ibb.co.com/nkxPsYG/images-2.jpg"],nN=8e3,aN=()=>{const[e,t]=p.useState(0);return p.useEffect(()=>{const r=setInterval(()=>{t(s=>(s+1)%Vc.length)},8e3);return()=>clearInterval(r)},[]),i.jsx("div",{className:"relative h-[2rem] flex items-center justify-center overflow-hidden",children:i.jsx($n,{mode:"wait",children:i.jsx(ie.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{y:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"text-base md:text-lg text-foreground/70 font-normal absolute",children:Vc[e]},e)})})},iN=()=>{const{session:e,loading:t}=$e(),r=Se(),s=et(),[n,a]=p.useState(()=>Math.floor(Math.random()*Pa.length)),[o,l]=p.useState(!0),[c,d]=p.useState(!1);return p.useEffect(()=>{try{const u=window.self!==window.top,h=navigator.userAgent.includes("puppeteer");d(u||h)}catch{d(!0)}},[]),p.useEffect(()=>{var u,h;if(e){const f=((h=(u=s.state)==null?void 0:u.from)==null?void 0:h.pathname)||"/";r(f,{replace:!0})}},[e,t,r,s]),p.useEffect(()=>{const u=setInterval(()=>{a(h=>(h+1)%Pa.length),l(!0)},nN);return()=>clearInterval(u)},[]),p.useEffect(()=>{const u=document.createElement("link");return u.rel="preload",u.as="image",u.href=Fc,document.head.appendChild(u),()=>{document.head.removeChild(u)}},[]),t?i.jsx(Jn,{}):i.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-background backdrop-blur-sm relative overflow-hidden",children:[i.jsx(Ur,{intensity:"medium",speed:"fast",size:800,className:"z-0",className2:"bg-background/5 backdrop-blur-[1px]"}),i.jsx(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,ease:"easeOut"},className:"w-full h-[50vh] md:h-auto md:w-3/5 relative overflow-hidden z-10",children:i.jsx("div",{className:"relative w-full h-full",children:i.jsx("div",{className:"absolute inset-0",children:i.jsx($n,{mode:"wait",children:i.jsx(ie.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"},className:"absolute inset-0",children:i.jsx("img",{src:Pa[n],alt:"Feature showcase",onLoad:()=>l(!1),className:_("w-full h-full object-cover transition-all duration-500",o?"opacity-0":"opacity-100"),style:{imageRendering:"high-quality",WebkitImageSmoothing:"high"}})},n)})})})}),i.jsx(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2,ease:"easeOut"},className:"w-full md:h-auto md:w-3/5 flex items-center justify-center p-2 mt-10 md:mt-0 relative z-10",children:i.jsxs("div",{className:"w-full space-y-4 relative",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"space-y-2 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("h1",{className:"text-3xl md:text-3xl font-medium tracking-tight",children:"Welcome to"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:Fc,alt:"Ring Logo",className:"w-8 h-8 object-contain",loading:"eager",fetchPriority:"high"}),i.jsx("span",{className:"text-3xl md:text-3xl font-medium tracking-tight",children:"ing"})]})]}),i.jsx(aN,{})]}),i.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"space-y-4",children:[i.jsx(o0,{buttonText:"Continue with Google"}),i.jsx("p",{className:"text-center text-sm text-muted-foreground/60",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}),c&&i.jsx("div",{className:"fixed top-4 right-4 bg-red-500/20 border border-red-500/60 backdrop-blur-sm rounded-xl p-3 z-50",children:i.jsx("p",{className:"text-red-500 text-sm font-medium",children:"Please Open Preview in new Tab To Be able to Continue"})})]})},oN=()=>{var F,$,I,G;const{session:e}=$e(),t=Se(),r=et(),[s,n]=p.useState(null),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState({}),[m,g]=p.useState(!1),[y,b]=p.useState(!1),[v,w]=p.useState(!0),[x,j]=p.useState(!1),{credits:N,bonusCredits:T}=ou((F=e==null?void 0:e.user)==null?void 0:F.id),{following:P}=Ro(($=e==null?void 0:e.user)==null?void 0:$.id),S=cu(),[C,M]=p.useState("images");Ut(),p.useEffect(()=>{const L=r.hash.replace("#","");switch(L){case"notifications":M("notifications");break;case"following":b(!0),w(!1),j(!1);break;case"top":b(!1),w(!0),j(!1);break;case"latest":b(!1),w(!1),j(!0);break;default:M("images"),L||(b(!1),w(!0),j(!1),t("/inspiration#top",{replace:!0}))}},[r.hash]);const O=L=>{n(L),c(!0)},A=L=>{n(L),o(!0)},E=async L=>{t(`/remix/${L.id}`)},D=async L=>{const Z=await(await fetch(L.image_url)).blob(),X=window.URL.createObjectURL(Z),H=document.createElement("a");H.href=X,H.download=`${L.id}.png`,document.body.appendChild(H),H.click(),window.URL.revokeObjectURL(X),document.body.removeChild(H)};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Mf,{user:e==null?void 0:e.user,credits:N,bonusCredits:T,onSearch:u,nsfwEnabled:m,setNsfwEnabled:g,activeFilters:h,onFilterChange:(L,W)=>f(Z=>({...Z,[L]:W})),onRemoveFilter:L=>{const W={...h};delete W[L],f(W)},showFollowing:y,showTop:v,showLatest:x,onFollowingChange:b,onTopChange:w,onLatestChange:j}),i.jsx(Lf,{activeFilters:h,onFilterChange:(L,W)=>f(Z=>({...Z,[L]:W})),onRemoveFilter:L=>{const W={...h};delete W[L],f(W)},onSearch:u,isVisible:S,nsfwEnabled:m,onToggleNsfw:()=>g(!m),showFollowing:y,showTop:v,showLatest:x,onFollowingChange:b,onTopChange:w,onLatestChange:j}),i.jsx("main",{className:"pt-16 md:pt-20 px-1 md:px-6 pb-20 md:pb-6",children:i.jsx(Yn,{userId:(I=e==null?void 0:e.user)==null?void 0:I.id,onImageClick:O,onDownload:D,onRemix:E,onViewDetails:A,nsfwEnabled:m,activeFilters:h,searchQuery:d,showPrivate:!1,showFollowing:y,showTop:v,showLatest:x,following:P,className:"px-0"})}),i.jsx(Sf,{activeTab:C,setActiveTab:M,session:e,credits:N,bonusCredits:T,generatingImages:[],nsfwEnabled:m,setNsfwEnabled:g}),i.jsx(Tf,{activeTab:C}),i.jsx(Pf,{user:e==null?void 0:e.user,credits:N,bonusCredits:T,activeTab:C,nsfwEnabled:m,setNsfwEnabled:g}),i.jsx(bo,{open:a,onOpenChange:o,image:s}),i.jsx(Ls,{image:s,isOpen:l,onClose:()=>c(!1),onDownload:D,onRemix:E,isOwner:(s==null?void 0:s.user_id)===((G=e==null?void 0:e.user)==null?void 0:G.id)})]})},mt={heroGlow:"after:absolute after:inset-0 after:bg-[radial-gradient(ellipse_at_center,rgba(var(--primary-rgb),0.15),transparent_50%)] after:animate-mesh after:-z-10",cardGlow:"after:absolute after:inset-0 after:bg-[radial-gradient(ellipse_at_center,rgba(var(--primary-rgb),0.1),transparent_50%)] after:animate-mesh after:-z-10",textGlow:"text-shadow-glow",cardHover:"hover:shadow-lg hover:shadow-primary/10 hover:border-primary/20 transition-all duration-300",gradientBg:"bg-gradient-to-br from-background/95 via-background/98 to-primary/5",gradientText:"bg-gradient-to-r from-primary via-primary/80 to-foreground bg-clip-text text-transparent",buttonGradient:"bg-gradient-to-r from-primary/90 to-primary/80 hover:from-primary/80 hover:to-primary/70"},Aa=({title:e})=>i.jsxs(ie.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},whileHover:{scale:1.02},className:_("relative aspect-video rounded-2xl overflow-hidden group cursor-pointer",mt.gradientBg),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center backdrop-blur-[2px]",children:i.jsx(ie.div,{whileHover:{scale:1.1},className:"p-4 rounded-full bg-primary/20 group-hover:bg-primary/30 transition-all duration-300 border border-primary/20",children:i.jsx(Sd,{className:"h-8 w-8 text-primary"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background/95 to-transparent backdrop-blur-[1px]",children:i.jsx("p",{className:"text-sm font-medium group-hover:text-primary transition-colors duration-300",children:e})})]}),lN=()=>{const[e,t]=p.useState("A mountain landscape"),[r,s]=p.useState(!1),n=()=>{s(!0),t("A majestic mountain landscape at sunset, dramatic lighting, snow-capped peaks, volumetric clouds, ultra detailed, 8k resolution")};return i.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-4",children:[i.jsxs("div",{className:_("bg-muted/30 p-4 rounded-lg relative overflow-hidden",mt.cardHover),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"flex justify-between items-center mb-2 relative",children:[i.jsx("p",{className:"text-sm font-medium",children:"Your Prompt"}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>s(!1),className:"text-xs hover:text-primary transition-colors",children:"Reset"})]}),i.jsx(ie.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-muted-foreground",children:e},e)]}),!r&&i.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:i.jsxs(B,{variant:"outline",size:"sm",onClick:n,className:_("w-full group relative overflow-hidden",mt.cardHover),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsx(Ea,{className:"w-4 h-4 mr-2 text-primary"}),i.jsx("span",{className:"relative",children:"Enhance Prompt"})]})})]})},Uc=["/hero-1.jpg","/hero-2.jpg","/hero-3.jpg","/hero-4.jpg"],cN=()=>{const{data:e}=dt(),[t,r]=p.useState(0),s=Object.entries(e||{}).filter(([a,o])=>o.category!=="NSFW").map(([a,o])=>({id:a,...o,description:dN(a)}));p.useEffect(()=>{const a=setInterval(()=>{r(o=>(o+1)%s.length)},5e3);return()=>clearInterval(a)},[s.length]);const n=s[t];return i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center relative",children:[i.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:1,ease:"easeInOut"},className:"space-y-6 relative",children:[i.jsxs("div",{className:mt.cardGlow,children:[i.jsx(Ue,{variant:"outline",className:"mb-2 bg-gradient-to-r from-primary/30 via-primary/20 to-transparent border-primary/30 backdrop-blur-sm",children:"Model"}),i.jsx("h3",{className:_("text-2xl font-bold mb-2",mt.gradientText,mt.textGlow),children:n==null?void 0:n.name}),i.jsx("p",{className:"text-muted-foreground backdrop-blur-sm",children:n==null?void 0:n.description})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ue,{variant:"secondary",className:"bg-gradient-to-r from-secondary/50 via-secondary/30 to-transparent backdrop-blur-sm",children:n==null?void 0:n.category}),(n==null?void 0:n.isPremium)&&i.jsx(Ue,{variant:"default",className:"bg-gradient-to-r from-orange-500 via-purple-500 to-pink-500 animate-gradient-x backdrop-blur-sm",children:"Premium"})]})]},n==null?void 0:n.id),i.jsxs(ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},transition:{duration:1,ease:"easeInOut"},className:"relative aspect-square rounded-lg overflow-hidden shadow-2xl shadow-primary/20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background/80"}),i.jsx("img",{src:`/model-examples/${n==null?void 0:n.id}.jpg`,alt:n==null?void 0:n.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.1),transparent_70%)] animate-mesh"})]},`image-${n==null?void 0:n.id}`)]})]})},dN=e=>({turbo:"Lightning-fast generation optimized for speed while maintaining quality. Perfect for rapid prototyping and quick iterations.",flux:"Our balanced model offering great quality and reasonable speed. The go-to choice for most creative projects.",fluxDev:"Premium high-fidelity model with enhanced detail and coherence. Ideal for professional-grade creations.",ultra:"The ultimate in image quality, pushing the boundaries of what's possible with AI generation."})[e]||"",uN=()=>{const[e,t]=p.useState("");p.useState(!1);const[r,s]=p.useState(0);return p.useEffect(()=>{const n=()=>{const a=document.querySelectorAll("section[id]");let o="";a.forEach(l=>{const c=l.offsetTop;window.scrollY>=c-100&&(o=l.getAttribute("id"))}),t(o)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),p.useEffect(()=>{const n=setInterval(()=>{s(a=>(a+1)%Uc.length)},5e3);return()=>clearInterval(n)},[]),i.jsxs("div",{className:"min-h-screen bg-background/95 backdrop-blur-sm",children:[i.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 via-background/98 to-background border-b border-border/80",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh pointer-events-none"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,rgba(var(--primary-rgb),0.15),transparent_50%)] animate-mesh pointer-events-none"}),i.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-8 md:py-16 lg:py-24 relative",children:[i.jsxs(pi,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-primary/10 hover:bg-primary/20 transition-colors relative z-10 group",children:[i.jsx(Mr,{className:"w-4 h-4 group-hover:text-primary transition-colors duration-300"}),i.jsx("span",{className:"group-hover:text-primary transition-colors duration-300",children:"Back to App"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center mt-8",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative z-10 space-y-6",children:[i.jsx(Ue,{className:"mb-4 bg-gradient-to-r from-primary/20 via-primary/30 to-primary/10 backdrop-blur-sm border-primary/20",variant:"secondary",children:"Documentation"}),i.jsx("h1",{className:_("text-3xl md:text-4xl lg:text-5xl font-medium tracking-tight",mt.gradientText,mt.textGlow),children:"Create Amazing AI Art"}),i.jsx("p",{className:"text-lg md:text-xl text-foreground/70 backdrop-blur-sm",children:"Learn how to use our powerful AI image generation platform to bring your creative vision to life."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[i.jsxs(B,{size:"lg",className:_(mt.buttonGradient,"rounded-xl"),onClick:()=>window.open("https://www.youtube.com/watch?v=your-tutorial-id","_blank"),children:[i.jsx(Sd,{className:"w-4 h-4 mr-2"}),"Watch Tutorial"]}),i.jsxs(B,{variant:"outline",size:"lg",className:"rounded-xl border-primary/20 hover:bg-primary/10",onClick:()=>{const n=document.getElementById("features");n&&n.scrollIntoView({behavior:"smooth"})},children:[i.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Read Docs"]})]})]}),i.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:_("relative aspect-square rounded-2xl overflow-hidden shadow-2xl shadow-primary/20",mt.heroGlow,"hidden md:block"),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background/90"}),i.jsx("img",{src:Uc[r],alt:"AI Art Example",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.1),transparent_70%)] animate-mesh"})]},r)]})]}),i.jsx("div",{className:"absolute -top-24 right-0 w-96 h-96 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.2),transparent_70%)] rounded-full blur-3xl animate-mesh pointer-events-none"}),i.jsx("div",{className:"absolute -bottom-24 right-48 w-64 h-64 bg-[radial-gradient(circle_at_center,rgba(var(--primary-rgb),0.25),transparent_70%)] rounded-full blur-2xl animate-mesh pointer-events-none"})]}),i.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-8 md:py-16",children:[i.jsxs("section",{id:"models",className:"mb-24 scroll-mt-16",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-2 bg-gradient-to-r from-primary/20 to-primary/10 border-primary/20",children:"Models"}),i.jsx("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Powerful AI Models"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Choose from our suite of specialized models, each optimized for different use cases."})]}),i.jsx(cN,{})]}),i.jsx("section",{className:"py-16 md:py-24",id:"features",children:i.jsx("div",{className:"container max-w-6xl",children:i.jsxs("div",{className:"text-center mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-4",children:"Features"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Advanced Features Made Simple"}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our platform handles the complexity of AI image generation, so you can focus on your creative vision. No technical expertise required - just pure creativity."})]})})}),i.jsxs("section",{id:"getting-started",className:"mb-24 scroll-mt-16",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-2",children:"Getting Started"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Start Creating in Minutes"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Follow our simple guide to begin generating amazing AI art."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[i.jsx(Aa,{title:"Quick Start Tutorial"}),i.jsx("div",{className:"space-y-6",children:[{step:1,title:"Enter Your Prompt",description:"Describe your desired image in detail. The more specific you are, the better the results will be."},{step:2,title:"Choose Your Settings",description:"Select your preferred model and adjust settings like size, quality, and style to match your vision."},{step:3,title:"Generate & Share",description:"Click generate and watch your idea come to life. Save your favorites and share them with the community."}].map(({step:n,title:a,description:o})=>i.jsxs(ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:n*.2},className:"flex gap-4 items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:n}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:a}),i.jsx("p",{className:"text-muted-foreground",children:o})]})]},n))})]})]}),i.jsxs("section",{id:"advanced-techniques",className:"mb-24 scroll-mt-16",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-2",children:"Advanced Techniques"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Master AI Art Creation"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Take your generations to the next level with advanced techniques."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs($t,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Pm,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Prompt Engineering"}),i.jsx("p",{className:"text-muted-foreground",children:"Learn the art of crafting effective prompts that consistently produce amazing results."})]})]}),i.jsx(lN,{})]}),i.jsxs($t,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(Am,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Style Keywords"}),i.jsx("p",{className:"text-muted-foreground",children:"Use these powerful keywords to influence the style of your generations."})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["cinematic","photorealistic","anime","digital art","oil painting","watercolor","concept art","illustration","3D render","studio lighting"].map((n,a)=>i.jsx(Si,{children:i.jsxs(Ti,{children:[i.jsx(Ci,{children:i.jsx(Ue,{variant:"secondary",className:"text-sm cursor-help",children:n})}),i.jsx(En,{children:i.jsx("p",{children:"Click to copy this style keyword"})})]})},a))})]})]})]}),i.jsxs("section",{id:"tips",className:"mb-24 scroll-mt-16",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-2",children:"Tips & Tricks"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pro Tips for Better Results"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Expert advice to help you create better images."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Em,title:"Be Specific",tips:["Use detailed descriptions","Specify lighting conditions","Include style references","Mention camera angles"]},{icon:Dm,title:"Optimize Settings",tips:["Higher steps for detail","Use seed for consistency","Match aspect ratio to need","Balance quality vs speed"]},{icon:Rm,title:"Style Mastery",tips:["Combine multiple styles","Use artistic references","Experiment with models","Save successful prompts"]}].map((n,a)=>i.jsx(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.2},children:i.jsxs($t,{className:"p-6 h-full",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(n.icon,{className:"h-5 w-5 text-primary"})}),i.jsx("h3",{className:"text-xl font-semibold",children:n.title})]}),i.jsx("ul",{className:"space-y-2",children:n.tips.map((o,l)=>i.jsxs(ie.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:a*.2+l*.1},className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Ns,{className:"h-4 w-4 text-primary"}),o]},l))})]})},a))})]}),i.jsxs("section",{id:"resources",className:"scroll-mt-16",children:[i.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:[i.jsx(Ue,{variant:"outline",className:"mb-2",children:"Resources"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Additional Resources"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Helpful resources to expand your knowledge."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsx(Aa,{title:"Advanced Prompt Engineering Tutorial"}),i.jsx(Aa,{title:"Creating Consistent Character Designs"})]})]})]})]})},hN=new Om({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),Zs=({children:e})=>{const{session:t,loading:r}=$e(),s=et(),[n,a]=p.useState(!0);return p.useEffect(()=>{r||a(!1)},[r]),r||n?i.jsx(Jn,{}):!t&&!n?i.jsx(yi,{to:"/login",state:{from:s},replace:!0}):e},fN=({children:e})=>{var o,l;const{session:t,loading:r}=$e(),s=et(),[n,a]=p.useState(!0);if(p.useEffect(()=>{r||a(!1)},[r]),r||n)return i.jsx(Jn,{});if(t&&!n){const c=((l=(o=s.state)==null?void 0:o.from)==null?void 0:l.pathname)||"/";return i.jsx(yi,{to:c,replace:!0})}return e};function mN(){const[e,t]=p.useState(!0);return p.useEffect(()=>{const r=setTimeout(()=>{t(!1)},2500);return()=>clearTimeout(r)},[]),i.jsx(Im,{client:hN,children:i.jsx(Mm,{children:i.jsx(by,{children:i.jsx(Vm,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:i.jsxs(l0,{children:[i.jsxs(Lm,{children:[i.jsx(vt,{path:"/image/:imageId",element:i.jsx(W1,{})}),i.jsx(vt,{path:"/docs",element:i.jsx(uN,{})}),i.jsx(vt,{path:"/auth/callback",element:i.jsx(pN,{})}),i.jsx(vt,{path:"/login",element:i.jsx(fN,{children:i.jsx(iN,{})})}),i.jsx(vt,{path:"/",element:i.jsx(Zs,{children:i.jsx(z1,{})})}),i.jsx(vt,{path:"/profile/:userId",element:i.jsx(Zs,{children:i.jsx(Y1,{})})}),i.jsx(vt,{path:"/userprofile",element:i.jsx(Zs,{children:i.jsx(sN,{})})}),i.jsx(vt,{path:"/inspiration",element:i.jsx(Zs,{children:i.jsx(oN,{})})}),i.jsx(vt,{path:"*",element:i.jsx(yi,{to:"/",replace:!0})})]}),i.jsx(Td,{})]})})})})})}const pN=()=>{const e=Se(),[t,r]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const{error:n}=await R.auth.getSession();if(n)throw n;e("/",{replace:!0})}catch(n){console.error("Error handling auth callback:",n),r(n.message)}})()},[e]),t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-500",children:"Authentication Error"}),i.jsx("p",{className:"text-gray-600",children:t}),i.jsx(B,{onClick:()=>e("/login",{replace:!0}),children:"Back to Login"})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(Jn,{})})};$m.createRoot(document.getElementById("root")).render(i.jsxs(k.StrictMode,{children:[i.jsx(Td,{theme:"dark",position:"top-center",closeButton:!0,richColors:!0,style:{background:"hsl(var(--background))",color:"hsl(var(--foreground))",border:"1px solid hsl(var(--border))"}}),i.jsx(mN,{})]}));
